var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var e={};(function(t,s){e=s()})(e,(function(){let e=0;class Marquee3k{constructor(e,s){(this||t).element=e;(this||t).selector=s.selector;(this||t).speed=e.dataset.speed||.25;(this||t).pausable=e.dataset.pausable;(this||t).reverse=e.dataset.reverse;(this||t).paused=false;(this||t).parent=e.parentElement;(this||t).parentProps=(this||t).parent.getBoundingClientRect();(this||t).content=e.children[0];(this||t).innerContent=(this||t).content.innerHTML;(this||t).wrapStyles="";(this||t).offset=0;this._setupWrapper();this._setupContent();this._setupEvents();(this||t).wrapper.appendChild((this||t).content);(this||t).element.appendChild((this||t).wrapper)}_setupWrapper(){(this||t).wrapper=document.createElement("div");(this||t).wrapper.classList.add("marquee3k__wrapper");(this||t).wrapper.style.whiteSpace="nowrap"}_setupContent(){(this||t).content.classList.add(`${(this||t).selector}__copy`);(this||t).content.style.display="inline-block";(this||t).contentWidth=(this||t).content.offsetWidth;(this||t).requiredReps=(this||t).contentWidth>(this||t).parentProps.width?2:Math.ceil(((this||t).parentProps.width-(this||t).contentWidth)/(this||t).contentWidth)+1;for(let e=0;e<(this||t).requiredReps;e++)this._createClone();(this||t).reverse&&((this||t).offset=-1*(this||t).contentWidth);(this||t).element.classList.add("is-init")}_setupEvents(){(this||t).element.addEventListener("mouseenter",()=>{(this||t).pausable&&((this||t).paused=true)});(this||t).element.addEventListener("mouseleave",()=>{(this||t).pausable&&((this||t).paused=false)})}_createClone(){const e=(this||t).content.cloneNode(true);e.style.display="inline-block";e.classList.add(`${(this||t).selector}__copy`);(this||t).wrapper.appendChild(e)}animate(){if(!(this||t).paused){const e=(this||t).reverse?(this||t).offset<0:(this||t).offset>-1*(this||t).contentWidth;const s=(this||t).reverse?-1:1;const i=(this||t).reverse?-1*(this||t).contentWidth:0;e?(this||t).offset-=(this||t).speed*s:(this||t).offset=i;(this||t).wrapper.style.whiteSpace="nowrap";(this||t).wrapper.style.transform=`translate(${(this||t).offset}px, 0) translateZ(0)`}}_refresh(){(this||t).contentWidth=(this||t).content.offsetWidth}repopulate(e,s){(this||t).contentWidth=(this||t).content.offsetWidth;if(s){const s=Math.ceil(e/(this||t).contentWidth)+1;for(let t=0;t<s;t++)this._createClone()}}static refresh(t){MARQUEES[t]._refresh()}static pause(t){MARQUEES[t].paused=true}static play(t){MARQUEES[t].paused=false}static toggle(t){MARQUEES[t].paused=!MARQUEES[t].paused}static refreshAll(){for(let t=0;t<MARQUEES.length;t++)MARQUEES[t]._refresh()}static pauseAll(){for(let t=0;t<MARQUEES.length;t++)MARQUEES[t].paused=true}static playAll(){for(let t=0;t<MARQUEES.length;t++)MARQUEES[t].paused=false}static toggleAll(){for(let t=0;t<MARQUEES.length;t++)MARQUEES[t].paused=!MARQUEES[t].paused}static init(s={selector:"marquee3k"}){e&&window.cancelAnimationFrame(e);window.MARQUEES=[];const i=Array.from(document.querySelectorAll(`.${s.selector}`));let n=window.innerWidth;let a;for(let t=0;t<i.length;t++){const e=i[t];const n=new Marquee3k(e,s);MARQUEES.push(n)}animate();function animate(){for(let t=0;t<MARQUEES.length;t++)MARQUEES[t].animate();e=window.requestAnimationFrame(animate)}window.addEventListener("resize",()=>{clearTimeout(a);a=setTimeout(()=>{const e=n<window.innerWidth;const s=window.innerWidth-n;for(let t=0;t<MARQUEES.length;t++)MARQUEES[t].repopulate(s,e);n=(this||t).innerWidth},250)})}}return Marquee3k}));var s=e;export default s;

