var _e=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var xe={};!function(_e){xe=_e()}((function(){var xe;return function o(_e,xe,we){function a(Te,Me){if(!xe[Te]){if(!_e[Te]){var Ye=null;if(!Me&&Ye)return Ye(Te,!0);if(Se)return Se(Te,!0);throw(Me=new Error("Cannot find module '"+Te+"'")).code="MODULE_NOT_FOUND",Me}Ye=xe[Te]={exports:{}},_e[Te][0].call(Ye.exports,(function(xe){return a(_e[Te][1][xe]||xe)}),Ye,Ye.exports,o,_e,xe,we)}return xe[Te].exports}for(var Se=null,Te=0;Te<we.length;Te++)a(we[Te]);return a}({1:[function(_e,xe,we){we.byteLength=function(_e){_e=c(_e);var xe=_e[0];_e=_e[1];return 3*(xe+_e)/4-_e},we.toByteArray=function(_e){var xe,we,Se=c(_e),Ye=Se[0],Ze=(Se=Se[1],new Me(function(_e,xe){return 3*(_e+xe)/4-xe}(Ye,Se))),Qe=0,Ke=0<Se?Ye-4:Ye;for(we=0;we<Ke;we+=4)xe=Te[_e.charCodeAt(we)]<<18|Te[_e.charCodeAt(we+1)]<<12|Te[_e.charCodeAt(we+2)]<<6|Te[_e.charCodeAt(we+3)],Ze[Qe++]=xe>>16&255,Ze[Qe++]=xe>>8&255,Ze[Qe++]=255&xe;2===Se&&(xe=Te[_e.charCodeAt(we)]<<2|Te[_e.charCodeAt(we+1)]>>4,Ze[Qe++]=255&xe);1===Se&&(xe=Te[_e.charCodeAt(we)]<<10|Te[_e.charCodeAt(we+1)]<<4|Te[_e.charCodeAt(we+2)]>>2,Ze[Qe++]=xe>>8&255,Ze[Qe++]=255&xe);return Ze},we.fromByteArray=function(_e){for(var xe,we=_e.length,Te=we%3,Me=[],Ye=0,Ze=we-Te;Ye<Ze;Ye+=16383)Me.push(function(_e,xe,we){for(var Te,Me=[],Ye=xe;Ye<we;Ye+=3)Te=(_e[Ye]<<16&16711680)+(_e[Ye+1]<<8&65280)+(255&_e[Ye+2]),Me.push(function(_e){return Se[_e>>18&63]+Se[_e>>12&63]+Se[_e>>6&63]+Se[63&_e]}(Te));return Me.join("")}(_e,Ye,Ze<Ye+16383?Ze:Ye+16383));1==Te?(xe=_e[we-1],Me.push(Se[xe>>2]+Se[xe<<4&63]+"==")):2==Te&&(xe=(_e[we-2]<<8)+_e[we-1],Me.push(Se[xe>>10]+Se[xe>>4&63]+Se[xe<<2&63]+"="));return Me.join("")};for(var Se=[],Te=[],Me="undefined"!=typeof Uint8Array?Uint8Array:Array,Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ze=0,Qe=Ye.length;Ze<Qe;++Ze)Se[Ze]=Ye[Ze],Te[Ye.charCodeAt(Ze)]=Ze;function c(_e){var xe=_e.length;if(0<xe%4)throw new Error("Invalid string. Length must be a multiple of 4");_e=_e.indexOf("="),xe=(_e=-1===_e?xe:_e)===xe?0:4-_e%4;return[_e,xe]}Te["-".charCodeAt(0)]=62,Te["_".charCodeAt(0)]=63},{}],2:[function(_e,xe,we){},{}],3:[function(_e,xe,we){},{}],4:[function(xe,we,Se){!function(we){var Te=xe("base64-js"),Me=xe("ieee754"),Ye="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,Ze=(Se.Buffer=we,Se.SlowBuffer=function(_e){+_e!=_e&&(_e=0);return we.alloc(+_e)},Se.INSPECT_MAX_BYTES=50,2147483647);function l(_e){if(Ze<_e)throw new RangeError('The value "'+_e+'" is invalid for option "size"');_e=new Uint8Array(_e);return Object.setPrototypeOf(_e,we.prototype),_e}function we(_e,xe,we){if("number"!=typeof _e)return o(_e,xe,we);if("string"==typeof xe)throw new TypeError('The "string" argument must be of type string. Received type number');return i(_e)}function o(_e,xe,Se){if("string"==typeof _e){var Te=_e,Me=xe;if(we.isEncoding(Me="string"==typeof Me&&""!==Me?Me:"utf8"))return Ye=0|h(Te,Me),Ze=l(Ye),(Te=Ze.write(Te,Me))!==Ye?Ze.slice(0,Te):Ze;throw new TypeError("Unknown encoding: "+Me)}if(ArrayBuffer.isView(_e))return u(_e);if(null!=_e){if(C(_e,ArrayBuffer)||_e&&C(_e.buffer,ArrayBuffer)){var Ye=_e,Ze=(Te=xe,Se);if(Te<0||Ye.byteLength<Te)throw new RangeError('"offset" is outside of buffer bounds');if(Ye.byteLength<Te+(Ze||0))throw new RangeError('"length" is outside of buffer bounds');return Ye=void 0===Te&&void 0===Ze?new Uint8Array(Ye):void 0===Ze?new Uint8Array(Ye,Te):new Uint8Array(Ye,Te,Ze),Object.setPrototypeOf(Ye,we.prototype),Ye}if("number"==typeof _e)throw new TypeError('The "value" argument must not be of type number. Received type number');Me=_e.valueOf&&_e.valueOf();if(null!=Me&&Me!==_e)return we.from(Me,xe,Se);var Qe=function(_e){var xe,Se;return we.isBuffer(_e)?(xe=0|c(_e.length),0!==(Se=l(xe)).length&&_e.copy(Se,0,0,xe),Se):void 0!==_e.length?"number"!=typeof _e.length||O(_e.length)?l(0):u(_e):"Buffer"===_e.type&&Array.isArray(_e.data)?u(_e.data):void 0}(_e);if(Qe)return Qe;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof _e[Symbol.toPrimitive])return we.from(_e[Symbol.toPrimitive]("string"),xe,Se)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _e)}function n(_e){if("number"!=typeof _e)throw new TypeError('"size" argument must be of type number');if(_e<0)throw new RangeError('The value "'+_e+'" is invalid for option "size"')}function i(_e){return n(_e),l(_e<0?0:0|c(_e))}function u(_e){for(var xe=_e.length<0?0:0|c(_e.length),we=l(xe),Se=0;Se<xe;Se+=1)we[Se]=255&_e[Se];return we}function c(_e){if(Ze<=_e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ze.toString(16)+" bytes");return 0|_e}function h(_e,xe){if(we.isBuffer(_e))return _e.length;if(ArrayBuffer.isView(_e)||C(_e,ArrayBuffer))return _e.byteLength;if("string"!=typeof _e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _e);var Se=_e.length,Te=2<arguments.length&&!0===arguments[2];if(!Te&&0===Se)return 0;for(var Me=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return Se;case"utf8":case"utf-8":return M(_e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Se;case"hex":return Se>>>1;case"base64":return E(_e).length;default:if(Me)return Te?-1:M(_e).length;xe=(""+xe).toLowerCase(),Me=!0}}function r(xe,we,Se){var Me,Ye=!1;if((we=void 0===we||we<0?0:we)>(this||_e).length)return"";if((Se=void 0===Se||Se>(this||_e).length?(this||_e).length:Se)<=0)return"";if((Se>>>=0)<=(we>>>=0))return"";for(xe=xe||"utf8";;)switch(xe){case"hex":var Ze=this||_e,Qe=we,Ke=Se,$e=Ze.length;(!Ke||Ke<0||$e<Ke)&&(Ke=$e);for(var et="",tt=Qe=!Qe||Qe<0?0:Qe;tt<Ke;++tt)et+=Je[Ze[tt]];return et;case"utf8":case"utf-8":return T(this||_e,we,Se);case"ascii":var rt=this||_e,ot=($e=we,Se),nt="";ot=Math.min(rt.length,ot);for(var st=$e;st<ot;++st)nt+=String.fromCharCode(127&rt[st]);return nt;case"latin1":case"binary":var it=this||_e,dt=(Qe=we,Se),ht="";dt=Math.min(it.length,dt);for(var ft=Qe;ft<dt;++ft)ht+=String.fromCharCode(it[ft]);return ht;case"base64":return pt=this||_e,Me=Se,0===(mt=we)&&Me===pt.length?Te.fromByteArray(pt):Te.fromByteArray(pt.slice(mt,Me));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var pt=we,mt=Se,yt=this.slice(pt,mt),gt="",wt=0;wt<yt.length;wt+=2)gt+=String.fromCharCode(yt[wt]+256*yt[wt+1]);return gt;default:if(Ye)throw new TypeError("Unknown encoding: "+xe);xe=(xe+"").toLowerCase(),Ye=!0}}function a(_e,xe,we){var Se=_e[xe];_e[xe]=_e[we],_e[we]=Se}function f(_e,xe,Se,Te,Me){if(0===_e.length)return-1;if("string"==typeof Se?(Te=Se,Se=0):2147483647<Se?Se=2147483647:Se<-2147483648&&(Se=-2147483648),(Se=(Se=O(Se=+Se)?Me?0:_e.length-1:Se)<0?_e.length+Se:Se)>=_e.length){if(Me)return-1;Se=_e.length-1}else if(Se<0){if(!Me)return-1;Se=0}if("string"==typeof xe&&(xe=we.from(xe,Te)),we.isBuffer(xe))return 0===xe.length?-1:p(_e,xe,Se,Te,Me);if("number"==typeof xe)return xe&=255,"function"==typeof Uint8Array.prototype.indexOf?(Me?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(_e,xe,Se):p(_e,[xe],Se,Te,Me);throw new TypeError("val must be string, number or Buffer")}function p(_e,xe,we,Se,Te){var Me=1,Ye=_e.length,Ze=xe.length;if(void 0!==Se&&("ucs2"===(Se=String(Se).toLowerCase())||"ucs-2"===Se||"utf16le"===Se||"utf-16le"===Se)){if(_e.length<2||xe.length<2)return-1;Ye/=Me=2,Ze/=2,we/=2}function l(_e,xe){return 1===Me?_e[xe]:_e.readUInt16BE(xe*Me)}if(Te)for(var Qe=-1,Ke=we;Ke<Ye;Ke++)if(l(_e,Ke)===l(xe,-1===Qe?0:Ke-Qe)){if(Ke-(Qe=-1===Qe?Ke:Qe)+1===Ze)return Qe*Me}else-1!==Qe&&(Ke-=Ke-Qe),Qe=-1;else for(Ke=we=Ye<we+Ze?Ye-Ze:we;0<=Ke;Ke--){for(var Je=!0,$e=0;$e<Ze;$e++)if(l(_e,Ke+$e)!==l(xe,$e)){Je=!1;break}if(Je)return Ke}return-1}function y(_e,xe,we,Se){return k(function(_e){for(var xe=[],we=0;we<_e.length;++we)xe.push(255&_e.charCodeAt(we));return xe}(xe),_e,we,Se)}function g(_e,xe,we,Se){return k(function(_e,xe){for(var we,Se,Te=[],Me=0;Me<_e.length&&!((xe-=2)<0);++Me)Se=_e.charCodeAt(Me),we=Se>>8,Se%=256,Te.push(Se),Te.push(we);return Te}(xe,_e.length-we),_e,we,Se)}function T(_e,xe,we){we=Math.min(_e.length,we);for(var Se=[],Te=xe;Te<we;){var Me,Ye,Ze,Ke,Je=_e[Te],$e=null,et=239<Je?4:223<Je?3:191<Je?2:1;if(Te+et<=we)switch(et){case 1:Je<128&&($e=Je);break;case 2:128==(192&(Me=_e[Te+1]))&&127<(Ke=(31&Je)<<6|63&Me)&&($e=Ke);break;case 3:Me=_e[Te+1],Ye=_e[Te+2],128==(192&Me)&&128==(192&Ye)&&2047<(Ke=(15&Je)<<12|(63&Me)<<6|63&Ye)&&(Ke<55296||57343<Ke)&&($e=Ke);break;case 4:Me=_e[Te+1],Ye=_e[Te+2],Ze=_e[Te+3],128==(192&Me)&&128==(192&Ye)&&128==(192&Ze)&&65535<(Ke=(15&Je)<<18|(63&Me)<<12|(63&Ye)<<6|63&Ze)&&Ke<1114112&&($e=Ke)}null===$e?($e=65533,et=1):65535<$e&&($e-=65536,Se.push($e>>>10&1023|55296),$e=56320|1023&$e),Se.push($e),Te+=et}var tt=Se,rt=tt.length;if(rt<=Qe)return String.fromCharCode.apply(String,tt);for(var ot="",nt=0;nt<rt;)ot+=String.fromCharCode.apply(String,tt.slice(nt,nt+=Qe));return ot}Se.kMaxLength=Ze,(we.TYPED_ARRAY_SUPPORT=function(){try{var _e=new Uint8Array(1),xe={foo:function(){return 42}};return Object.setPrototypeOf(xe,Uint8Array.prototype),Object.setPrototypeOf(_e,xe),42===_e.foo()}catch(_e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(we.prototype,"parent",{enumerable:!0,get:function(){if(we.isBuffer(this||_e))return(this||_e).buffer}}),Object.defineProperty(we.prototype,"offset",{enumerable:!0,get:function(){if(we.isBuffer(this||_e))return(this||_e).byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&we[Symbol.species]===we&&Object.defineProperty(we,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),we.poolSize=8192,we.from=o,Object.setPrototypeOf(we.prototype,Uint8Array.prototype),Object.setPrototypeOf(we,Uint8Array),we.alloc=function(_e,xe,we){return xe,we,n(_e),_e<=0||void 0===xe?l(_e):"string"==typeof we?l(_e).fill(xe,we):l(_e).fill(xe)},we.allocUnsafe=i,we.allocUnsafeSlow=i,we.isBuffer=function(_e){return null!=_e&&!0===_e._isBuffer&&_e!==we.prototype},we.compare=function(_e,xe){if(C(_e,Uint8Array)&&(_e=we.from(_e,_e.offset,_e.byteLength)),C(xe,Uint8Array)&&(xe=we.from(xe,xe.offset,xe.byteLength)),!we.isBuffer(_e)||!we.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_e===xe)return 0;for(var Se=_e.length,Te=xe.length,Me=0,Ye=Math.min(Se,Te);Me<Ye;++Me)if(_e[Me]!==xe[Me]){Se=_e[Me],Te=xe[Me];break}return Se<Te?-1:Te<Se?1:0},we.isEncoding=function(_e){switch(String(_e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},we.concat=function(_e,xe){if(!Array.isArray(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_e.length)return we.alloc(0);if(void 0===xe)for(Me=xe=0;Me<_e.length;++Me)xe+=_e[Me].length;for(var Se=we.allocUnsafe(xe),Te=0,Me=0;Me<_e.length;++Me){var Ye=_e[Me];if(C(Ye,Uint8Array)&&(Ye=we.from(Ye)),!we.isBuffer(Ye))throw new TypeError('"list" argument must be an Array of Buffers');Ye.copy(Se,Te),Te+=Ye.length}return Se},we.byteLength=h,we.prototype._isBuffer=!0,we.prototype.swap16=function(){var xe=(this||_e).length;if(xe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var we=0;we<xe;we+=2)a(this||_e,we,we+1);return this||_e},we.prototype.swap32=function(){var xe=(this||_e).length;if(xe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var we=0;we<xe;we+=4)a(this||_e,we,we+3),a(this||_e,we+1,we+2);return this||_e},we.prototype.swap64=function(){var xe=(this||_e).length;if(xe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var we=0;we<xe;we+=8)a(this||_e,we,we+7),a(this||_e,we+1,we+6),a(this||_e,we+2,we+5),a(this||_e,we+3,we+4);return this||_e},we.prototype.toLocaleString=we.prototype.toString=function(){var xe=(this||_e).length;return 0===xe?"":0===arguments.length?T(this||_e,0,xe):r.apply(this||_e,arguments)},we.prototype.equals=function(xe){if(we.isBuffer(xe))return(this||_e)===xe||0===we.compare(this||_e,xe);throw new TypeError("Argument must be a Buffer")},we.prototype.inspect=function(){var xe="",we=Se.INSPECT_MAX_BYTES;xe=this.toString("hex",0,we).replace(/(.{2})/g,"$1 ").trim();return(this||_e).length>we&&(xe+=" ... "),"<Buffer "+xe+">"},Ye&&(we.prototype[Ye]=we.prototype.inspect),we.prototype.compare=function(xe,Se,Te,Me,Ye){if(C(xe,Uint8Array)&&(xe=we.from(xe,xe.offset,xe.byteLength)),!we.isBuffer(xe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof xe);if(void 0===Te&&(Te=xe?xe.length:0),void 0===Me&&(Me=0),void 0===Ye&&(Ye=(this||_e).length),(Se=void 0===Se?0:Se)<0||Te>xe.length||Me<0||Ye>(this||_e).length)throw new RangeError("out of range index");if(Ye<=Me&&Te<=Se)return 0;if(Ye<=Me)return-1;if(Te<=Se)return 1;if((this||_e)===xe)return 0;for(var Ze=(Ye>>>=0)-(Me>>>=0),Qe=(Te>>>=0)-(Se>>>=0),Ke=Math.min(Ze,Qe),Je=this.slice(Me,Ye),$e=xe.slice(Se,Te),et=0;et<Ke;++et)if(Je[et]!==$e[et]){Ze=Je[et],Qe=$e[et];break}return Ze<Qe?-1:Qe<Ze?1:0},we.prototype.includes=function(_e,xe,we){return-1!==this.indexOf(_e,xe,we)},we.prototype.indexOf=function(xe,we,Se){return f(this||_e,xe,we,Se,!0)},we.prototype.lastIndexOf=function(xe,we,Se){return f(this||_e,xe,we,Se,!1)},we.prototype.write=function(xe,we,Se,Te){if(void 0===we)Te="utf8",Se=(this||_e).length,we=0;else if(void 0===Se&&"string"==typeof we)Te=we,Se=(this||_e).length,we=0;else{if(!isFinite(we))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");we>>>=0,isFinite(Se)?(Se>>>=0,void 0===Te&&(Te="utf8")):(Te=Se,Se=void 0)}var Me=(this||_e).length-we;if((void 0===Se||Me<Se)&&(Se=Me),0<xe.length&&(Se<0||we<0)||we>(this||_e).length)throw new RangeError("Attempt to write outside buffer bounds");Te=Te||"utf8";for(var Ye,Ze,Qe,Ke=!1;;)switch(Te){case"hex":var Je=this||_e,$e=xe,et=we,tt=Se,rt=(et=Number(et)||0,Je.length-et);(!tt||rt<(tt=Number(tt)))&&(tt=rt),(rt=$e.length)/2<tt&&(tt=rt/2);for(var ot=0;ot<tt;++ot){var nt=parseInt($e.substr(2*ot,2),16);if(O(nt))return ot;Je[et+ot]=nt}return ot;case"utf8":case"utf-8":return rt=we,Qe=Se,k(M(xe,(Ze=this||_e).length-rt),Ze,rt,Qe);case"ascii":return y(this||_e,xe,we,Se);case"latin1":case"binary":return y(this||_e,xe,we,Se);case"base64":return Ze=this||_e,Qe=we,Ye=Se,k(E(xe),Ze,Qe,Ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this||_e,xe,we,Se);default:if(Ke)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),Ke=!0}},we.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call((this||_e)._arr||this||_e,0)}};var Qe=4096;function m(_e,xe,we){if(_e%1!=0||_e<0)throw new RangeError("offset is not uint");if(we<_e+xe)throw new RangeError("Trying to access beyond buffer length")}function b(_e,xe,Se,Te,Me,Ye){if(!we.isBuffer(_e))throw new TypeError('"buffer" argument must be a Buffer instance');if(Me<xe||xe<Ye)throw new RangeError('"value" argument is out of bounds');if(Se+Te>_e.length)throw new RangeError("Index out of range")}function j(_e,xe,we,Se){if(we+Se>_e.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("Index out of range")}function _(_e,xe,we,Se,Te){return xe=+xe,we>>>=0,Te||j(_e,0,we,4),Me.write(_e,xe,we,Se,23,4),we+4}function x(_e,xe,we,Se,Te){return xe=+xe,we>>>=0,Te||j(_e,0,we,8),Me.write(_e,xe,we,Se,52,8),we+8}we.prototype.slice=function(xe,Se){var Te=(this||_e).length;Te=((xe=~~xe)<0?(xe+=Te)<0&&(xe=0):Te<xe&&(xe=Te),(Se=void 0===Se?Te:~~Se)<0?(Se+=Te)<0&&(Se=0):Te<Se&&(Se=Te),Se<xe&&(Se=xe),this.subarray(xe,Se));return Object.setPrototypeOf(Te,we.prototype),Te},we.prototype.readUIntLE=function(xe,we,Se){xe>>>=0,we>>>=0,Se||m(xe,we,(this||_e).length);for(var Te=(this||_e)[xe],Me=1,Ye=0;++Ye<we&&(Me*=256);)Te+=(this||_e)[xe+Ye]*Me;return Te},we.prototype.readUIntBE=function(xe,we,Se){xe>>>=0,we>>>=0,Se||m(xe,we,(this||_e).length);for(var Te=(this||_e)[xe+--we],Me=1;0<we&&(Me*=256);)Te+=(this||_e)[xe+--we]*Me;return Te},we.prototype.readUInt8=function(xe,we){return xe>>>=0,we||m(xe,1,(this||_e).length),(this||_e)[xe]},we.prototype.readUInt16LE=function(xe,we){return xe>>>=0,we||m(xe,2,(this||_e).length),(this||_e)[xe]|(this||_e)[xe+1]<<8},we.prototype.readUInt16BE=function(xe,we){return xe>>>=0,we||m(xe,2,(this||_e).length),(this||_e)[xe]<<8|(this||_e)[xe+1]},we.prototype.readUInt32LE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||_e).length),((this||_e)[xe]|(this||_e)[xe+1]<<8|(this||_e)[xe+2]<<16)+16777216*(this||_e)[xe+3]},we.prototype.readUInt32BE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||_e).length),16777216*(this||_e)[xe]+((this||_e)[xe+1]<<16|(this||_e)[xe+2]<<8|(this||_e)[xe+3])},we.prototype.readIntLE=function(xe,we,Se){xe>>>=0,we>>>=0,Se||m(xe,we,(this||_e).length);for(var Te=(this||_e)[xe],Me=1,Ye=0;++Ye<we&&(Me*=256);)Te+=(this||_e)[xe+Ye]*Me;return(Me*=128)<=Te&&(Te-=Math.pow(2,8*we)),Te},we.prototype.readIntBE=function(xe,we,Se){xe>>>=0,we>>>=0,Se||m(xe,we,(this||_e).length);for(var Te=we,Me=1,Ye=(this||_e)[xe+--Te];0<Te&&(Me*=256);)Ye+=(this||_e)[xe+--Te]*Me;return(Me*=128)<=Ye&&(Ye-=Math.pow(2,8*we)),Ye},we.prototype.readInt8=function(xe,we){return xe>>>=0,we||m(xe,1,(this||_e).length),128&(this||_e)[xe]?-1*(255-(this||_e)[xe]+1):(this||_e)[xe]},we.prototype.readInt16LE=function(xe,we){xe>>>=0,we||m(xe,2,(this||_e).length);we=(this||_e)[xe]|(this||_e)[xe+1]<<8;return 32768&we?4294901760|we:we},we.prototype.readInt16BE=function(xe,we){xe>>>=0,we||m(xe,2,(this||_e).length);we=(this||_e)[xe+1]|(this||_e)[xe]<<8;return 32768&we?4294901760|we:we},we.prototype.readInt32LE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||_e).length),(this||_e)[xe]|(this||_e)[xe+1]<<8|(this||_e)[xe+2]<<16|(this||_e)[xe+3]<<24},we.prototype.readInt32BE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||_e).length),(this||_e)[xe]<<24|(this||_e)[xe+1]<<16|(this||_e)[xe+2]<<8|(this||_e)[xe+3]},we.prototype.readFloatLE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||_e).length),Me.read(this||_e,xe,!0,23,4)},we.prototype.readFloatBE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||_e).length),Me.read(this||_e,xe,!1,23,4)},we.prototype.readDoubleLE=function(xe,we){return xe>>>=0,we||m(xe,8,(this||_e).length),Me.read(this||_e,xe,!0,52,8)},we.prototype.readDoubleBE=function(xe,we){return xe>>>=0,we||m(xe,8,(this||_e).length),Me.read(this||_e,xe,!1,52,8)},we.prototype.writeUIntLE=function(xe,we,Se,Te){xe=+xe,we>>>=0,Se>>>=0,Te||b(this||_e,xe,we,Se,Math.pow(2,8*Se)-1,0);var Me=1,Ye=0;for((this||_e)[we]=255&xe;++Ye<Se&&(Me*=256);)(this||_e)[we+Ye]=xe/Me&255;return we+Se},we.prototype.writeUIntBE=function(xe,we,Se,Te){xe=+xe,we>>>=0,Se>>>=0,Te||b(this||_e,xe,we,Se,Math.pow(2,8*Se)-1,0);var Me=Se-1,Ye=1;for((this||_e)[we+Me]=255&xe;0<=--Me&&(Ye*=256);)(this||_e)[we+Me]=xe/Ye&255;return we+Se},we.prototype.writeUInt8=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,1,255,0),(this||_e)[we]=255&xe,we+1},we.prototype.writeUInt16LE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,2,65535,0),(this||_e)[we]=255&xe,(this||_e)[we+1]=xe>>>8,we+2},we.prototype.writeUInt16BE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,2,65535,0),(this||_e)[we]=xe>>>8,(this||_e)[we+1]=255&xe,we+2},we.prototype.writeUInt32LE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,4,4294967295,0),(this||_e)[we+3]=xe>>>24,(this||_e)[we+2]=xe>>>16,(this||_e)[we+1]=xe>>>8,(this||_e)[we]=255&xe,we+4},we.prototype.writeUInt32BE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,4,4294967295,0),(this||_e)[we]=xe>>>24,(this||_e)[we+1]=xe>>>16,(this||_e)[we+2]=xe>>>8,(this||_e)[we+3]=255&xe,we+4},we.prototype.writeIntLE=function(xe,we,Se,Te){xe=+xe,we>>>=0,Te||b(this||_e,xe,we,Se,(Te=Math.pow(2,8*Se-1))-1,-Te);var Me=0,Ye=1,Ze=0;for((this||_e)[we]=255&xe;++Me<Se&&(Ye*=256);)xe<0&&0===Ze&&0!==(this||_e)[we+Me-1]&&(Ze=1),(this||_e)[we+Me]=(xe/Ye>>0)-Ze&255;return we+Se},we.prototype.writeIntBE=function(xe,we,Se,Te){xe=+xe,we>>>=0,Te||b(this||_e,xe,we,Se,(Te=Math.pow(2,8*Se-1))-1,-Te);var Me=Se-1,Ye=1,Ze=0;for((this||_e)[we+Me]=255&xe;0<=--Me&&(Ye*=256);)xe<0&&0===Ze&&0!==(this||_e)[we+Me+1]&&(Ze=1),(this||_e)[we+Me]=(xe/Ye>>0)-Ze&255;return we+Se},we.prototype.writeInt8=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,1,127,-128),(this||_e)[we]=255&(xe=xe<0?255+xe+1:xe),we+1},we.prototype.writeInt16LE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,2,32767,-32768),(this||_e)[we]=255&xe,(this||_e)[we+1]=xe>>>8,we+2},we.prototype.writeInt16BE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,2,32767,-32768),(this||_e)[we]=xe>>>8,(this||_e)[we+1]=255&xe,we+2},we.prototype.writeInt32LE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,4,2147483647,-2147483648),(this||_e)[we]=255&xe,(this||_e)[we+1]=xe>>>8,(this||_e)[we+2]=xe>>>16,(this||_e)[we+3]=xe>>>24,we+4},we.prototype.writeInt32BE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||_e,xe,we,4,2147483647,-2147483648),(this||_e)[we]=(xe=xe<0?4294967295+xe+1:xe)>>>24,(this||_e)[we+1]=xe>>>16,(this||_e)[we+2]=xe>>>8,(this||_e)[we+3]=255&xe,we+4},we.prototype.writeFloatLE=function(xe,we,Se){return _(this||_e,xe,we,!0,Se)},we.prototype.writeFloatBE=function(xe,we,Se){return _(this||_e,xe,we,!1,Se)},we.prototype.writeDoubleLE=function(xe,we,Se){return x(this||_e,xe,we,!0,Se)},we.prototype.writeDoubleBE=function(xe,we,Se){return x(this||_e,xe,we,!1,Se)},we.prototype.copy=function(xe,Se,Te,Me){if(!we.isBuffer(xe))throw new TypeError("argument should be a Buffer");if(Te=Te||0,Me||0===Me||(Me=(this||_e).length),Se>=xe.length&&(Se=xe.length),(Me=0<Me&&Me<Te?Te:Me)===Te)return 0;if(0===xe.length||0===(this||_e).length)return 0;if((Se=Se||0)<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=(this||_e).length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>(this||_e).length&&(Me=(this||_e).length);var Ye=(Me=xe.length-Se<Me-Te?xe.length-Se+Te:Me)-Te;if((this||_e)===xe&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(Se,Te,Me);else if((this||_e)===xe&&Te<Se&&Se<Me)for(var Ze=Ye-1;0<=Ze;--Ze)xe[Ze+Se]=(this||_e)[Ze+Te];else Uint8Array.prototype.set.call(xe,this.subarray(Te,Me),Se);return Ye},we.prototype.fill=function(xe,Se,Te,Me){if("string"==typeof xe){if("string"==typeof Se?(Me=Se,Se=0,Te=(this||_e).length):"string"==typeof Te&&(Me=Te,Te=(this||_e).length),void 0!==Me&&"string"!=typeof Me)throw new TypeError("encoding must be a string");if("string"==typeof Me&&!we.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);var Ye;1===xe.length&&(Ye=xe.charCodeAt(0),("utf8"===Me&&Ye<128||"latin1"===Me)&&(xe=Ye))}else"number"==typeof xe?xe&=255:"boolean"==typeof xe&&(xe=Number(xe));if(Se<0||(this||_e).length<Se||(this||_e).length<Te)throw new RangeError("Out of range index");var Ze;if(!(Te<=Se))if(Se>>>=0,Te=void 0===Te?(this||_e).length:Te>>>0,"number"==typeof(xe=xe||0))for(Ze=Se;Ze<Te;++Ze)(this||_e)[Ze]=xe;else{var Qe=we.isBuffer(xe)?xe:we.from(xe,Me),Ke=Qe.length;if(0===Ke)throw new TypeError('The value "'+xe+'" is invalid for argument "value"');for(Ze=0;Ze<Te-Se;++Ze)(this||_e)[Ze+Se]=Qe[Ze%Ke]}return this||_e};var Ke=/[^+/0-9A-Za-z-_]/g;function M(_e,xe){xe=xe||1/0;for(var we,Se=_e.length,Te=null,Me=[],Ye=0;Ye<Se;++Ye){if(55295<(we=_e.charCodeAt(Ye))&&we<57344){if(!Te){if(56319<we){-1<(xe-=3)&&Me.push(239,191,189);continue}if(Ye+1===Se){-1<(xe-=3)&&Me.push(239,191,189);continue}Te=we;continue}if(we<56320){-1<(xe-=3)&&Me.push(239,191,189),Te=we;continue}we=65536+(Te-55296<<10|we-56320)}else Te&&-1<(xe-=3)&&Me.push(239,191,189);if(Te=null,we<128){if(--xe<0)break;Me.push(we)}else if(we<2048){if((xe-=2)<0)break;Me.push(we>>6|192,63&we|128)}else if(we<65536){if((xe-=3)<0)break;Me.push(we>>12|224,we>>6&63|128,63&we|128)}else{if(!(we<1114112))throw new Error("Invalid code point");if((xe-=4)<0)break;Me.push(we>>18|240,we>>12&63|128,we>>6&63|128,63&we|128)}}return Me}function E(_e){return Te.toByteArray(function(_e){if((_e=(_e=_e.split("=")[0]).trim().replace(Ke,"")).length<2)return"";for(;_e.length%4!=0;)_e+="=";return _e}(_e))}function k(_e,xe,we,Se){for(var Te=0;Te<Se&&!(Te+we>=xe.length||Te>=_e.length);++Te)xe[Te+we]=_e[Te];return Te}function C(_e,xe){return _e instanceof xe||null!=_e&&null!=_e.constructor&&null!=_e.constructor.name&&_e.constructor.name===xe.name}function O(_e){return _e!=_e}var Je=function(){for(var _e="0123456789abcdef",xe=new Array(256),we=0;we<16;++we)for(var Se=16*we,Te=0;Te<16;++Te)xe[Se+Te]=_e[we]+_e[Te];return xe}()}.call(this||_e,xe("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:246}],5:[function(_e,xe,we){xe.exports=function(_e){if("function"!=typeof _e)throw TypeError(String(_e)+" is not a function");return _e}},{}],6:[function(_e,xe,we){var Se=_e("../internals/is-object");xe.exports=function(_e){if(Se(_e)||null===_e)return _e;throw TypeError("Can't set "+String(_e)+" as a prototype")}},{"../internals/is-object":74}],7:[function(_e,xe,we){var Se=_e("../internals/well-known-symbol"),Te=_e("../internals/object-create"),Me=(_e=_e("../internals/object-define-property"),Se("unscopables")),Ye=Array.prototype;null==Ye[Me]&&_e.f(Ye,Me,{configurable:!0,value:Te(null)}),xe.exports=function(_e){Ye[Me][_e]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(_e,xe,we){var Se=_e("../internals/string-multibyte").charAt;xe.exports=function(_e,xe,we){return xe+(we?Se(_e,xe).length:1)}},{"../internals/string-multibyte":123}],9:[function(_e,xe,we){xe.exports=function(_e,xe,we){if(_e instanceof xe)return _e;throw TypeError("Incorrect "+(we?we+" ":"")+"invocation")}},{}],10:[function(_e,xe,we){var Se=_e("../internals/is-object");xe.exports=function(_e){if(Se(_e))return _e;throw TypeError(String(_e)+" is not an object")}},{"../internals/is-object":74}],11:[function(_e,xe,we){xe.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(xe,we,Se){function o(_e){return Qe(_e)&&Ke(wt,Je(_e))}var Te,Me=xe("../internals/array-buffer-native"),Ye=xe("../internals/descriptors"),Ze=xe("../internals/global"),Qe=xe("../internals/is-object"),Ke=xe("../internals/has"),Je=xe("../internals/classof"),$e=xe("../internals/create-non-enumerable-property"),et=xe("../internals/redefine"),tt=xe("../internals/object-define-property").f,rt=xe("../internals/object-get-prototype-of"),ot=xe("../internals/object-set-prototype-of"),nt=xe("../internals/well-known-symbol"),st=(xe=xe("../internals/uid"),Ze.Int8Array),it=st&&st.prototype,dt=Ze.Uint8ClampedArray,ht=(dt=dt&&dt.prototype,st&&rt(st)),ft=it&&rt(it),pt=Object.prototype,mt=pt.isPrototypeOf,yt=(nt=nt("toStringTag"),xe("TYPED_ARRAY_TAG")),gt=Me&&!!ot&&"Opera"!==Je(Ze.opera),wt=(xe=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(Te in wt)Ze[Te]||(gt=!1);if((!gt||"function"!=typeof ht||ht===Function.prototype)&&(ht=function(){throw TypeError("Incorrect invocation")},gt))for(Te in wt)Ze[Te]&&ot(Ze[Te],ht);if((!gt||!ft||ft===pt)&&(ft=ht.prototype,gt))for(Te in wt)Ze[Te]&&ot(Ze[Te].prototype,ft);if(gt&&rt(dt)!==ft&&ot(dt,ft),Ye&&!Ke(ft,nt))for(Te in xe=!0,tt(ft,nt,{get:function(){return Qe(this||_e)?(this||_e)[yt]:void 0}}),wt)Ze[Te]&&$e(Ze[Te],yt,Te);we.exports={NATIVE_ARRAY_BUFFER_VIEWS:gt,TYPED_ARRAY_TAG:xe&&yt,aTypedArray:function(_e){if(o(_e))return _e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(_e){if(ot){if(mt.call(ht,_e))return _e}else for(var xe in wt)if(Ke(wt,Te)){xe=Ze[xe];if(xe&&(_e===xe||mt.call(xe,_e)))return _e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(_e,xe,we){if(Ye){if(we)for(var Se in wt){Se=Ze[Se];Se&&Ke(Se.prototype,_e)&&delete Se.prototype[_e]}ft[_e]&&!we||et(ft,_e,!we&&gt&&it[_e]||xe)}},exportTypedArrayStaticMethod:function(_e,xe,we){var Se,Te;if(Ye){if(ot){if(we)for(Se in wt)(Te=Ze[Se])&&Ke(Te,_e)&&delete Te[_e];if(ht[_e]&&!we)return;try{return et(ht,_e,!we&&gt&&st[_e]||xe)}catch(_e){}}for(Se in wt)!(Te=Ze[Se])||Te[_e]&&!we||et(Te,_e,xe)}},isView:function(_e){_e=Je(_e);return"DataView"===_e||Ke(wt,_e)},isTypedArray:o,TypedArray:ht,TypedArrayPrototype:ft}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(xe,we,Se){function r(_e){return[255&_e]}function o(_e){return[255&_e,_e>>8&255]}function n(_e){return[255&_e,_e>>8&255,_e>>16&255,_e>>24&255]}function s(_e){return _e[3]<<24|_e[2]<<16|_e[1]<<8|_e[0]}function i(_e){return xr(_e,23,4)}function F(_e){return xr(_e,52,8)}function a(xe,we){it(xe[gt],we,{get:function(){return ft(this||_e)[we]}})}function l(_e,xe,we,Se){if(we=tt(we),_e=ft(_e),we+xe>_e.byteLength)throw jr(wt);var Te=ft(_e.buffer).bytes;we+=_e.byteOffset,_e=Te.slice(we,we+xe);return Se?_e:_e.reverse()}function u(_e,xe,we,Se,Te,Me){if(we=tt(we),_e=ft(_e),we+xe>_e.byteLength)throw jr(wt);for(var Ye=ft(_e.buffer).bytes,Ze=we+_e.byteOffset,Qe=Se(+Te),Ke=0;Ke<xe;Ke++)Ye[Ze+Ke]=Qe[Me?Ke:xe-Ke-1]}var Te=xe("../internals/global"),Me=xe("../internals/descriptors"),Ye=xe("../internals/array-buffer-native"),Ze=xe("../internals/create-non-enumerable-property"),Qe=xe("../internals/redefine-all"),Ke=xe("../internals/fails"),Je=xe("../internals/an-instance"),$e=xe("../internals/to-integer"),et=xe("../internals/to-length"),tt=xe("../internals/to-index"),rt=xe("../internals/ieee754"),ot=xe("../internals/object-get-prototype-of"),nt=xe("../internals/object-set-prototype-of"),st=xe("../internals/object-get-own-property-names").f,it=xe("../internals/object-define-property").f,dt=xe("../internals/array-fill"),ht=xe("../internals/set-to-string-tag"),ft=(xe=xe("../internals/internal-state"),xe.get),pt=xe.set,mt="ArrayBuffer",yt="DataView",gt="prototype",wt="Wrong index",Dt=Te[mt],Xt=Dt,Yt=Te[yt],br=(xe=Yt&&Yt[gt],Object.prototype),jr=Te.RangeError,xr=rt.pack,wr=rt.unpack;if(Ye){if(!Ke((function(){Dt(1)}))||!Ke((function(){new Dt(-1)}))||Ke((function(){return new Dt,new Dt(1.5),new Dt(NaN),Dt.name!=mt}))){Te=(Xt=function(xe){return Je(this||_e,Xt),new Dt(tt(xe))})[gt]=Dt[gt];for(var Sr,Tr=st(Dt),Mr=0;Tr.length>Mr;)(Sr=Tr[Mr++])in Xt||Ze(Xt,Sr,Dt[Sr]);Te.constructor=Xt}nt&&ot(xe)!==br&&nt(xe,br);rt=new Yt(new Xt(2));var Pr=xe.setInt8;rt.setInt8(0,2147483648),rt.setInt8(1,2147483649),!rt.getInt8(0)&&rt.getInt8(1)||Qe(xe,{setInt8:function(xe,we){Pr.call(this||_e,xe,we<<24>>24)},setUint8:function(xe,we){Pr.call(this||_e,xe,we<<24>>24)}},{unsafe:!0})}else Xt=function(xe){Je(this||_e,Xt,mt);xe=tt(xe);pt(this||_e,{bytes:dt.call(new Array(xe),0),byteLength:xe}),Me||((this||_e).byteLength=xe)},Yt=function(xe,we,Se){Je(this||_e,Yt,yt),Je(xe,Xt,yt);var Te=ft(xe).byteLength;we=$e(we);if(we<0||Te<we)throw jr("Wrong offset");if(Te<we+(Se=void 0===Se?Te-we:et(Se)))throw jr("Wrong length");pt(this||_e,{buffer:xe,byteLength:Se,byteOffset:we}),Me||((this||_e).buffer=xe,(this||_e).byteLength=Se,(this||_e).byteOffset=we)},Me&&(a(Xt,"byteLength"),a(Yt,"buffer"),a(Yt,"byteLength"),a(Yt,"byteOffset")),Qe(Yt[gt],{getInt8:function(xe){return l(this||_e,1,xe)[0]<<24>>24},getUint8:function(xe){return l(this||_e,1,xe)[0]},getInt16:function(xe){xe=l(this||_e,2,xe,1<arguments.length?arguments[1]:void 0);return(xe[1]<<8|xe[0])<<16>>16},getUint16:function(xe){xe=l(this||_e,2,xe,1<arguments.length?arguments[1]:void 0);return xe[1]<<8|xe[0]},getInt32:function(xe){return s(l(this||_e,4,xe,1<arguments.length?arguments[1]:void 0))},getUint32:function(xe){return s(l(this||_e,4,xe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(xe){return wr(l(this||_e,4,xe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(xe){return wr(l(this||_e,8,xe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(xe,we){u(this||_e,1,xe,r,we)},setUint8:function(xe,we){u(this||_e,1,xe,r,we)},setInt16:function(xe,we){u(this||_e,2,xe,o,we,2<arguments.length?arguments[2]:void 0)},setUint16:function(xe,we){u(this||_e,2,xe,o,we,2<arguments.length?arguments[2]:void 0)},setInt32:function(xe,we){u(this||_e,4,xe,n,we,2<arguments.length?arguments[2]:void 0)},setUint32:function(xe,we){u(this||_e,4,xe,n,we,2<arguments.length?arguments[2]:void 0)},setFloat32:function(xe,we){u(this||_e,4,xe,i,we,2<arguments.length?arguments[2]:void 0)},setFloat64:function(xe,we){u(this||_e,8,xe,F,we,2<arguments.length?arguments[2]:void 0)}});ht(Xt,mt),ht(Yt,yt),we.exports={ArrayBuffer:Xt,DataView:Yt}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(xe,we,Se){var Te=xe("../internals/to-object"),Me=xe("../internals/to-absolute-index"),Ye=xe("../internals/to-length"),Ze=Math.min;we.exports=[].copyWithin||function(xe,we){var Se=Te(this||_e),Qe=Ye(Se.length),Ke=Me(xe,Qe),Je=Me(we,Qe),$e=(xe=2<arguments.length?arguments[2]:void 0,Ze((void 0===xe?Qe:Me(xe,Qe))-Je,Qe-Ke)),et=1;for(Je<Ke&&Ke<Je+$e&&(et=-1,Je+=$e-1,Ke+=$e-1);0<$e--;)Je in Se?Se[Ke]=Se[Je]:delete Se[Ke],Ke+=et,Je+=et;return Se}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(xe,we,Se){var Te=xe("../internals/to-object"),Me=xe("../internals/to-absolute-index"),Ye=xe("../internals/to-length");we.exports=function(xe){for(var we=Te(this||_e),Se=Ye(we.length),Ze=arguments.length,Qe=Me(1<Ze?arguments[1]:void 0,Se),Ke=(Ze=2<Ze?arguments[2]:void 0,void 0===Ze?Se:Me(Ze,Se));Qe<Ke;)we[Qe++]=xe;return we}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(xe,we,Se){var Te=xe("../internals/array-iteration").forEach,Me=xe("../internals/array-method-is-strict");xe=xe("../internals/array-method-uses-to-length"),Me=Me("forEach"),xe=xe("forEach");we.exports=Me&&xe?[].forEach:function(xe){return Te(this||_e,xe,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(xe,we,Se){var Te=xe("../internals/function-bind-context"),Me=xe("../internals/to-object"),Ye=xe("../internals/call-with-safe-iteration-closing"),Ze=xe("../internals/is-array-iterator-method"),Qe=xe("../internals/to-length"),Ke=xe("../internals/create-property"),Je=xe("../internals/get-iterator-method");we.exports=function(xe){var we,Se,$e,et,tt,rt,ot=Me(xe),nt=(xe="function"==typeof(this||_e)?this||_e:Array,arguments.length),st=1<nt?arguments[1]:void 0,it=void 0!==st,dt=Je(ot),ht=0;if(it&&(st=Te(st,2<nt?arguments[2]:void 0,2)),null==dt||xe==Array&&Ze(dt))for(Se=new xe(we=Qe(ot.length));ht<we;ht++)rt=it?st(ot[ht],ht):ot[ht],Ke(Se,ht,rt);else for(tt=(et=dt.call(ot)).next,Se=new xe;!($e=tt.call(et)).done;ht++)rt=it?Ye(et,st,[$e.value,ht],!0):$e.value,Ke(Se,ht,rt);return Se.length=ht,Se}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(_e,xe,we){function o(_e){return function(xe,we,Ye){var Ze,Qe=Se(xe),Ke=Te(Qe.length),Je=Me(Ye,Ke);if(_e&&we!=we){for(;Je<Ke;)if((Ze=Qe[Je++])!=Ze)return!0}else for(;Je<Ke;Je++)if((_e||Je in Qe)&&Qe[Je]===we)return _e||Je||0;return!_e&&-1}}var Se=_e("../internals/to-indexed-object"),Te=_e("../internals/to-length"),Me=_e("../internals/to-absolute-index");xe.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(_e,xe,we){function o(_e){var xe=1==_e,we=2==_e,Ke=3==_e,Je=4==_e,$e=6==_e,et=5==_e||$e;return function(tt,rt,ot,nt){for(var st,it,dt=Me(tt),ht=Te(dt),ft=Se(rt,ot,3),pt=Ye(ht.length),mt=0,yt=(rt=nt||Ze,xe?rt(tt,pt):we?rt(tt,0):void 0);mt<pt;mt++)if((et||mt in ht)&&(it=ft(st=ht[mt],mt,dt),_e))if(xe)yt[mt]=it;else if(it)switch(_e){case 3:return!0;case 5:return st;case 6:return mt;case 2:Qe.call(yt,st)}else if(Je)return!1;return $e?-1:Ke||Je?Je:yt}}var Se=_e("../internals/function-bind-context"),Te=_e("../internals/indexed-object"),Me=_e("../internals/to-object"),Ye=_e("../internals/to-length"),Ze=_e("../internals/array-species-create"),Qe=[].push;xe.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(xe,we,Se){var Te=xe("../internals/to-indexed-object"),Me=xe("../internals/to-integer"),Ye=xe("../internals/to-length"),Ze=xe("../internals/array-method-is-strict"),Qe=(xe=xe("../internals/array-method-uses-to-length"),Math.min),Ke=[].lastIndexOf,Je=!!Ke&&1/[1].lastIndexOf(1,-0)<0;Ze=Ze("lastIndexOf"),xe=xe("indexOf",{ACCESSORS:!0,1:0});we.exports=!Je&&Ze&&xe?Ke:function(xe){if(Je)return Ke.apply(this||_e,arguments)||0;var we=Te(this||_e),Se=Ye(we.length),Ze=Se-1;for((Ze=1<arguments.length?Qe(Ze,Me(arguments[1])):Ze)<0&&(Ze=Se+Ze);0<=Ze;Ze--)if(Ze in we&&we[Ze]===xe)return Ze||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(_e,xe,we){var Se=_e("../internals/fails"),Te=_e("../internals/well-known-symbol"),Me=_e("../internals/engine-v8-version"),Ye=Te("species");xe.exports=function(_e){return 51<=Me||!Se((function(){var xe=[];return(xe.constructor={})[Ye]=function(){return{foo:1}},1!==xe[_e](Boolean).foo}))}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(_e,xe,we){var Se=_e("../internals/fails");xe.exports=function(_e,xe){var we=[][_e];return!!we&&Se((function(){we.call(null,xe||function(){throw 1},1)}))}},{"../internals/fails":51}],23:[function(_e,xe,we){function i(_e){throw _e}var Se=_e("../internals/descriptors"),Te=_e("../internals/fails"),Me=_e("../internals/has"),Ye=Object.defineProperty,Ze={};xe.exports=function(_e,xe){var we,Qe,Ke,Je;return Me(Ze,_e)?Ze[_e]:(we=[][_e],Qe=!!Me(xe=xe||{},"ACCESSORS")&&xe.ACCESSORS,Ke=Me(xe,0)?xe[0]:i,Je=Me(xe,1)?xe[1]:void 0,Ze[_e]=!!we&&!Te((function(){if(Qe&&!Se)return!0;var _e={length:-1};Qe?Ye(_e,1,{enumerable:!0,get:i}):_e[1]=1,we.call(_e,Ke,Je)})))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(_e,xe,we){function o(_e){return function(xe,we,Ze,Qe){Se(we);var Ke=Te(xe),Je=Me(Ke),$e=Ye(Ke.length),et=_e?$e-1:0,tt=_e?-1:1;if(Ze<2)for(;;){if(et in Je){Qe=Je[et],et+=tt;break}if(et+=tt,_e?et<0:$e<=et)throw TypeError("Reduce of empty array with no initial value")}for(;_e?0<=et:et<$e;et+=tt)et in Je&&(Qe=we(Qe,Je[et],et,Ke));return Qe}}var Se=_e("../internals/a-function"),Te=_e("../internals/to-object"),Me=_e("../internals/indexed-object"),Ye=_e("../internals/to-length");xe.exports={left:o(!1),right:o(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(_e,xe,we){var Se=_e("../internals/is-object"),Te=_e("../internals/is-array"),Me=_e("../internals/well-known-symbol")("species");xe.exports=function(_e,xe){var we;return new(void 0===(we=Te(_e)&&("function"==typeof(we=_e.constructor)&&(we===Array||Te(we.prototype))||Se(we)&&null===(we=we[Me]))?void 0:we)?Array:we)(0===xe?0:xe)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(_e,xe,we){var Se=_e("../internals/an-object");xe.exports=function(_e,xe,we,Te){try{return Te?xe(Se(we)[0],we[1]):xe(we)}catch(xe){Te=_e.return;throw void 0!==Te&&Se(Te.call(_e)),xe}}},{"../internals/an-object":10}],27:[function(xe,we,Se){var Te=xe("../internals/well-known-symbol")("iterator"),Me=!1;try{var Ye=0,Ze={next:function(){return{done:!!Ye++}},return:function(){Me=!0}};Ze[Te]=function(){return this||_e},Array.from(Ze,(function(){throw 2}))}catch(xe){}we.exports=function(_e,xe){if(!xe&&!Me)return!1;var we=!1;try{var Se={};Se[Te]=function(){return{next:function(){return{done:we=!0}}}},_e(Se)}catch(_e){}return we}},{"../internals/well-known-symbol":148}],28:[function(_e,xe,we){var Se={}.toString;xe.exports=function(_e){return Se.call(_e).slice(8,-1)}},{}],29:[function(_e,xe,we){var Se=_e("../internals/to-string-tag-support"),Te=_e("../internals/classof-raw"),Me=_e("../internals/well-known-symbol")("toStringTag"),Ye="Arguments"==Te(function(){return arguments}());xe.exports=Se?Te:function(_e){var xe;return void 0===_e?"Undefined":null===_e?"Null":"string"==typeof(xe=function(_e,xe){try{return _e[xe]}catch(_e){}}(_e=Object(_e),Me))?xe:Ye?Te(_e):"Object"==(xe=Te(_e))&&"function"==typeof _e.callee?"Arguments":xe}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(xe,we,Se){var Te=xe("../internals/object-define-property").f,Me=xe("../internals/object-create"),Ye=xe("../internals/redefine-all"),Ze=xe("../internals/function-bind-context"),Qe=xe("../internals/an-instance"),Ke=xe("../internals/iterate"),Je=xe("../internals/define-iterator"),$e=xe("../internals/set-species"),et=xe("../internals/descriptors"),tt=xe("../internals/internal-metadata").fastKey,rt=(xe=xe("../internals/internal-state"),xe.set),ot=xe.getterFor;we.exports={getConstructor:function(xe,we,Se,Je){function s(_e,xe,we){var Se,Te=nt(_e),Me=i(_e,xe);return Me?Me.value=we:(Te.last=Me={index:Se=tt(xe,!0),key:xe,value:we,previous:xe=Te.last,next:void 0,removed:!1},Te.first||(Te.first=Me),xe&&(xe.next=Me),et?Te.size++:_e.size++,"F"!==Se&&(Te.index[Se]=Me)),_e}function i(_e,xe){_e=nt(_e);var we,Se=tt(xe);if("F"!==Se)return _e.index[Se];for(we=_e.first;we;we=we.next)if(we.key==xe)return we}var $e=xe((function(_e,xe){Qe(_e,$e,we),rt(_e,{type:we,index:Me(null),first:void 0,last:void 0,size:0}),et||(_e.size=0),null!=xe&&Ke(xe,_e[Je],_e,Se)})),nt=ot(we);return Ye($e.prototype,{clear:function(){for(var xe=nt(this||_e),we=xe.index,Se=xe.first;Se;)Se.removed=!0,Se.previous&&(Se.previous=Se.previous.next=void 0),delete we[Se.index],Se=Se.next;xe.first=xe.last=void 0,et?xe.size=0:(this||_e).size=0},delete:function(xe){var we,Se,Te=nt(this||_e);xe=i(this||_e,xe);return xe&&(we=xe.next,Se=xe.previous,delete Te.index[xe.index],xe.removed=!0,Se&&(Se.next=we),we&&(we.previous=Se),Te.first==xe&&(Te.first=we),Te.last==xe&&(Te.last=Se),et?Te.size--:(this||_e).size--),!!xe},forEach:function(xe){for(var we,Se=nt(this||_e),Te=Ze(xe,1<arguments.length?arguments[1]:void 0,3);we=we?we.next:Se.first;)for(Te(we.value,we.key,this||_e);we&&we.removed;)we=we.previous},has:function(xe){return!!i(this||_e,xe)}}),Ye($e.prototype,Se?{get:function(xe){xe=i(this||_e,xe);return xe&&xe.value},set:function(xe,we){return s(this||_e,0===xe?0:xe,we)}}:{add:function(xe){return s(this||_e,xe=0===xe?0:xe,xe)}}),et&&Te($e.prototype,"size",{get:function(){return nt(this||_e).size}}),$e},setStrong:function(xe,we,Se){var Te=we+" Iterator",Me=ot(we),Ye=ot(Te);Je(xe,we,(function(xe,we){rt(this||_e,{type:Te,target:xe,state:Me(xe),kind:we,last:void 0})}),(function(){for(var xe=Ye(this||_e),we=xe.kind,Se=xe.last;Se&&Se.removed;)Se=Se.previous;return xe.target&&(xe.last=Se=Se?Se.next:xe.state.first)?"keys"==we?{value:Se.key,done:!1}:"values"==we?{value:Se.value,done:!1}:{value:[Se.key,Se.value],done:!1}:{value:xe.target=void 0,done:!0}}),Se?"entries":"values",!Se,!0),$e(we)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(xe,we,Se){function l(_e){return _e.frozen||(_e.frozen=new o)}function o(){(this||_e).entries=[]}function n(_e,xe){return rt(_e.entries,(function(_e){return _e[0]===xe}))}var Te=xe("../internals/redefine-all"),Me=xe("../internals/internal-metadata").getWeakData,Ye=xe("../internals/an-object"),Ze=xe("../internals/is-object"),Qe=xe("../internals/an-instance"),Ke=xe("../internals/iterate"),Je=xe("../internals/array-iteration"),$e=xe("../internals/has"),et=(xe=xe("../internals/internal-state"),xe.set),tt=xe.getterFor,rt=Je.find,ot=Je.findIndex,nt=0;o.prototype={get:function(xe){xe=n(this||_e,xe);if(xe)return xe[1]},has:function(xe){return!!n(this||_e,xe)},set:function(xe,we){var Se=n(this||_e,xe);Se?Se[1]=we:(this||_e).entries.push([xe,we])},delete:function(xe){var we=ot((this||_e).entries,(function(_e){return _e[0]===xe}));return~we&&(this||_e).entries.splice(we,1),!!~we}},we.exports={getConstructor:function(xe,we,Se,Je){function s(_e,xe,we){var Se=ot(_e),Te=Me(Ye(xe),!0);return!0===Te?l(Se).set(xe,we):Te[Se.id]=we,_e}var rt=xe((function(_e,xe){Qe(_e,rt,we),et(_e,{type:we,id:nt++,frozen:void 0}),null!=xe&&Ke(xe,_e[Je],_e,Se)})),ot=tt(we);return Te(rt.prototype,{delete:function(xe){var we,Se=ot(this||_e);return!!Ze(xe)&&(!0===(we=Me(xe))?l(Se).delete(xe):we&&$e(we,Se.id)&&delete we[Se.id])},has:function(xe){var we,Se=ot(this||_e);return!!Ze(xe)&&(!0===(we=Me(xe))?l(Se).has(xe):we&&$e(we,Se.id))}}),Te(rt.prototype,Se?{get:function(xe){var we,Se=ot(this||_e);if(Ze(xe))return!0===(we=Me(xe))?l(Se).get(xe):we?we[Se.id]:void 0},set:function(xe,we){return s(this||_e,xe,we)}}:{add:function(xe){return s(this||_e,xe,!0)}}),rt}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/global"),Ye=xe("../internals/is-forced"),Ze=xe("../internals/redefine"),Qe=xe("../internals/internal-metadata"),Ke=xe("../internals/iterate"),Je=xe("../internals/an-instance"),$e=xe("../internals/is-object"),et=xe("../internals/fails"),tt=xe("../internals/check-correctness-of-iteration"),rt=xe("../internals/set-to-string-tag"),ot=xe("../internals/inherit-if-required");we.exports=function(xe,we,Se){function o(xe){var we=gt[xe];Ze(gt,xe,"add"==xe?function(xe){return we.call(this||_e,0===xe?0:xe),this||_e}:"delete"==xe?function(xe){return!(pt&&!$e(xe))&&we.call(this||_e,0===xe?0:xe)}:"get"==xe?function(xe){return pt&&!$e(xe)?void 0:we.call(this||_e,0===xe?0:xe)}:"has"==xe?function(xe){return!(pt&&!$e(xe))&&we.call(this||_e,0===xe?0:xe)}:function(xe,Se){return we.call(this||_e,0===xe?0:xe,Se),this||_e})}var nt,st,it,dt,ht,ft=-1!==xe.indexOf("Map"),pt=-1!==xe.indexOf("Weak"),mt=ft?"set":"add",yt=Me[xe],gt=yt&&yt.prototype,wt=yt,Dt={};return Ye(xe,"function"!=typeof yt||!(pt||gt.forEach&&!et((function(){(new yt).entries().next()}))))?(wt=Se.getConstructor(we,xe,ft,mt),Qe.REQUIRED=!0):Ye(xe,!0)&&(st=(nt=new wt)[mt](pt?{}:-0,1)!=nt,it=et((function(){nt.has(1)})),dt=tt((function(_e){new yt(_e)})),ht=!pt&&et((function(){for(var _e=new yt,xe=5;xe--;)_e[mt](xe,xe);return!_e.has(-0)})),dt||(((wt=we((function(_e,we){Je(_e,wt,xe);_e=ot(new yt,_e,wt);return null!=we&&Ke(we,_e[mt],_e,ft),_e}))).prototype=gt).constructor=wt),(it||ht)&&(o("delete"),o("has"),ft&&o("get")),(ht||st)&&o(mt),pt&&gt.clear&&delete gt.clear),Dt[xe]=wt,Te({global:!0,forced:wt!=yt},Dt),rt(wt,xe),pt||Se.setStrong(wt,xe,ft),wt}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(_e,xe,we){var Se=_e("../internals/has"),Te=_e("../internals/own-keys"),Me=_e("../internals/object-get-own-property-descriptor"),Ye=_e("../internals/object-define-property");xe.exports=function(_e,xe){for(var we=Te(xe),Ze=Ye.f,Qe=Me.f,Ke=0;Ke<we.length;Ke++){var Je=we[Ke];Se(_e,Je)||Ze(_e,Je,Qe(xe,Je))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(_e,xe,we){var Se=_e("../internals/well-known-symbol")("match");xe.exports=function(_e){var xe=/./;try{"/./"[_e](xe)}catch(we){try{return xe[Se]=!1,"/./"[_e](xe)}catch(_e){}}return!1}},{"../internals/well-known-symbol":148}],35:[function(_e,xe,we){_e=_e("../internals/fails");xe.exports=!_e((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},{"../internals/fails":51}],36:[function(_e,xe,we){var Se=_e("../internals/require-object-coercible"),Te=/"/g;xe.exports=function(_e,xe,we,Me){_e=String(Se(_e));var Ye="<"+xe;return""!==we&&(Ye+=" "+we+'="'+String(Me).replace(Te,"&quot;")+'"'),Ye+">"+_e+"</"+xe+">"}},{"../internals/require-object-coercible":113}],37:[function(xe,we,Se){function o(){return this||_e}var Te=xe("../internals/iterators-core").IteratorPrototype,Me=xe("../internals/object-create"),Ye=xe("../internals/create-property-descriptor"),Ze=xe("../internals/set-to-string-tag"),Qe=xe("../internals/iterators");we.exports=function(_e,xe,we){xe+=" Iterator";return _e.prototype=Me(Te,{next:Ye(1,we)}),Ze(_e,xe,!1,!0),Qe[xe]=o,_e}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(_e,xe,we){var Se=_e("../internals/descriptors"),Te=_e("../internals/object-define-property"),Me=_e("../internals/create-property-descriptor");xe.exports=Se?function(_e,xe,we){return Te.f(_e,xe,Me(1,we))}:function(_e,xe,we){return _e[xe]=we,_e}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(_e,xe,we){xe.exports=function(_e,xe){return{enumerable:!(1&_e),configurable:!(2&_e),writable:!(4&_e),value:xe}}},{}],40:[function(_e,xe,we){var Se=_e("../internals/to-primitive"),Te=_e("../internals/object-define-property"),Me=_e("../internals/create-property-descriptor");xe.exports=function(_e,xe,we){xe=Se(xe);xe in _e?Te.f(_e,xe,Me(0,we)):_e[xe]=we}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(xe,we,Se){function m(){return this||_e}var Te=xe("../internals/export"),Me=xe("../internals/create-iterator-constructor"),Ye=xe("../internals/object-get-prototype-of"),Ze=xe("../internals/object-set-prototype-of"),Qe=xe("../internals/set-to-string-tag"),Ke=xe("../internals/create-non-enumerable-property"),Je=xe("../internals/redefine"),$e=xe("../internals/well-known-symbol"),et=xe("../internals/is-pure"),tt=xe("../internals/iterators"),rt=(xe=xe("../internals/iterators-core"),xe.IteratorPrototype),ot=xe.BUGGY_SAFARI_ITERATORS,nt=$e("iterator"),st="values",it="entries";we.exports=function(xe,we,Se,$e,dt,ht,ft){Me(Se,we,$e);function a(xe){if(xe===dt&&Dt)return Dt;if(!ot&&xe in gt)return gt[xe];switch(xe){case"keys":case st:case it:return function(){return new Se(this||_e,xe)}}return function(){return new Se(this||_e)}}$e=we+" Iterator";var pt,mt,yt=!1,gt=xe.prototype,wt=gt[nt]||gt["@@iterator"]||dt&&gt[dt],Dt=!ot&&wt||a(dt),Xt="Array"==we&&gt.entries||wt;if(Xt&&(Xt=Ye(Xt.call(new xe)),rt!==Object.prototype&&Xt.next&&(et||Ye(Xt)===rt||(Ze?Ze(Xt,rt):"function"!=typeof Xt[nt]&&Ke(Xt,nt,m)),Qe(Xt,$e,!0,!0),et&&(tt[$e]=m))),dt==st&&wt&&wt.name!==st&&(yt=!0,Dt=function(){return wt.call(this||_e)}),et&&!ft||gt[nt]===Dt||Ke(gt,nt,Dt),tt[we]=Dt,dt)if(pt={values:a(st),keys:ht?Dt:a("keys"),entries:a(it)},ft)for(mt in pt)!ot&&!yt&&mt in gt||Je(gt,mt,pt[mt]);else Te({target:we,proto:!0,forced:ot||yt},pt);return pt}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(_e,xe,we){var Se=_e("../internals/path"),Te=_e("../internals/has"),Me=_e("../internals/well-known-symbol-wrapped"),Ye=_e("../internals/object-define-property").f;xe.exports=function(_e){var xe=Se.Symbol||(Se.Symbol={});Te(xe,_e)||Ye(xe,_e,{value:Me.f(_e)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(_e,xe,we){_e=_e("../internals/fails");xe.exports=!_e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":51}],44:[function(_e,xe,we){var Se=_e("../internals/global"),Te=(_e=_e("../internals/is-object"),Se.document),Me=_e(Te)&&_e(Te.createElement);xe.exports=function(_e){return Me?Te.createElement(_e):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(_e,xe,we){xe.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(_e,xe,we){_e=_e("../internals/engine-user-agent");xe.exports=/(iphone|ipod|ipad).*applewebkit/i.test(_e)},{"../internals/engine-user-agent":47}],47:[function(_e,xe,we){_e=_e("../internals/get-built-in");xe.exports=_e("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(_e,xe,we){var Se,Te,Me=_e("../internals/global");_e=_e("../internals/engine-user-agent"),Me=Me.process,Me=Me&&Me.versions,Me=Me&&Me.v8;Me?Te=(Se=Me.split("."))[0]+Se[1]:_e&&(!(Se=_e.match(/Edge\/(\d+)/))||74<=Se[1])&&(Se=_e.match(/Chrome\/(\d+)/))&&(Te=Se[1]),xe.exports=Te&&+Te},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(_e,xe,we){xe.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(_e,xe,we){var Se=_e("../internals/global"),Te=_e("../internals/object-get-own-property-descriptor").f,Me=_e("../internals/create-non-enumerable-property"),Ye=_e("../internals/redefine"),Ze=_e("../internals/set-global"),Qe=_e("../internals/copy-constructor-properties"),Ke=_e("../internals/is-forced");xe.exports=function(_e,xe){var we,Je,$e,et=_e.target,tt=_e.global,rt=_e.stat,ot=tt?Se:rt?Se[et]||Ze(et,{}):(Se[et]||{}).prototype;if(ot)for(we in xe){if(Je=xe[we],$e=_e.noTargetGet?($e=Te(ot,we))&&$e.value:ot[we],!Ke(tt?we:et+(rt?".":"#")+we,_e.forced)&&void 0!==$e){if(typeof Je==typeof $e)continue;Qe(Je,$e)}(_e.sham||$e&&$e.sham)&&Me(Je,"sham",!0),Ye(ot,we,Je,_e)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(_e,xe,we){xe.exports=function(_e){try{return!!_e()}catch(_e){return!0}}},{}],52:[function(xe,we,Se){xe("../modules/es.regexp.exec");var Te=xe("../internals/redefine"),Me=xe("../internals/fails"),Ye=xe("../internals/well-known-symbol"),Ze=xe("../internals/regexp-exec"),Qe=xe("../internals/create-non-enumerable-property"),Ke=Ye("species"),Je=!Me((function(){var _e=/./;return _e.exec=function(){var _e=[];return _e.groups={a:"7"},_e},"7"!=="".replace(_e,"$<a>")})),$e="$0"==="a".replace(/./,"$0"),et=(xe=Ye("replace"),!!/./[xe]&&""===/./[xe]("a","$0")),tt=!Me((function(){var xe=/(?:)/,we=xe.exec;xe=(xe.exec=function(){return we.apply(this||_e,arguments)},"ab".split(xe));return 2!==xe.length||"a"!==xe[0]||"b"!==xe[1]}));we.exports=function(xe,we,Se,rt){var ot,nt,st=Ye(xe),it=!Me((function(){var _e={};return _e[st]=function(){return 7},7!=""[xe](_e)})),dt=it&&!Me((function(){var _e=!1,we=/a/;return"split"===xe&&((we={constructor:{}}).constructor[Ke]=function(){return we},we.flags="",we[st]=/./[st]),we.exec=function(){return _e=!0,null},we[st](""),!_e}));it&&dt&&("replace"!==xe||Je&&$e&&!et)&&("split"!==xe||tt)||(ot=/./[st],Se=(dt=Se(st,""[xe],(function(_e,xe,we,Se,Te){return xe.exec===Ze?it&&!Te?{done:!0,value:ot.call(xe,we,Se)}:{done:!0,value:_e.call(we,xe,Se)}:{done:!1}}),{REPLACE_KEEPS_$0:$e,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:et}))[0],nt=dt[1],Te(String.prototype,xe,Se),Te(RegExp.prototype,st,2==we?function(xe,we){return nt.call(xe,this||_e,we)}:function(xe){return nt.call(xe,this||_e)})),rt&&Qe(RegExp.prototype[st],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":187}],53:[function(_e,xe,we){_e=_e("../internals/fails");xe.exports=!_e((function(){return Object.isExtensible(Object.preventExtensions({}))}))},{"../internals/fails":51}],54:[function(_e,xe,we){var Se=_e("../internals/a-function");xe.exports=function(_e,xe,we){if(Se(_e),void 0===xe)return _e;switch(we){case 0:return function(){return _e.call(xe)};case 1:return function(we){return _e.call(xe,we)};case 2:return function(we,Se){return _e.call(xe,we,Se)};case 3:return function(we,Se,Te){return _e.call(xe,we,Se,Te)}}return function(){return _e.apply(xe,arguments)}}},{"../internals/a-function":5}],55:[function(xe,we,Se){var Te=xe("../internals/a-function"),Me=xe("../internals/is-object"),Ye=[].slice,Ze={};we.exports=Function.bind||function(xe){var we=Te(this||_e),Se=Ye.call(arguments,1),u=function(){var Te=Se.concat(Ye.call(arguments));if((this||_e)instanceof u){var Me=we,Qe=Te.length,Ke=Te;if(!(Qe in Ze)){for(var Je=[],$e=0;$e<Qe;$e++)Je[$e]="a["+$e+"]";Ze[Qe]=Function("C,a","return new C("+Je.join(",")+")")}return Ze[Qe](Me,Ke)}return we.apply(xe,Te)};return Me(we.prototype)&&(u.prototype=we.prototype),u}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(_e,xe,we){function o(_e){return"function"==typeof _e?_e:void 0}var Se=_e("../internals/path"),Te=_e("../internals/global");xe.exports=function(_e,xe){return arguments.length<2?o(Se[_e])||o(Te[_e]):Se[_e]&&Se[_e][xe]||Te[_e]&&Te[_e][xe]}},{"../internals/global":59,"../internals/path":104}],57:[function(_e,xe,we){var Se=_e("../internals/classof"),Te=_e("../internals/iterators"),Me=_e("../internals/well-known-symbol")("iterator");xe.exports=function(_e){if(null!=_e)return _e[Me]||_e["@@iterator"]||Te[Se(_e)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(_e,xe,we){var Se=_e("../internals/an-object"),Te=_e("../internals/get-iterator-method");xe.exports=function(_e){var xe=Te(_e);if("function"!=typeof xe)throw TypeError(String(_e)+" is not iterable");return Se(xe.call(_e))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(xe,we,Se){!function(_e){function t(_e){return _e&&_e.Math==Math&&_e}we.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof _e&&_e)||Function("return this")()}.call(this||_e,"undefined"!=typeof _e?_e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(_e,xe,we){var Se={}.hasOwnProperty;xe.exports=function(_e,xe){return Se.call(_e,xe)}},{}],61:[function(_e,xe,we){xe.exports={}},{}],62:[function(_e,xe,we){var Se=_e("../internals/global");xe.exports=function(_e,xe){var we=Se.console;we&&we.error&&(1===arguments.length?we.error(_e):we.error(_e,xe))}},{"../internals/global":59}],63:[function(_e,xe,we){_e=_e("../internals/get-built-in");xe.exports=_e("document","documentElement")},{"../internals/get-built-in":56}],64:[function(_e,xe,we){var Se=_e("../internals/descriptors"),Te=_e("../internals/fails"),Me=_e("../internals/document-create-element");xe.exports=!Se&&!Te((function(){return 7!=Object.defineProperty(Me("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(_e,xe,we){var Se=Math.abs,Te=Math.pow,Me=Math.floor,Ye=Math.log,Ze=Math.LN2;xe.exports={pack:function(_e,xe,we){var Qe,Ke,Je,$e=new Array(we),et=8*we-xe-1,tt=(we=(1<<et)-1,we>>1),rt=23===xe?Te(2,-24)-Te(2,-77):0,ot=_e<0||0===_e&&1/_e<0?1:0,nt=0;for((_e=Se(_e))!=_e||_e===1/0?(Ke=_e!=_e?1:0,Qe=we):(Qe=Me(Ye(_e)/Ze),_e*(Je=Te(2,-Qe))<1&&(Qe--,Je*=2),2<=(_e+=1<=Qe+tt?rt/Je:rt*Te(2,1-tt))*Je&&(Qe++,Je/=2),we<=Qe+tt?(Ke=0,Qe=we):1<=Qe+tt?(Ke=(_e*Je-1)*Te(2,xe),Qe+=tt):(Ke=_e*Te(2,tt-1)*Te(2,xe),Qe=0));8<=xe;$e[nt++]=255&Ke,Ke/=256,xe-=8);for(Qe=Qe<<xe|Ke,et+=xe;0<et;$e[nt++]=255&Qe,Qe/=256,et-=8);return $e[--nt]|=128*ot,$e},unpack:function(_e,xe){var we,Se=_e.length,Me=8*Se-xe-1,Ye=(1<<Me)-1,Ze=Ye>>1,Qe=Me-7,Ke=Se-1,Je=(Me=_e[Ke--],127&Me);for(Me>>=7;0<Qe;Je=256*Je+_e[Ke],Ke--,Qe-=8);for(we=Je&(1<<-Qe)-1,Je>>=-Qe,Qe+=xe;0<Qe;we=256*we+_e[Ke],Ke--,Qe-=8);if(0===Je)Je=1-Ze;else{if(Je===Ye)return we?NaN:Me?-1/0:1/0;we+=Te(2,xe),Je-=Ze}return(Me?-1:1)*we*Te(2,Je-xe)}}},{}],66:[function(_e,xe,we){var Se=_e("../internals/fails"),Te=_e("../internals/classof-raw"),Me="".split;xe.exports=Se((function(){return!Object("z").propertyIsEnumerable(0)}))?function(_e){return"String"==Te(_e)?Me.call(_e,""):Object(_e)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(_e,xe,we){var Se=_e("../internals/is-object"),Te=_e("../internals/object-set-prototype-of");xe.exports=function(_e,xe,we){return Te&&"function"==typeof(xe=xe.constructor)&&xe!==we&&Se(xe=xe.prototype)&&xe!==we.prototype&&Te(_e,xe),_e}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(_e,xe,we){_e=_e("../internals/shared-store");var Se=Function.toString;"function"!=typeof _e.inspectSource&&(_e.inspectSource=function(_e){return Se.call(_e)}),xe.exports=_e.inspectSource},{"../internals/shared-store":119}],69:[function(_e,xe,we){function o(_e){Ye(_e,Ke,{value:{objectID:"O"+ ++Je,weakData:{}}})}var Se=_e("../internals/hidden-keys"),Te=_e("../internals/is-object"),Me=_e("../internals/has"),Ye=_e("../internals/object-define-property").f,Ze=_e("../internals/uid"),Qe=_e("../internals/freezing"),Ke=Ze("meta"),Je=0,$e=Object.isExtensible||function(){return!0},et=xe.exports={REQUIRED:!1,fastKey:function(_e,xe){if(!Te(_e))return"symbol"==typeof _e?_e:("string"==typeof _e?"S":"P")+_e;if(!Me(_e,Ke)){if(!$e(_e))return"F";if(!xe)return"E";o(_e)}return _e[Ke].objectID},getWeakData:function(_e,xe){if(!Me(_e,Ke)){if(!$e(_e))return!0;if(!xe)return!1;o(_e)}return _e[Ke].weakData},onFreeze:function(_e){return Qe&&et.REQUIRED&&$e(_e)&&!Me(_e,Ke)&&o(_e),_e}};Se[Ke]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(_e,xe,we){var Se,Te,Me,Ye,Ze,Qe,Ke,Je,$e=_e("../internals/native-weak-map"),et=_e("../internals/global"),tt=_e("../internals/is-object"),rt=_e("../internals/create-non-enumerable-property"),ot=_e("../internals/has"),nt=_e("../internals/shared-key");_e=_e("../internals/hidden-keys"),et=et.WeakMap;Ke=$e?(Se=new et,Te=Se.get,Me=Se.has,Ye=Se.set,Ze=function(_e,xe){return Ye.call(Se,_e,xe),xe},Qe=function(_e){return Te.call(Se,_e)||{}},function(_e){return Me.call(Se,_e)}):(_e[Je=nt("state")]=!0,Ze=function(_e,xe){return rt(_e,Je,xe),xe},Qe=function(_e){return ot(_e,Je)?_e[Je]:{}},function(_e){return ot(_e,Je)}),xe.exports={set:Ze,get:Qe,has:Ke,enforce:function(_e){return Ke(_e)?Qe(_e):Ze(_e,{})},getterFor:function(_e){return function(xe){if(tt(xe)&&(xe=Qe(xe)).type===_e)return xe;throw TypeError("Incompatible receiver, "+_e+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(_e,xe,we){var Se=_e("../internals/well-known-symbol"),Te=_e("../internals/iterators"),Me=Se("iterator"),Ye=Array.prototype;xe.exports=function(_e){return void 0!==_e&&(Te.Array===_e||Ye[Me]===_e)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(_e,xe,we){var Se=_e("../internals/classof-raw");xe.exports=Array.isArray||function(_e){return"Array"==Se(_e)}},{"../internals/classof-raw":28}],73:[function(_e,xe,we){function o(_e,xe){return(_e=Ye[Me(_e)])==Qe||_e!=Ze&&("function"==typeof xe?Se(xe):!!xe)}var Se=_e("../internals/fails"),Te=/#|\.prototype\./,Me=o.normalize=function(_e){return String(_e).replace(Te,".").toLowerCase()},Ye=o.data={},Ze=o.NATIVE="N",Qe=o.POLYFILL="P";xe.exports=o},{"../internals/fails":51}],74:[function(_e,xe,we){xe.exports=function(_e){return"object"==typeof _e?null!==_e:"function"==typeof _e}},{}],75:[function(_e,xe,we){xe.exports=!1},{}],76:[function(_e,xe,we){var Se=_e("../internals/is-object"),Te=_e("../internals/classof-raw"),Me=_e("../internals/well-known-symbol")("match");xe.exports=function(_e){var xe;return Se(_e)&&(void 0!==(xe=_e[Me])?!!xe:"RegExp"==Te(_e))}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(xe,we,Se){function h(xe,we){(this||_e).stopped=xe,(this||_e).result=we}var Te=xe("../internals/an-object"),Me=xe("../internals/is-array-iterator-method"),Ye=xe("../internals/to-length"),Ze=xe("../internals/function-bind-context"),Qe=xe("../internals/get-iterator-method"),Ke=xe("../internals/call-with-safe-iteration-closing");(we.exports=function(_e,xe,we,Se,Je){var $e,et,tt,rt,ot,nt,st=Ze(xe,we,Se?2:1);if(Je)$e=_e;else{if("function"!=typeof(xe=Qe(_e)))throw TypeError("Target is not iterable");if(Me(xe)){for(et=0,tt=Ye(_e.length);et<tt;et++)if((rt=Se?st(Te(nt=_e[et])[0],nt[1]):st(_e[et]))&&rt instanceof h)return rt;return new h(!1)}$e=xe.call(_e)}for(ot=$e.next;!(nt=ot.call($e)).done;)if("object"==typeof(rt=Ke($e,st,nt.value,Se))&&rt&&rt instanceof h)return rt;return new h(!1)}).stop=function(_e){return new h(!0,_e)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(xe,we,Se){var Te,Me,Ye=xe("../internals/object-get-prototype-of"),Ze=xe("../internals/create-non-enumerable-property"),Qe=xe("../internals/has"),Ke=xe("../internals/well-known-symbol"),Je=(xe=xe("../internals/is-pure"),Ke=Ke("iterator"),!1);[].keys&&("next"in(Me=[].keys())?(Ye=Ye(Ye(Me)))!==Object.prototype&&(Te=Ye):Je=!0),null==Te&&(Te={}),xe||Qe(Te,Ke)||Ze(Te,Ke,(function(){return this||_e})),we.exports={IteratorPrototype:Te,BUGGY_SAFARI_ITERATORS:Je}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(_e,xe,we){xe.exports={}},{}],80:[function(_e,xe,we){xe.exports=Math.sign||function(_e){return 0==(_e=+_e)||_e!=_e?_e:_e<0?-1:1}},{}],81:[function(_e,xe,we){var Se,Te,Me,Ye,Ze,Qe,Ke,Je,$e=_e("../internals/global"),et=_e("../internals/object-get-own-property-descriptor").f,tt=_e("../internals/classof-raw"),rt=_e("../internals/task").set,ot=(_e=_e("../internals/engine-is-ios"),$e.MutationObserver||$e.WebKitMutationObserver),nt=$e.process,st=$e.Promise,it="process"==tt(nt);tt=et($e,"queueMicrotask"),et=tt&&tt.value;et||(Se=function(){var _e,xe;for(it&&(_e=nt.domain)&&_e.exit();Te;){xe=Te.fn,Te=Te.next;try{xe()}catch(_e){throw Te?Ye():Me=void 0,_e}}Me=void 0,_e&&_e.enter()},Ye=it?function(){nt.nextTick(Se)}:ot&&!_e?(Ze=!0,Qe=document.createTextNode(""),new ot(Se).observe(Qe,{characterData:!0}),function(){Qe.data=Ze=!Ze}):st&&st.resolve?(Ke=st.resolve(void 0),Je=Ke.then,function(){Je.call(Ke,Se)}):function(){rt.call($e,Se)}),xe.exports=et||function(_e){_e={fn:_e,next:void 0};Me&&(Me.next=_e),Te||(Te=_e,Ye()),Me=_e}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(_e,xe,we){_e=_e("../internals/global");xe.exports=_e.Promise},{"../internals/global":59}],83:[function(_e,xe,we){_e=_e("../internals/fails");xe.exports=!!Object.getOwnPropertySymbols&&!_e((function(){return!String(Symbol())}))},{"../internals/fails":51}],84:[function(_e,xe,we){var Se=_e("../internals/fails"),Te=_e("../internals/well-known-symbol"),Me=_e("../internals/is-pure"),Ye=Te("iterator");xe.exports=!Se((function(){var _e=new URL("b?a=1&b=2&c=3","http://a"),xe=_e.searchParams,we="";return _e.pathname="c%20d",xe.forEach((function(_e,Se){xe.delete("b"),we+=Se+_e})),Me&&!_e.toJSON||!xe.sort||"http://a/c%20d?a=1&c=3"!==_e.href||"3"!==xe.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!xe[Ye]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==we||"x"!==new URL("http://x",void 0).host}))},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(_e,xe,we){var Se=_e("../internals/global");_e=_e("../internals/inspect-source"),Se=Se.WeakMap;xe.exports="function"==typeof Se&&/native code/.test(_e(Se))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(xe,we,Se){function o(xe){var we,Se;(this||_e).promise=new xe((function(_e,xe){if(void 0!==we||void 0!==Se)throw TypeError("Bad Promise constructor");we=_e,Se=xe})),(this||_e).resolve=Te(we),(this||_e).reject=Te(Se)}var Te=xe("../internals/a-function");we.exports.f=function(_e){return new o(_e)}},{"../internals/a-function":5}],87:[function(_e,xe,we){var Se=_e("../internals/is-regexp");xe.exports=function(_e){if(Se(_e))throw TypeError("The method doesn't accept regular expressions");return _e}},{"../internals/is-regexp":76}],88:[function(_e,xe,we){var Se=_e("../internals/global").isFinite;xe.exports=Number.isFinite||function(_e){return"number"==typeof _e&&Se(_e)}},{"../internals/global":59}],89:[function(xe,we,Se){var Te=xe("../internals/descriptors"),Me=xe("../internals/fails"),Ye=xe("../internals/object-keys"),Ze=xe("../internals/object-get-own-property-symbols"),Qe=xe("../internals/object-property-is-enumerable"),Ke=xe("../internals/to-object"),Je=xe("../internals/indexed-object"),$e=Object.assign,et=Object.defineProperty;we.exports=!$e||Me((function(){var xe,we,Se,Me;return!(!Te||1===$e({b:1},$e(et({},"a",{enumerable:!0,get:function(){et(this||_e,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(we={},Me="abcdefghijklmnopqrst",(xe={})[Se=Symbol()]=7,Me.split("").forEach((function(_e){we[_e]=_e})),7!=$e({},xe)[Se]||Ye($e({},we)).join("")!=Me)}))?function(_e,xe){for(var we=Ke(_e),Se=arguments.length,Me=1,$e=Ze.f,et=Qe.f;Me<Se;)for(var tt,rt=Je(arguments[Me++]),ot=$e?Ye(rt).concat($e(rt)):Ye(rt),nt=ot.length,st=0;st<nt;)tt=ot[st++],Te&&!et.call(rt,tt)||(we[tt]=rt[tt]);return we}:$e},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(_e,xe,we){function o(){}var Se,Te=_e("../internals/an-object"),Me=_e("../internals/object-define-properties"),Ye=_e("../internals/enum-bug-keys"),Ze=_e("../internals/hidden-keys"),Qe=_e("../internals/html"),Ke=_e("../internals/document-create-element"),Je=(_e=_e("../internals/shared-key"),"prototype"),$e="script",et=_e("IE_PROTO"),p=function(_e){return"<"+$e+">"+_e+"</"+$e+">"},m=function(){try{Se=document.domain&&new ActiveXObject("htmlfile")}catch(_e){}m=Se?((_e=Se).write(p("")),_e.close(),xe=_e.parentWindow.Object,_e=null,xe):(_e=Ke("iframe"),xe="java"+$e+":",_e.style.display="none",Qe.appendChild(_e),_e.src=String(xe),(xe=_e.contentWindow.document).open(),xe.write(p("document.F=Object")),xe.close(),xe.F);for(var _e,xe,we=Ye.length;we--;)delete m[Je][Ye[we]];return m()};Ze[et]=!0,xe.exports=Object.create||function(_e,xe){var we;return null!==_e?(o[Je]=Te(_e),we=new o,o[Je]=null,we[et]=_e):we=m(),void 0===xe?we:Me(we,xe)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(_e,xe,we){var Se=_e("../internals/descriptors"),Te=_e("../internals/object-define-property"),Me=_e("../internals/an-object"),Ye=_e("../internals/object-keys");xe.exports=Se?Object.defineProperties:function(_e,xe){Me(_e);for(var we,Se=Ye(xe),Ze=Se.length,Qe=0;Qe<Ze;)Te.f(_e,we=Se[Qe++],xe[we]);return _e}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(_e,xe,we){var Se=_e("../internals/descriptors"),Te=_e("../internals/ie8-dom-define"),Me=_e("../internals/an-object"),Ye=_e("../internals/to-primitive"),Ze=Object.defineProperty;we.f=Se?Ze:function(_e,xe,we){if(Me(_e),xe=Ye(xe,!0),Me(we),Te)try{return Ze(_e,xe,we)}catch(_e){}if("get"in we||"set"in we)throw TypeError("Accessors not supported");return"value"in we&&(_e[xe]=we.value),_e}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(_e,xe,we){var Se=_e("../internals/descriptors"),Te=_e("../internals/object-property-is-enumerable"),Me=_e("../internals/create-property-descriptor"),Ye=_e("../internals/to-indexed-object"),Ze=_e("../internals/to-primitive"),Qe=_e("../internals/has"),Ke=_e("../internals/ie8-dom-define"),Je=Object.getOwnPropertyDescriptor;we.f=Se?Je:function(_e,xe){if(_e=Ye(_e),xe=Ze(xe,!0),Ke)try{return Je(_e,xe)}catch(_e){}if(Qe(_e,xe))return Me(!Te.f.call(_e,xe),_e[xe])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(_e,xe,we){var Se=_e("../internals/to-indexed-object"),Te=_e("../internals/object-get-own-property-names").f,Me={}.toString,Ye="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];xe.exports.f=function(_e){if(!Ye||"[object Window]"!=Me.call(_e))return Te(Se(_e));try{return Te(_e)}catch(_e){return Ye.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(_e,xe,we){var Se=_e("../internals/object-keys-internal"),Te=_e("../internals/enum-bug-keys").concat("length","prototype");we.f=Object.getOwnPropertyNames||function(_e){return Se(_e,Te)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(_e,xe,we){we.f=Object.getOwnPropertySymbols},{}],97:[function(_e,xe,we){var Se=_e("../internals/has"),Te=_e("../internals/to-object"),Me=_e("../internals/shared-key"),Ye=(_e=_e("../internals/correct-prototype-getter"),Me("IE_PROTO")),Ze=Object.prototype;xe.exports=_e?Object.getPrototypeOf:function(_e){return _e=Te(_e),Se(_e,Ye)?_e[Ye]:"function"==typeof _e.constructor&&_e instanceof _e.constructor?_e.constructor.prototype:_e instanceof Object?Ze:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(_e,xe,we){var Se=_e("../internals/has"),Te=_e("../internals/to-indexed-object"),Me=_e("../internals/array-includes").indexOf,Ye=_e("../internals/hidden-keys");xe.exports=function(_e,xe){var we,Ze=Te(_e),Qe=0,Ke=[];for(we in Ze)!Se(Ye,we)&&Se(Ze,we)&&Ke.push(we);for(;xe.length>Qe;)!Se(Ze,we=xe[Qe++])||~Me(Ke,we)||Ke.push(we);return Ke}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(_e,xe,we){var Se=_e("../internals/object-keys-internal"),Te=_e("../internals/enum-bug-keys");xe.exports=Object.keys||function(_e){return Se(_e,Te)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(xe,we,Se){var Te={}.propertyIsEnumerable,Me=Object.getOwnPropertyDescriptor,Ye=Me&&!Te.call({1:2},1);Se.f=Ye?function(xe){xe=Me(this||_e,xe);return!!xe&&xe.enumerable}:Te},{}],101:[function(_e,xe,we){var Se=_e("../internals/an-object"),Te=_e("../internals/a-possible-prototype");xe.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _e,xe=!1,we={};try{(_e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(we,[]),xe=we instanceof Array}catch(we){}return function(we,Me){return Se(we),Te(Me),xe?_e.call(we,Me):we.__proto__=Me,we}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(xe,we,Se){var Te=xe("../internals/to-string-tag-support"),Me=xe("../internals/classof");we.exports=Te?{}.toString:function(){return"[object "+Me(this||_e)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(_e,xe,we){var Se=_e("../internals/get-built-in"),Te=_e("../internals/object-get-own-property-names"),Me=_e("../internals/object-get-own-property-symbols"),Ye=_e("../internals/an-object");xe.exports=Se("Reflect","ownKeys")||function(_e){var xe=Te.f(Ye(_e)),we=Me.f;return we?xe.concat(we(_e)):xe}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(_e,xe,we){_e=_e("../internals/global");xe.exports=_e},{"../internals/global":59}],105:[function(_e,xe,we){xe.exports=function(_e){try{return{error:!1,value:_e()}}catch(_e){return{error:!0,value:_e}}}},{}],106:[function(_e,xe,we){var Se=_e("../internals/an-object"),Te=_e("../internals/is-object"),Me=_e("../internals/new-promise-capability");xe.exports=function(_e,xe){return Se(_e),Te(xe)&&xe.constructor===_e?xe:((0,(_e=Me.f(_e)).resolve)(xe),_e.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(_e,xe,we){var Se=_e("../internals/redefine");xe.exports=function(_e,xe,we){for(var Te in xe)Se(_e,Te,xe[Te],we);return _e}},{"../internals/redefine":108}],108:[function(xe,we,Se){var Te=xe("../internals/global"),Me=xe("../internals/create-non-enumerable-property"),Ye=xe("../internals/has"),Ze=xe("../internals/set-global"),Qe=xe("../internals/inspect-source"),Ke=(xe=xe("../internals/internal-state"),xe.get),Je=xe.enforce,$e=String(String).split("String");(we.exports=function(_e,xe,we,Se){var Qe=!!Se&&!!Se.unsafe,Ke=!!Se&&!!Se.enumerable;Se=!!Se&&!!Se.noTargetGet;"function"==typeof we&&("string"!=typeof xe||Ye(we,"name")||Me(we,"name",xe),Je(we).source=$e.join("string"==typeof xe?xe:"")),_e===Te?Ke?_e[xe]=we:Ze(xe,we):(Qe?!Se&&_e[xe]&&(Ke=!0):delete _e[xe],Ke?_e[xe]=we:Me(_e,xe,we))})(Function.prototype,"toString",(function(){return"function"==typeof(this||_e)&&Ke(this||_e).source||Qe(this||_e)}))},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(_e,xe,we){var Se=_e("./classof-raw"),Te=_e("./regexp-exec");xe.exports=function(_e,xe){var we=_e.exec;if("function"==typeof we){we=we.call(_e,xe);if("object"!=typeof we)throw TypeError("RegExp exec method returned something other than an Object or null");return we}if("RegExp"!==Se(_e))throw TypeError("RegExp#exec called on incompatible receiver");return Te.call(_e,xe)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(xe,we,Se){var Te,Me,Ye=xe("./regexp-flags"),Ze=(xe=xe("./regexp-sticky-helpers"),RegExp.prototype.exec),Qe=String.prototype.replace,Ke=Ze,Je=(Te=/a/,Me=/b*/g,Ze.call(Te,"a"),Ze.call(Me,"a"),0!==Te.lastIndex||0!==Me.lastIndex),$e=xe.UNSUPPORTED_Y||xe.BROKEN_CARET,et=void 0!==/()??/.exec("")[1];we.exports=Ke=Je||et||$e?function(xe){var we,Se,Te,Me,Ke=this||_e,tt=$e&&Ke.sticky,rt=Ye.call(Ke),ot=Ke.source,nt=0,st=xe;return tt&&(-1===(rt=rt.replace("y","")).indexOf("g")&&(rt+="g"),st=String(xe).slice(Ke.lastIndex),0<Ke.lastIndex&&(!Ke.multiline||Ke.multiline&&"\n"!==xe[Ke.lastIndex-1])&&(ot="(?: "+ot+")",st=" "+st,nt++),Se=new RegExp("^(?:"+ot+")",rt)),et&&(Se=new RegExp("^"+ot+"$(?!\\s)",rt)),Je&&(we=Ke.lastIndex),Te=Ze.call(tt?Se:Ke,st),tt?Te?(Te.input=Te.input.slice(nt),Te[0]=Te[0].slice(nt),Te.index=Ke.lastIndex,Ke.lastIndex+=Te[0].length):Ke.lastIndex=0:Je&&Te&&(Ke.lastIndex=Ke.global?Te.index+Te[0].length:we),et&&Te&&1<Te.length&&Qe.call(Te[0],Se,(function(){for(Me=1;Me<arguments.length-2;Me++)void 0===arguments[Me]&&(Te[Me]=void 0)})),Te}:Ke},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(xe,we,Se){var Te=xe("../internals/an-object");we.exports=function(){var xe=Te(this||_e),we="";return xe.global&&(we+="g"),xe.ignoreCase&&(we+="i"),xe.multiline&&(we+="m"),xe.dotAll&&(we+="s"),xe.unicode&&(we+="u"),xe.sticky&&(we+="y"),we}},{"../internals/an-object":10}],112:[function(_e,xe,we){_e=_e("./fails");function o(_e,xe){return RegExp(_e,xe)}we.UNSUPPORTED_Y=_e((function(){var _e=o("a","y");return _e.lastIndex=2,null!=_e.exec("abcd")})),we.BROKEN_CARET=_e((function(){var _e=o("^r","gy");return _e.lastIndex=2,null!=_e.exec("str")}))},{"./fails":51}],113:[function(_e,xe,we){xe.exports=function(_e){if(null==_e)throw TypeError("Can't call method on "+_e);return _e}},{}],114:[function(_e,xe,we){xe.exports=Object.is||function(_e,xe){return _e===xe?0!==_e||1/_e==1/xe:_e!=_e&&xe!=xe}},{}],115:[function(_e,xe,we){var Se=_e("../internals/global"),Te=_e("../internals/create-non-enumerable-property");xe.exports=function(_e,xe){try{Te(Se,_e,xe)}catch(we){Se[_e]=xe}return xe}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(xe,we,Se){var Te=xe("../internals/get-built-in"),Me=xe("../internals/object-define-property"),Ye=xe("../internals/well-known-symbol"),Ze=xe("../internals/descriptors"),Qe=Ye("species");we.exports=function(xe){xe=Te(xe);var we=Me.f;Ze&&xe&&!xe[Qe]&&we(xe,Qe,{configurable:!0,get:function(){return this||_e}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(_e,xe,we){var Se=_e("../internals/object-define-property").f,Te=_e("../internals/has"),Me=_e("../internals/well-known-symbol")("toStringTag");xe.exports=function(_e,xe,we){_e&&!Te(_e=we?_e:_e.prototype,Me)&&Se(_e,Me,{configurable:!0,value:xe})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(_e,xe,we){var Se=_e("../internals/shared"),Te=_e("../internals/uid"),Me=Se("keys");xe.exports=function(_e){return Me[_e]||(Me[_e]=Te(_e))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(_e,xe,we){var Se=_e("../internals/global"),Te=(_e=_e("../internals/set-global"),"__core-js_shared__");Se=Se[Te]||_e(Te,{});xe.exports=Se},{"../internals/global":59,"../internals/set-global":115}],120:[function(_e,xe,we){var Se=_e("../internals/is-pure"),Te=_e("../internals/shared-store");(xe.exports=function(_e,xe){return Te[_e]||(Te[_e]=void 0!==xe?xe:{})})("versions",[]).push({version:"3.6.5",mode:Se?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(_e,xe,we){var Se=_e("../internals/an-object"),Te=_e("../internals/a-function"),Me=_e("../internals/well-known-symbol")("species");xe.exports=function(_e,xe){_e=Se(_e).constructor;return void 0===_e||null==(_e=Se(_e)[Me])?xe:Te(_e)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(_e,xe,we){var Se=_e("../internals/fails");xe.exports=function(_e){return Se((function(){var xe=""[_e]('"');return xe!==xe.toLowerCase()||3<xe.split('"').length}))}},{"../internals/fails":51}],123:[function(_e,xe,we){function o(_e){return function(xe,we){xe=String(Te(xe)),we=Se(we);var Me,Ye=xe.length;return we<0||Ye<=we?_e?"":void 0:(Me=xe.charCodeAt(we))<55296||56319<Me||we+1===Ye||(Ye=xe.charCodeAt(we+1))<56320||57343<Ye?_e?xe.charAt(we):Me:_e?xe.slice(we,we+2):Ye-56320+(Me-55296<<10)+65536}}var Se=_e("../internals/to-integer"),Te=_e("../internals/require-object-coercible");xe.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(_e,xe,we){_e=_e("../internals/engine-user-agent");xe.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(_e)},{"../internals/engine-user-agent":47}],125:[function(_e,xe,we){function o(_e){return function(xe,we,Ze){xe=String(Me(xe));var Qe=xe.length;Ze=void 0===Ze?" ":String(Ze),we=Se(we);return we<=Qe||""==Ze?xe:((Qe=Te.call(Ze,Ye((we-=Qe)/Ze.length))).length>we&&(Qe=Qe.slice(0,we)),_e?xe+Qe:Qe+xe)}}var Se=_e("../internals/to-length"),Te=_e("../internals/string-repeat"),Me=_e("../internals/require-object-coercible"),Ye=Math.ceil;xe.exports={start:o(!1),end:o(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(_e,xe,we){function g(_e){return _e+22+75*(_e<26)}function s(_e){var xe,we=[],Qe=(_e=function(_e){for(var xe=[],we=0,Se=_e.length;we<Se;){var Te,Me=_e.charCodeAt(we++);55296<=Me&&Me<=56319&&we<Se?56320==(64512&(Te=_e.charCodeAt(we++)))?xe.push(((1023&Me)<<10)+(1023&Te)+65536):(xe.push(Me),we--):xe.push(Me)}return xe}(_e)).length,Ke=128,rt=0,ot=72;for(dt=0;dt<_e.length;dt++)(xe=_e[dt])<128&&we.push(tt(xe));var nt=we.length,st=nt;for(nt&&we.push("-");st<Qe;){for(var it=Se,dt=0;dt<_e.length;dt++)Ke<=(xe=_e[dt])&&xe<it&&(it=xe);var ht=st+1;if(it-Ke>et((Se-rt)/ht))throw RangeError(Je);for(rt+=(it-Ke)*ht,Ke=it,dt=0;dt<_e.length;dt++){if((xe=_e[dt])<Ke&&++rt>Se)throw RangeError(Je);if(xe==Ke){for(var ft=rt,pt=Te;;pt+=Te){var mt=pt<=ot?1:ot+Me<=pt?Me:pt-ot;if(ft<mt)break;var yt=ft-mt,gt=Te-mt;we.push(tt(g(mt+yt%gt))),ft=et(yt/gt)}we.push(tt(g(ft))),ot=function(_e,xe,we){var Se=0;for(_e=we?et(_e/Ze):_e>>1,_e+=et(_e/xe);$e*Me>>1<_e;Se+=Te)_e=et(_e/$e);return et(Se+($e+1)*_e/(_e+Ye))}(rt,ht,st==nt),rt=0,++st}}++rt,++Ke}return we.join("")}var Se=2147483647,Te=36,Me=26,Ye=38,Ze=700,Qe=/[^\0-\u007E]/,Ke=/[.\u3002\uFF0E\uFF61]/g,Je="Overflow: input needs wider integers to process",$e=Te-1,et=Math.floor,tt=String.fromCharCode;xe.exports=function(_e){for(var xe,we=[],Se=_e.toLowerCase().replace(Ke,".").split("."),Te=0;Te<Se.length;Te++)xe=Se[Te],we.push(Qe.test(xe)?"xn--"+s(xe):xe);return we.join(".")}},{}],127:[function(xe,we,Se){var Te=xe("../internals/to-integer"),Me=xe("../internals/require-object-coercible");we.exports="".repeat||function(xe){var we=String(Me(this||_e)),Se="",Ye=Te(xe);if(Ye<0||Ye==1/0)throw RangeError("Wrong number of repetitions");for(;0<Ye;(Ye>>>=1)&&(we+=we))1&Ye&&(Se+=we);return Se}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(_e,xe,we){var Se=_e("../internals/fails"),Te=_e("../internals/whitespaces");xe.exports=function(_e){return Se((function(){return!!Te[_e]()||""!=""[_e]()||Te[_e].name!==_e}))}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(_e,xe,we){function o(_e){return function(xe){xe=String(Se(xe));return 1&_e&&(xe=xe.replace(Te,"")),2&_e?xe.replace(Me,""):xe}}var Se=_e("../internals/require-object-coercible"),Te=(_e="["+_e("../internals/whitespaces")+"]",RegExp("^"+_e+_e+"*")),Me=RegExp(_e+_e+"*$");xe.exports={start:o(1),end:o(2),trim:o(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(xe,we,Se){function o(_e){return function(){x(_e)}}function n(_e){x(_e.data)}function s(_e){Me.postMessage(_e+"",$e.protocol+"//"+$e.host)}var Te,Me=xe("../internals/global"),Ye=xe("../internals/fails"),Ze=xe("../internals/classof-raw"),Qe=xe("../internals/function-bind-context"),Ke=xe("../internals/html"),Je=xe("../internals/document-create-element"),$e=(xe=xe("../internals/engine-is-ios"),Me.location),et=Me.setImmediate,tt=Me.clearImmediate,rt=Me.process,ot=Me.MessageChannel,nt=Me.Dispatch,st=0,it={},dt="onreadystatechange",x=function(_e){var xe;it.hasOwnProperty(_e)&&(xe=it[_e],delete it[_e],xe())};et&&tt||(et=function(_e){for(var xe=[],we=1;we<arguments.length;)xe.push(arguments[we++]);return it[++st]=function(){("function"==typeof _e?_e:Function(_e)).apply(void 0,xe)},Te(st),st},tt=function(_e){delete it[_e]},"process"==Ze(rt)?Te=function(_e){rt.nextTick(o(_e))}:nt&&nt.now?Te=function(_e){nt.now(o(_e))}:ot&&!xe?(xe=(Ze=new ot).port2,Ze.port1.onmessage=n,Te=Qe(xe.postMessage,xe,1)):!Me.addEventListener||"function"!=typeof postMessage||Me.importScripts||Ye(s)||"file:"===$e.protocol?Te=dt in Je("script")?function(xe){Ke.appendChild(Je("script"))[dt]=function(){Ke.removeChild(this||_e),x(xe)}}:function(_e){setTimeout(o(_e),0)}:(Te=s,Me.addEventListener("message",n,!1))),we.exports={set:et,clear:tt}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(_e,xe,we){var Se=_e("../internals/classof-raw");xe.exports=function(_e){if("number"!=typeof _e&&"Number"!=Se(_e))throw TypeError("Incorrect invocation");return+_e}},{"../internals/classof-raw":28}],132:[function(_e,xe,we){var Se=_e("../internals/to-integer"),Te=Math.max,Me=Math.min;xe.exports=function(_e,xe){_e=Se(_e);return _e<0?Te(_e+xe,0):Me(_e,xe)}},{"../internals/to-integer":135}],133:[function(_e,xe,we){var Se=_e("../internals/to-integer"),Te=_e("../internals/to-length");xe.exports=function(_e){if(void 0===_e)return 0;_e=Se(_e);var xe=Te(_e);if(_e!==xe)throw RangeError("Wrong length or index");return xe}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(_e,xe,we){var Se=_e("../internals/indexed-object"),Te=_e("../internals/require-object-coercible");xe.exports=function(_e){return Se(Te(_e))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(_e,xe,we){var Se=Math.ceil,Te=Math.floor;xe.exports=function(_e){return isNaN(_e=+_e)?0:(0<_e?Te:Se)(_e)}},{}],136:[function(_e,xe,we){var Se=_e("../internals/to-integer"),Te=Math.min;xe.exports=function(_e){return 0<_e?Te(Se(_e),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(_e,xe,we){var Se=_e("../internals/require-object-coercible");xe.exports=function(_e){return Object(Se(_e))}},{"../internals/require-object-coercible":113}],138:[function(_e,xe,we){var Se=_e("../internals/to-positive-integer");xe.exports=function(_e,xe){_e=Se(_e);if(_e%xe)throw RangeError("Wrong offset");return _e}},{"../internals/to-positive-integer":139}],139:[function(_e,xe,we){var Se=_e("../internals/to-integer");xe.exports=function(_e){_e=Se(_e);if(_e<0)throw RangeError("The argument can't be less than 0");return _e}},{"../internals/to-integer":135}],140:[function(_e,xe,we){var Se=_e("../internals/is-object");xe.exports=function(_e,xe){if(!Se(_e))return _e;var we,Te;if(xe&&"function"==typeof(we=_e.toString)&&!Se(Te=we.call(_e))||"function"==typeof(we=_e.valueOf)&&!Se(Te=we.call(_e))||!xe&&"function"==typeof(we=_e.toString)&&!Se(Te=we.call(_e)))return Te;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(_e,xe,we){var Se={};Se[_e("../internals/well-known-symbol")("toStringTag")]="z",xe.exports="[object z]"===String(Se)},{"../internals/well-known-symbol":148}],142:[function(xe,we,Se){function f(_e,xe){for(var we=0,Se=xe.length,Te=new(Dr(_e))(Se);we<Se;)Te[we]=xe[we++];return Te}function r(xe,we){xr(xe,we,{get:function(){return br(this||_e)[we]}})}function p(_e){return _e instanceof Mr||"ArrayBuffer"==(_e=it(_e))||"SharedArrayBuffer"==_e}function o(_e,xe){return Fr(_e)&&"symbol"!=typeof xe&&xe in _e&&String(+xe)==String(xe)}function n(_e,xe){return o(_e,xe=nt(xe,!0))?$e(2,_e[xe]):wr(_e,xe)}function s(_e,xe,we){return!(o(_e,xe=nt(xe,!0))&&dt(we)&&st(we,"value"))||st(we,"get")||st(we,"set")||we.configurable||st(we,"writable")&&!we.writable||st(we,"enumerable")&&!we.enumerable?xr(_e,xe,we):(_e[xe]=we.value,_e)}var Te=xe("../internals/export"),Me=xe("../internals/global"),Ye=xe("../internals/descriptors"),Ze=xe("../internals/typed-array-constructors-require-wrappers"),Qe=xe("../internals/array-buffer-view-core"),Ke=xe("../internals/array-buffer"),Je=xe("../internals/an-instance"),$e=xe("../internals/create-property-descriptor"),et=xe("../internals/create-non-enumerable-property"),tt=xe("../internals/to-length"),rt=xe("../internals/to-index"),ot=xe("../internals/to-offset"),nt=xe("../internals/to-primitive"),st=xe("../internals/has"),it=xe("../internals/classof"),dt=xe("../internals/is-object"),ht=xe("../internals/object-create"),ft=xe("../internals/object-set-prototype-of"),pt=xe("../internals/object-get-own-property-names").f,mt=xe("../internals/typed-array-from"),yt=xe("../internals/array-iteration").forEach,gt=xe("../internals/set-species"),wt=xe("../internals/object-define-property"),Dt=xe("../internals/object-get-own-property-descriptor"),Xt=xe("../internals/internal-state"),Yt=xe("../internals/inherit-if-required"),br=Xt.get,jr=Xt.set,xr=wt.f,wr=Dt.f,Sr=Math.round,Tr=Me.RangeError,Mr=Ke.ArrayBuffer,Pr=Ke.DataView,Lr=Qe.NATIVE_ARRAY_BUFFER_VIEWS,Ar=Qe.TYPED_ARRAY_TAG,Rr=Qe.TypedArray,Ir=Qe.TypedArrayPrototype,Dr=Qe.aTypedArrayConstructor,Fr=Qe.isTypedArray,Ur="BYTES_PER_ELEMENT",Nr="Wrong length";Ye?(Lr||(Dt.f=n,wt.f=s,r(Ir,"buffer"),r(Ir,"byteOffset"),r(Ir,"byteLength"),r(Ir,"length")),Te({target:"Object",stat:!0,forced:!Lr},{getOwnPropertyDescriptor:n,defineProperty:s}),we.exports=function(xe,we,Se){function u(xe,we){xr(xe,we,{get:function(){var xe=this||_e,Se=we;return(xe=br(xe)).view[Ke](Se*Ye+xe.byteOffset,!0)},set:function(xe){var Te=this||_e,Me=we;Te=br(Te),Se&&(xe=(xe=Sr(xe))<0?0:255<xe?255:255&xe),Te.view[$e](Me*Ye+Te.byteOffset,xe,!0)},enumerable:!0})}var Ye=xe.match(/\d+$/)[0]/8,Qe=xe+(Se?"Clamped":"")+"Array",Ke="get"+xe,$e="set"+xe,nt=Me[Qe],st=nt,it=(xe=st&&st.prototype,{});Lr?Ze&&(st=we((function(_e,xe,we,Se){return Je(_e,st,Qe),Yt(dt(xe)?p(xe)?void 0!==Se?new nt(xe,ot(we,Ye),Se):void 0!==we?new nt(xe,ot(we,Ye)):new nt(xe):Fr(xe)?f(st,xe):mt.call(st,xe):new nt(rt(xe)),_e,st)})),ft&&ft(st,Rr),yt(pt(nt),(function(_e){_e in st||et(st,_e,nt[_e])})),st.prototype=xe):(st=we((function(_e,xe,we,Se){Je(_e,st,Qe);var Te,Me,Ze=0,Ke=0;if(dt(xe)){if(!p(xe))return Fr(xe)?f(st,xe):mt.call(st,xe);var $e=xe;Ke=ot(we,Ye),we=xe.byteLength;if(void 0===Se){if(we%Ye)throw Tr(Nr);if((Te=we-Ke)<0)throw Tr(Nr)}else if(we<(Te=tt(Se)*Ye)+Ke)throw Tr(Nr);Me=Te/Ye}else Me=rt(xe),$e=new Mr(Te=Me*Ye);for(jr(_e,{buffer:$e,byteOffset:Ke,byteLength:Te,length:Me,view:new Pr($e)});Ze<Me;)u(_e,Ze++)})),ft&&ft(st,Rr),xe=st.prototype=ht(Ir)),xe.constructor!==st&&et(xe,"constructor",st),Ar&&et(xe,Ar,Qe),it[Qe]=st,Te({global:!0,forced:st!=nt,sham:!Lr},it),Ur in st||et(st,Ur,Ye),Ur in xe||et(xe,Ur,Ye),gt(Qe)}):we.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(_e,xe,we){var Se=_e("../internals/global"),Te=_e("../internals/fails"),Me=_e("../internals/check-correctness-of-iteration"),Ye=(_e=_e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,Se.ArrayBuffer),Ze=Se.Int8Array;xe.exports=!_e||!Te((function(){Ze(1)}))||!Te((function(){new Ze(-1)}))||!Me((function(_e){new Ze,new Ze(null),new Ze(1.5),new Ze(_e)}),!0)||Te((function(){return 1!==new Ze(new Ye(2),1,void 0).length}))},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(xe,we,Se){var Te=xe("../internals/to-object"),Me=xe("../internals/to-length"),Ye=xe("../internals/get-iterator-method"),Ze=xe("../internals/is-array-iterator-method"),Qe=xe("../internals/function-bind-context"),Ke=xe("../internals/array-buffer-view-core").aTypedArrayConstructor;we.exports=function(xe){var we,Se,Je,$e,et,tt,rt=Te(xe),ot=arguments.length,nt=1<ot?arguments[1]:void 0,st=void 0!==nt,it=Ye(rt);if(null!=it&&!Ze(it))for(tt=(et=it.call(rt)).next,rt=[];!($e=tt.call(et)).done;)rt.push($e.value);for(st&&2<ot&&(nt=Qe(nt,arguments[2],2)),Se=Me(rt.length),Je=new(Ke(this||_e))(Se),we=0;we<Se;we++)Je[we]=st?nt(rt[we],we):rt[we];return Je}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(_e,xe,we){var Se=0,Te=Math.random();xe.exports=function(_e){return"Symbol("+String(void 0===_e?"":_e)+")_"+(++Se+Te).toString(36)}},{}],146:[function(_e,xe,we){_e=_e("../internals/native-symbol");xe.exports=_e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":83}],147:[function(_e,xe,we){_e=_e("../internals/well-known-symbol");we.f=_e},{"../internals/well-known-symbol":148}],148:[function(_e,xe,we){var Se=_e("../internals/global"),Te=_e("../internals/shared"),Me=_e("../internals/has"),Ye=_e("../internals/uid"),Ze=_e("../internals/native-symbol"),Qe=(_e=_e("../internals/use-symbol-as-uid"),Te("wks")),Ke=Se.Symbol,Je=_e?Ke:Ke&&Ke.withoutSetter||Ye;xe.exports=function(_e){return Me(Qe,_e)||(Ze&&Me(Ke,_e)?Qe[_e]=Ke[_e]:Qe[_e]=Je("Symbol."+_e)),Qe[_e]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(_e,xe,we){xe.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],150:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/global"),Me=_e("../internals/array-buffer"),Ye=(_e=_e("../internals/set-species"),"ArrayBuffer");Me=Me[Ye];Se({global:!0,forced:Te[Ye]!==Me},{ArrayBuffer:Me}),_e(Ye)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/fails"),Ye=xe("../internals/is-array"),Ze=xe("../internals/is-object"),Qe=xe("../internals/to-object"),Ke=xe("../internals/to-length"),Je=xe("../internals/create-property"),$e=xe("../internals/array-species-create"),et=xe("../internals/array-method-has-species-support"),tt=xe("../internals/well-known-symbol"),rt=(xe=xe("../internals/engine-v8-version"),tt("isConcatSpreadable")),ot=9007199254740991,nt="Maximum allowed index exceeded";tt=51<=xe||!Me((function(){var _e=[];return _e[rt]=!1,_e.concat()[0]!==_e})),xe=et("concat");Te({target:"Array",proto:!0,forced:!tt||!xe},{concat:function(xe){for(var we,Se,Te,Me,et,tt=Qe(this||_e),st=$e(tt,0),it=0,dt=-1,ht=arguments.length;dt<ht;dt++)if(et=void 0,Ze(Me=Te=-1===dt?tt:arguments[dt])&&(void 0!==(et=Me[rt])?et:Ye(Me))){if(Se=Ke(Te.length),ot<it+Se)throw TypeError(nt);for(we=0;we<Se;we++,it++)we in Te&&Je(st,it,Te[we])}else{if(ot<=it)throw TypeError(nt);Je(st,it++,Te)}return st.length=it,st}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/array-copy-within");_e=_e("../internals/add-to-unscopables");Se({target:"Array",proto:!0},{copyWithin:Te}),_e("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/array-iteration").every,Ye=xe("../internals/array-method-is-strict");xe=xe("../internals/array-method-uses-to-length"),Ye=Ye("every"),xe=xe("every");Te({target:"Array",proto:!0,forced:!Ye||!xe},{every:function(xe){return Me(this||_e,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/array-fill");_e=_e("../internals/add-to-unscopables");Se({target:"Array",proto:!0},{fill:Te}),_e("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/array-iteration").filter,Ye=xe("../internals/array-method-has-species-support");xe=xe("../internals/array-method-uses-to-length"),Ye=Ye("filter"),xe=xe("filter");Te({target:"Array",proto:!0,forced:!Ye||!xe},{filter:function(xe){return Me(this||_e,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/array-iteration").findIndex,Ye=xe("../internals/add-to-unscopables"),Ze=(xe=xe("../internals/array-method-uses-to-length"),"findIndex"),Qe=!0;xe=xe(Ze);Ze in[]&&Array(1)[Ze]((function(){Qe=!1})),Te({target:"Array",proto:!0,forced:Qe||!xe},{findIndex:function(xe){return Me(this||_e,xe,1<arguments.length?arguments[1]:void 0)}}),Ye(Ze)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(_e,xe,we){var Se=_e("../internals/export");_e=_e("../internals/array-for-each");Se({target:"Array",proto:!0,forced:[].forEach!=_e},{forEach:_e})},{"../internals/array-for-each":16,"../internals/export":50}],158:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/array-from");Se({target:"Array",stat:!0,forced:!_e("../internals/check-correctness-of-iteration")((function(_e){Array.from(_e)}))},{from:Te})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],159:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/array-includes").includes,Ye=xe("../internals/add-to-unscopables");Te({target:"Array",proto:!0,forced:!xe("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(xe){return Me(this||_e,xe,1<arguments.length?arguments[1]:void 0)}}),Ye("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/array-includes").indexOf,Ye=xe("../internals/array-method-is-strict"),Ze=(xe=xe("../internals/array-method-uses-to-length"),[].indexOf),Qe=!!Ze&&1/[1].indexOf(1,-0)<0;Ye=Ye("indexOf"),xe=xe("indexOf",{ACCESSORS:!0,1:0});Te({target:"Array",proto:!0,forced:Qe||!Ye||!xe},{indexOf:function(xe){return Qe?Ze.apply(this||_e,arguments)||0:Me(this||_e,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],161:[function(xe,we,Se){var Te=xe("../internals/to-indexed-object"),Me=xe("../internals/add-to-unscopables"),Ye=xe("../internals/iterators"),Ze=xe("../internals/internal-state"),Qe=(xe=xe("../internals/define-iterator"),"Array Iterator"),Ke=Ze.set,Je=Ze.getterFor(Qe);we.exports=xe(Array,"Array",(function(xe,we){Ke(this||_e,{type:Qe,target:Te(xe),index:0,kind:we})}),(function(){var xe=Je(this||_e),we=xe.target,Se=xe.kind,Te=xe.index++;return!we||Te>=we.length?{value:xe.target=void 0,done:!0}:"keys"==Se?{value:Te,done:!1}:"values"==Se?{value:we[Te],done:!1}:{value:[Te,we[Te]],done:!1}}),"values"),Ye.Arguments=Ye.Array,Me("keys"),Me("values"),Me("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],162:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/indexed-object"),Ye=xe("../internals/to-indexed-object"),Ze=(xe=xe("../internals/array-method-is-strict"),[].join);Me=Me!=Object,xe=xe("join",",");Te({target:"Array",proto:!0,forced:Me||!xe},{join:function(xe){return Ze.call(Ye(this||_e),void 0===xe?",":xe)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],163:[function(_e,xe,we){var Se=_e("../internals/export");_e=_e("../internals/array-last-index-of");Se({target:"Array",proto:!0,forced:_e!==[].lastIndexOf},{lastIndexOf:_e})},{"../internals/array-last-index-of":20,"../internals/export":50}],164:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/array-iteration").map,Ye=xe("../internals/array-method-has-species-support");xe=xe("../internals/array-method-uses-to-length"),Ye=Ye("map"),xe=xe("map");Te({target:"Array",proto:!0,forced:!Ye||!xe},{map:function(xe){return Me(this||_e,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/is-object"),Ye=xe("../internals/is-array"),Ze=xe("../internals/to-absolute-index"),Qe=xe("../internals/to-length"),Ke=xe("../internals/to-indexed-object"),Je=xe("../internals/create-property"),$e=xe("../internals/well-known-symbol"),et=xe("../internals/array-method-has-species-support"),tt=(xe=xe("../internals/array-method-uses-to-length"),et=et("slice"),xe=xe("slice",{ACCESSORS:!0,0:0,1:2}),$e("species")),rt=[].slice,ot=Math.max;Te({target:"Array",proto:!0,forced:!et||!xe},{slice:function(xe,we){var Se,Te,$e,et=Ke(this||_e),nt=Qe(et.length),st=Ze(xe,nt),it=Ze(void 0===we?nt:we,nt);if(Ye(et)&&((Se="function"==typeof(Se=et.constructor)&&(Se===Array||Ye(Se.prototype))||Me(Se)&&null===(Se=Se[tt])?void 0:Se)===Array||void 0===Se))return rt.call(et,st,it);for(Te=new(void 0===Se?Array:Se)(ot(it-st,0)),$e=0;st<it;st++,$e++)st in et&&Je(Te,$e,et[st]);return Te.length=$e,Te}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],166:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/array-iteration").some,Ye=xe("../internals/array-method-is-strict");xe=xe("../internals/array-method-uses-to-length"),Ye=Ye("some"),xe=xe("some");Te({target:"Array",proto:!0,forced:!Ye||!xe},{some:function(xe){return Me(this||_e,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],167:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/to-absolute-index"),Ye=xe("../internals/to-integer"),Ze=xe("../internals/to-length"),Qe=xe("../internals/to-object"),Ke=xe("../internals/array-species-create"),Je=xe("../internals/create-property"),$e=xe("../internals/array-method-has-species-support"),et=(xe=xe("../internals/array-method-uses-to-length"),$e=$e("splice"),xe=xe("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),tt=Math.min;Te({target:"Array",proto:!0,forced:!$e||!xe},{splice:function(xe,we){var Se,Te,$e,rt,ot,nt,st=Qe(this||_e),it=Ze(st.length),dt=Me(xe,it);xe=arguments.length;if(0===xe?Se=Te=0:Te=1===xe?(Se=0,it-dt):(Se=xe-2,tt(et(Ye(we),0),it-dt)),9007199254740991<it+Se-Te)throw TypeError("Maximum allowed length exceeded");for($e=Ke(st,Te),rt=0;rt<Te;rt++)(ot=dt+rt)in st&&Je($e,rt,st[ot]);if(Se<($e.length=Te)){for(rt=dt;rt<it-Te;rt++)nt=rt+Se,(ot=rt+Te)in st?st[nt]=st[ot]:delete st[nt];for(rt=it;it-Te+Se<rt;rt--)delete st[rt-1]}else if(Te<Se)for(rt=it-Te;dt<rt;rt--)nt=rt+Se-1,(ot=rt+Te-1)in st?st[nt]=st[ot]:delete st[nt];for(rt=0;rt<Se;rt++)st[rt+dt]=arguments[rt+2];return st.length=it-Te+Se,$e}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],168:[function(xe,we,Se){var Te=xe("../internals/descriptors"),Me=(xe=xe("../internals/object-define-property").f,Function.prototype),Ye=Me.toString,Ze=/^\s*function ([^ (]*)/;!Te||"name"in Me||xe(Me,"name",{configurable:!0,get:function(){try{return Ye.call(this||_e).match(Ze)[1]}catch(_e){return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],169:[function(xe,we,Se){var Te=xe("../internals/collection");xe=xe("../internals/collection-strong");we.exports=Te("Map",(function(xe){return function(){return xe(this||_e,arguments.length?arguments[0]:void 0)}}),xe)},{"../internals/collection":32,"../internals/collection-strong":30}],170:[function(_e,xe,we){_e=_e("../internals/export");var Se=Math.hypot,Te=Math.abs,Me=Math.sqrt;_e({target:"Math",stat:!0,forced:!!Se&&Se(1/0,NaN)!==1/0},{hypot:function(_e,xe){for(var we,Se,Ye=0,Ze=0,Qe=arguments.length,Ke=0;Ze<Qe;)Ke<(we=Te(arguments[Ze++]))?(Ye=Ye*(Se=Ke/we)*Se+1,Ke=we):Ye+=0<we?(Se=we/Ke)*Se:we;return Ke===1/0?1/0:Ke*Me(Ye)}})},{"../internals/export":50}],171:[function(_e,xe,we){_e=_e("../internals/export");var Se=Math.log,Te=Math.LN2;_e({target:"Math",stat:!0},{log2:function(_e){return Se(_e)/Te}})},{"../internals/export":50}],172:[function(_e,xe,we){_e("../internals/export")({target:"Math",stat:!0},{sign:_e("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],173:[function(xe,we,Se){function o(_e){var xe,we,Se,Te,Me,Ye,Ze,Qe=$e(_e,!1);if("string"==typeof Qe&&2<Qe.length)if(43===(_e=(Qe=st(Qe)).charCodeAt(0))||45===_e){if(88===(xe=Qe.charCodeAt(2))||120===xe)return NaN}else if(48===_e){switch(Qe.charCodeAt(1)){case 66:case 98:we=2,Se=49;break;case 79:case 111:we=8,Se=55;break;default:return+Qe}for(Me=(Te=Qe.slice(2)).length,Ye=0;Ye<Me;Ye++)if((Ze=Te.charCodeAt(Ye))<48||Se<Ze)return NaN;return parseInt(Te,we)}return+Qe}var Te=xe("../internals/descriptors"),Me=xe("../internals/global"),Ye=xe("../internals/is-forced"),Ze=xe("../internals/redefine"),Qe=xe("../internals/has"),Ke=xe("../internals/classof-raw"),Je=xe("../internals/inherit-if-required"),$e=xe("../internals/to-primitive"),et=xe("../internals/fails"),tt=xe("../internals/object-create"),rt=xe("../internals/object-get-own-property-names").f,ot=xe("../internals/object-get-own-property-descriptor").f,nt=xe("../internals/object-define-property").f,st=xe("../internals/string-trim").trim,it="Number",dt=Me[it],ht=dt.prototype,ft=Ke(tt(ht))==it;if(Ye(it,!dt(" 0o1")||!dt("0b1")||dt("+0x1"))){for(var pt,w=function(xe){xe=arguments.length<1?0:xe;var we=this||_e;return we instanceof w&&(ft?et((function(){ht.valueOf.call(we)})):Ke(we)!=it)?Je(new dt(o(xe)),we,w):o(xe)},mt=Te?rt(dt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),yt=0;mt.length>yt;yt++)Qe(dt,pt=mt[yt])&&!Qe(w,pt)&&nt(w,pt,ot(dt,pt));(w.prototype=ht).constructor=w,Ze(Me,it,w)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],174:[function(_e,xe,we){_e("../internals/export")({target:"Number",stat:!0},{isFinite:_e("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],175:[function(xe,we,Se){function c(_e,xe,we){return 0===xe?we:xe%2==1?c(_e,xe-1,we*_e):c(_e*_e,xe/2,we)}var Te=xe("../internals/export"),Me=xe("../internals/to-integer"),Ye=xe("../internals/this-number-value"),Ze=xe("../internals/string-repeat"),Qe=(xe=xe("../internals/fails"),1..toFixed),Ke=Math.floor;Te({target:"Number",proto:!0,forced:Qe&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!xe((function(){Qe.call({})}))},{toFixed:function(xe){function t(_e,xe){for(var we=-1,Se=xe;++we<6;)Se+=_e*Qe[we],Qe[we]=Se%1e7,Se=Ke(Se/1e7)}function r(_e){for(var xe=6,we=0;0<=--xe;)we+=Qe[xe],Qe[xe]=Ke(we/_e),we=we%_e*1e7}function o(){for(var _e,xe=6,we="";0<=--xe;)""===we&&0!==xe&&0===Qe[xe]||(_e=String(Qe[xe]),we=""===we?_e:we+Ze.call("0",7-_e.length)+_e);return we}var we,Se,Te=Ye(this||_e),Qe=(xe=Me(xe),[0,0,0,0,0,0]),Je="",$e="0";if(xe<0||20<xe)throw RangeError("Incorrect fraction digits");if(Te!=Te)return"NaN";if(Te<=-1e21||1e21<=Te)return String(Te);if(Te<0&&(Je="-",Te=-Te),1e-21<Te)if(Te=(we=function(_e){for(var xe=0,we=_e;4096<=we;)xe+=12,we/=4096;for(;2<=we;)xe+=1,we/=2;return xe}(Te*c(2,69,1))-69)<0?Te*c(2,-we,1):Te/c(2,we,1),Te*=4503599627370496,0<(we=52-we)){for(t(0,Te),Se=xe;7<=Se;)t(1e7,0),Se-=7;for(t(c(10,Se,1),0),Se=we-1;23<=Se;)r(1<<23),Se-=23;r(1<<Se),t(1,1),r(2),$e=o()}else t(0,Te),t(1<<-we,0),$e=o()+Ze.call("0",xe);return 0<xe?Je+((Te=$e.length)<=xe?"0."+Ze.call("0",xe-Te)+$e:$e.slice(0,Te-xe)+"."+$e.slice(Te-xe)):Je+$e}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],176:[function(_e,xe,we){var Se=_e("../internals/export");_e=_e("../internals/object-assign");Se({target:"Object",stat:!0,forced:Object.assign!==_e},{assign:_e})},{"../internals/export":50,"../internals/object-assign":89}],177:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/iterate"),Me=_e("../internals/create-property");Se({target:"Object",stat:!0},{fromEntries:function(_e){var xe={};return Te(_e,(function(_e,we){Me(xe,_e,we)}),void 0,!0),xe}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],178:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/fails"),Me=_e("../internals/to-indexed-object"),Ye=_e("../internals/object-get-own-property-descriptor").f;_e=_e("../internals/descriptors"),Te=Te((function(){Ye(1)}));Se({target:"Object",stat:!0,forced:!_e||Te,sham:!_e},{getOwnPropertyDescriptor:function(_e,xe){return Ye(Me(_e),xe)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],179:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/fails");_e=_e("../internals/object-get-own-property-names-external").f;Se({target:"Object",stat:!0,forced:Te((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:_e})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],180:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/fails"),Me=_e("../internals/to-object"),Ye=_e("../internals/object-get-prototype-of");_e=_e("../internals/correct-prototype-getter");Se({target:"Object",stat:!0,forced:Te((function(){Ye(1)})),sham:!_e},{getPrototypeOf:function(_e){return Ye(Me(_e))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],181:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/to-object"),Me=_e("../internals/object-keys");Se({target:"Object",stat:!0,forced:_e("../internals/fails")((function(){Me(1)}))},{keys:function(_e){return Me(Te(_e))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],182:[function(_e,xe,we){var Se=_e("../internals/to-string-tag-support"),Te=_e("../internals/redefine");_e=_e("../internals/object-to-string");Se||Te(Object.prototype,"toString",_e,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],183:[function(xe,we,Se){var Te,Me,Ye,Ze,Qe=xe("../internals/export"),Ke=xe("../internals/is-pure"),Je=xe("../internals/global"),$e=xe("../internals/get-built-in"),et=xe("../internals/native-promise-constructor"),tt=xe("../internals/redefine"),rt=xe("../internals/redefine-all"),ot=xe("../internals/set-to-string-tag"),nt=xe("../internals/set-species"),st=xe("../internals/is-object"),it=xe("../internals/a-function"),dt=xe("../internals/an-instance"),ht=xe("../internals/classof-raw"),ft=xe("../internals/inspect-source"),pt=xe("../internals/iterate"),mt=xe("../internals/check-correctness-of-iteration"),yt=xe("../internals/species-constructor"),gt=xe("../internals/task").set,wt=xe("../internals/microtask"),Dt=xe("../internals/promise-resolve"),Xt=xe("../internals/host-report-errors"),Yt=xe("../internals/new-promise-capability"),br=xe("../internals/perform"),jr=xe("../internals/internal-state"),xr=xe("../internals/is-forced"),wr=xe("../internals/well-known-symbol"),Sr=xe("../internals/engine-v8-version"),Tr=wr("species"),Mr="Promise",Pr=jr.get,Lr=jr.set,Ar=jr.getterFor(Mr),Rr=et,Ir=Je.TypeError,Dr=Je.document,Fr=Je.process,Ur=$e("fetch"),Nr=Yt.f,Br=Nr,Gr="process"==ht(Fr),Vr=!!(Dr&&Dr.createEvent&&Je.dispatchEvent),zr="unhandledrejection",Hr="rejectionhandled",Wr=1,qr=2,Xr=1,Yr=2,Zr=(xe=xr(Mr,(function(){var _e,xe;if(!(ft(Rr)!==String(Rr))){if(66===Sr)return!0;if(!Gr&&"function"!=typeof PromiseRejectionEvent)return!0}return!(!Ke||Rr.prototype.finally)||!(51<=Sr&&/native code/.test(Rr))&&(xe=function(_e){_e((function(){}),(function(){}))},((_e=Rr.resolve(1)).constructor={})[Tr]=xe,!(_e.then((function(){}))instanceof xe))})),wr=xe||!mt((function(_e){Rr.all(_e).catch((function(){}))})),function(_e){var xe;return!(!st(_e)||"function"!=typeof(xe=_e.then))&&xe}),A=function(_e,xe,we){var Se;xe.notified||(xe.notified=!0,Se=xe.reactions,wt((function(){for(var Te,Me,Ye=xe.value,Ze=xe.state==Wr,Qe=0;Se.length>Qe;){var Ke,$e,et,tt=Se[Qe++],rt=Ze?tt.ok:tt.fail,ot=tt.resolve,nt=tt.reject,st=tt.domain;try{rt?(Ze||(xe.rejection===Yr&&function(_e,xe){gt.call(Je,(function(){Gr?Fr.emit("rejectionHandled",_e):se(Hr,_e,xe.value)}))}(_e,xe),xe.rejection=Xr),!0===rt?Ke=Ye:(st&&st.enter(),Ke=rt(Ye),st&&(st.exit(),et=!0)),Ke===tt.promise?nt(Ir("Promise-chain cycle")):($e=Zr(Ke))?$e.call(Ke,ot,nt):ot(Ke)):nt(Ye)}catch(Ye){st&&!et&&st.exit(),nt(Ye)}}xe.reactions=[],xe.notified=!1,we&&!xe.rejection&&(Te=_e,Me=xe,gt.call(Je,(function(){var _e=Me.value,xe=ie(Me);if(xe&&(xe=br((function(){Gr?Fr.emit("unhandledRejection",_e,Te):se(zr,Te,_e)})),Me.rejection=Gr||ie(Me)?Yr:Xr,xe.error))throw xe.value})))})))},se=function(_e,xe,we){var Se;Vr?((Se=Dr.createEvent("Event")).promise=xe,Se.reason=we,Se.initEvent(_e,!1,!0),Je.dispatchEvent(Se)):Se={promise:xe,reason:we},(xe=Je["on"+_e])?xe(Se):_e===zr&&Xt("Unhandled promise rejection",we)},ie=function(_e){return _e.rejection!==Xr&&!_e.parent},L=function(_e,xe,we,Se){return function(Te){_e(xe,we,Te,Se)}},R=function(_e,xe,we,Se){xe.done||(xe.done=!0,(xe=Se||xe).value=we,xe.state=qr,A(_e,xe,!0))},I=function(_e,xe,we,Se){if(!xe.done){xe.done=!0,Se&&(xe=Se);try{if(_e===we)throw Ir("Promise can't be resolved itself");var Te=Zr(we);Te?wt((function(){var Se={done:!1};try{Te.call(we,L(I,_e,Se,xe),L(R,_e,Se,xe))}catch(we){R(_e,Se,we,xe)}})):(xe.value=we,xe.state=Wr,A(_e,xe,!1))}catch(we){R(_e,{done:!1},we,xe)}}};xe&&(Rr=function(xe){dt(this||_e,Rr,Mr),it(xe),Te.call(this||_e);var we=Pr(this||_e);try{xe(L(I,this||_e,we),L(R,this||_e,we))}catch(xe){R(this||_e,we,xe)}},(Te=function(xe){Lr(this||_e,{type:Mr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=rt(Rr.prototype,{then:function(xe,we){var Se=Ar(this||_e),Te=Nr(yt(this||_e,Rr));return Te.ok="function"!=typeof xe||xe,Te.fail="function"==typeof we&&we,Te.domain=Gr?Fr.domain:void 0,Se.parent=!0,Se.reactions.push(Te),0!=Se.state&&A(this||_e,Se,!1),Te.promise},catch:function(_e){return this.then(void 0,_e)}}),Me=function(){var xe=new Te,we=Pr(xe);(this||_e).promise=xe,(this||_e).resolve=L(I,xe,we),(this||_e).reject=L(R,xe,we)},Yt.f=Nr=function(_e){return _e===Rr||_e===Ye?new Me:Br(_e)},Ke||"function"!=typeof et||(Ze=et.prototype.then,tt(et.prototype,"then",(function(xe,we){var Se=this||_e;return new Rr((function(_e,xe){Ze.call(Se,_e,xe)})).then(xe,we)}),{unsafe:!0}),"function"==typeof Ur&&Qe({global:!0,enumerable:!0,forced:!0},{fetch:function(_e){return Dt(Rr,Ur.apply(Je,arguments))}}))),Qe({global:!0,wrap:!0,forced:xe},{Promise:Rr}),ot(Rr,Mr,!1,!0),nt(Mr),Ye=$e(Mr),Qe({target:Mr,stat:!0,forced:xe},{reject:function(xe){var we=Nr(this||_e);return we.reject.call(void 0,xe),we.promise}}),Qe({target:Mr,stat:!0,forced:Ke||xe},{resolve:function(xe){return Dt(Ke&&(this||_e)===Ye?Rr:this||_e,xe)}}),Qe({target:Mr,stat:!0,forced:wr},{all:function(xe){var we=this||_e,Se=Nr(we),Te=Se.resolve,Me=Se.reject,Ye=br((function(){var _e=it(we.resolve),Se=[],Ye=0,Ze=1;pt(xe,(function(xe){var Qe=Ye++,Ke=!1;Se.push(void 0),Ze++,_e.call(we,xe).then((function(_e){Ke||(Ke=!0,Se[Qe]=_e,--Ze||Te(Se))}),Me)})),--Ze||Te(Se)}));return Ye.error&&Me(Ye.value),Se.promise},race:function(xe){var we=this||_e,Se=Nr(we),Te=Se.reject,Me=br((function(){var _e=it(we.resolve);pt(xe,(function(xe){_e.call(we,xe).then(Se.resolve,Te)}))}));return Me.error&&Te(Me.value),Se.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],184:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/get-built-in"),Me=_e("../internals/a-function"),Ye=_e("../internals/an-object"),Ze=_e("../internals/is-object"),Qe=_e("../internals/object-create"),Ke=_e("../internals/function-bind"),Je=(_e=_e("../internals/fails"),Te("Reflect","construct")),$e=_e((function(){function e(){}return!(Je((function(){}),[],e)instanceof e)})),et=!_e((function(){Je((function(){}))}));Te=$e||et;Se({target:"Reflect",stat:!0,forced:Te,sham:Te},{construct:function(_e,xe){Me(_e),Ye(xe);var we=arguments.length<3?_e:Me(arguments[2]);if(et&&!$e)return Je(_e,xe,we);if(_e==we){switch(xe.length){case 0:return new _e;case 1:return new _e(xe[0]);case 2:return new _e(xe[0],xe[1]);case 3:return new _e(xe[0],xe[1],xe[2]);case 4:return new _e(xe[0],xe[1],xe[2],xe[3])}var Se=[null];return Se.push.apply(Se,xe),new(Ke.apply(_e,Se))}Se=we.prototype,we=Qe(Ze(Se)?Se:Object.prototype),Se=Function.apply.call(_e,we,xe);return Ze(Se)?Se:we}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],185:[function(_e,xe,we){var Se=_e("../internals/export"),Te=_e("../internals/is-object"),Me=_e("../internals/an-object"),Ye=_e("../internals/has"),Ze=_e("../internals/object-get-own-property-descriptor"),Qe=_e("../internals/object-get-prototype-of");Se({target:"Reflect",stat:!0},{get:function e(_e,xe){var we,Se=arguments.length<3?_e:arguments[2];return Me(_e)===Se?_e[xe]:(we=Ze.f(_e,xe))?Ye(we,"value")?we.value:void 0===we.get?void 0:we.get.call(Se):Te(we=Qe(_e))?e(we,xe,Se):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],186:[function(xe,we,Se){var Te=xe("../internals/descriptors"),Me=xe("../internals/global"),Ye=xe("../internals/is-forced"),Ze=xe("../internals/inherit-if-required"),Qe=xe("../internals/object-define-property").f,Ke=xe("../internals/object-get-own-property-names").f,Je=xe("../internals/is-regexp"),$e=xe("../internals/regexp-flags"),et=xe("../internals/regexp-sticky-helpers"),tt=xe("../internals/redefine"),rt=xe("../internals/fails"),ot=xe("../internals/internal-state").set,nt=xe("../internals/set-species"),st=xe("../internals/well-known-symbol")("match"),it=Me.RegExp,dt=it.prototype,ht=/a/g,ft=/a/g,pt=new it(ht)!==ht,mt=et.UNSUPPORTED_Y;if(Te&&Ye("RegExp",!pt||mt||rt((function(){return ft[st]=!1,it(ht)!=ht||it(ft)==ft||"/a/i"!=it(ht,"i")})))){for(var w=function(xe,we){var Se,Te=(this||_e)instanceof w,Me=Je(xe),Ye=void 0===we;if(!Te&&Me&&xe.constructor===w&&Ye)return xe;pt?Me&&!Ye&&(xe=xe.source):xe instanceof w&&(Ye&&(we=$e.call(xe)),xe=xe.source),mt&&(Se=!!we&&-1<we.indexOf("y"))&&(we=we.replace(/y/g,""));Me=Ze(pt?new it(xe,we):it(xe,we),Te?this||_e:dt,w);return mt&&Se&&ot(Me,{sticky:Se}),Me},yt=Ke(it),gt=0;yt.length>gt;)!function(_e){_e in w||Qe(w,_e,{configurable:!0,get:function(){return it[_e]},set:function(xe){it[_e]=xe}})}(yt[gt++]);(dt.constructor=w).prototype=dt,tt(Me,"RegExp",w)}nt("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],187:[function(_e,xe,we){var Se=_e("../internals/export");_e=_e("../internals/regexp-exec");Se({target:"RegExp",proto:!0,forced:/./.exec!==_e},{exec:_e})},{"../internals/export":50,"../internals/regexp-exec":110}],188:[function(xe,we,Se){var Te=xe("../internals/redefine"),Me=xe("../internals/an-object"),Ye=xe("../internals/fails"),Ze=xe("../internals/regexp-flags"),Qe=(xe="toString",RegExp.prototype),Ke=Qe[xe],Je=(Ye=Ye((function(){return"/a/b"!=Ke.call({source:"a",flags:"b"})})),Ke.name!=xe);(Ye||Je)&&Te(RegExp.prototype,xe,(function(){var xe=Me(this||_e),we=String(xe.source),Se=xe.flags;return"/"+we+"/"+String(void 0===Se&&xe instanceof RegExp&&!("flags"in Qe)?Ze.call(xe):Se)}),{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],189:[function(xe,we,Se){var Te=xe("../internals/collection");xe=xe("../internals/collection-strong");we.exports=Te("Set",(function(xe){return function(){return xe(this||_e,arguments.length?arguments[0]:void 0)}}),xe)},{"../internals/collection":32,"../internals/collection-strong":30}],190:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/object-get-own-property-descriptor").f,Ye=xe("../internals/to-length"),Ze=xe("../internals/not-a-regexp"),Qe=xe("../internals/require-object-coercible"),Ke=xe("../internals/correct-is-regexp-logic"),Je=(xe=xe("../internals/is-pure"),"".endsWith),$e=Math.min;Ke=Ke("endsWith");Te({target:"String",proto:!0,forced:!!(xe||Ke||!(Te=Me(String.prototype,"endsWith"))||Te.writable)&&!Ke},{endsWith:function(xe){var we=String(Qe(this||_e)),Se=(Ze(xe),1<arguments.length?arguments[1]:void 0),Te=Ye(we.length);Se=void 0===Se?Te:$e(Ye(Se),Te),Te=String(xe);return Je?Je.call(we,Te,Se):we.slice(Se-Te.length,Se)===Te}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],191:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/not-a-regexp"),Ye=xe("../internals/require-object-coercible");Te({target:"String",proto:!0,forced:!xe("../internals/correct-is-regexp-logic")("includes")},{includes:function(xe){return!!~String(Ye(this||_e)).indexOf(Me(xe),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],192:[function(xe,we,Se){var Te=xe("../internals/string-multibyte").charAt,Me=xe("../internals/internal-state"),Ye=(xe=xe("../internals/define-iterator"),"String Iterator"),Ze=Me.set,Qe=Me.getterFor(Ye);xe(String,"String",(function(xe){Ze(this||_e,{type:Ye,string:String(xe),index:0})}),(function(){var xe=Qe(this||_e),we=xe.string,Se=xe.index;return Se>=we.length?{value:void 0,done:!0}:(we=Te(we,Se),xe.index+=we.length,{value:we,done:!1})}))},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],193:[function(xe,we,Se){var Te=xe("../internals/fix-regexp-well-known-symbol-logic"),Me=xe("../internals/an-object"),Ye=xe("../internals/to-length"),Ze=xe("../internals/require-object-coercible"),Qe=xe("../internals/advance-string-index"),Ke=xe("../internals/regexp-exec-abstract");Te("match",1,(function(xe,we,Se){return[function(we){var Se=Ze(this||_e),Te=null==we?void 0:we[xe];return void 0!==Te?Te.call(we,Se):new RegExp(we)[xe](String(Se))},function(xe){var Te=Se(we,xe,this||_e);if(Te.done)return Te.value;var Ze=Me(xe),Je=String(this||_e);if(!Ze.global)return Ke(Ze,Je);for(var $e=Ze.unicode,et=[],tt=Ze.lastIndex=0;null!==(rt=Ke(Ze,Je));){var rt=String(rt[0]);""===(et[tt]=rt)&&(Ze.lastIndex=Qe(Je,Ye(Ze.lastIndex),$e)),tt++}return 0===tt?null:et}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],194:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/string-pad").start;Te({target:"String",proto:!0,forced:xe("../internals/string-pad-webkit-bug")},{padStart:function(xe){return Me(this||_e,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],195:[function(_e,xe,we){_e("../internals/export")({target:"String",proto:!0},{repeat:_e("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],196:[function(xe,we,Se){var Te=xe("../internals/fix-regexp-well-known-symbol-logic"),Me=xe("../internals/an-object"),Ye=xe("../internals/to-object"),Ze=xe("../internals/to-length"),Qe=xe("../internals/to-integer"),Ke=xe("../internals/require-object-coercible"),Je=xe("../internals/advance-string-index"),$e=xe("../internals/regexp-exec-abstract"),et=Math.max,tt=Math.min,rt=Math.floor,ot=/\$([$&'`]|\d\d?|<[^>]*>)/g,nt=/\$([$&'`]|\d\d?)/g;Te("replace",2,(function(xe,we,Se,Te){var st=Te.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,it=Te.REPLACE_KEEPS_$0,dt=st?"$":"$0";return[function(Se,Te){var Me=Ke(this||_e),Ye=null==Se?void 0:Se[xe];return void 0!==Ye?Ye.call(Se,Me,Te):we.call(String(Me),Se,Te)},function(xe,Te){if(!st&&it||"string"==typeof Te&&-1===Te.indexOf(dt)){var Ke=Se(we,xe,this||_e,Te);if(Ke.done)return Ke.value}for(var ht,ft=Me(xe),pt=String(this||_e),mt="function"==typeof Te,yt=(mt||(Te=String(Te)),ft.global),gt=(yt&&(ht=ft.unicode,ft.lastIndex=0),[]);null!==(br=$e(ft,pt))&&(gt.push(br),yt);)""===String(br[0])&&(ft.lastIndex=Je(pt,Ze(ft.lastIndex),ht));for(var wt,Dt="",Xt=0,Yt=0;Yt<gt.length;Yt++){for(var br=gt[Yt],jr=String(br[0]),xr=et(tt(Qe(br.index),pt.length),0),wr=[],Sr=1;Sr<br.length;Sr++)wr.push(void 0===(wt=br[Sr])?wt:String(wt));var Tr=br.groups,Mr=mt?(Mr=[jr].concat(wr,xr,pt),void 0!==Tr&&Mr.push(Tr),String(Te.apply(void 0,Mr))):function(_e,xe,Se,Te,Me,Ze){var Qe=Se+_e.length,Ke=Te.length,Je=nt;void 0!==Me&&(Me=Ye(Me),Je=ot);return we.call(Ze,Je,(function(we,Ye){var Ze;switch(Ye.charAt(0)){case"$":return"$";case"&":return _e;case"`":return xe.slice(0,Se);case"'":return xe.slice(Qe);case"<":Ze=Me[Ye.slice(1,-1)];break;default:var Je,$e=+Ye;if(0==$e)return we;if(Ke<$e)return 0!==(Je=rt($e/10))&&Je<=Ke?void 0===Te[Je-1]?Ye.charAt(1):Te[Je-1]+Ye.charAt(1):we;Ze=Te[$e-1]}return void 0===Ze?"":Ze}))}(jr,pt,xr,wr,Tr,Te);Xt<=xr&&(Dt+=pt.slice(Xt,xr)+Mr,Xt=xr+jr.length)}return Dt+pt.slice(Xt)}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],197:[function(xe,we,Se){var Te=xe("../internals/fix-regexp-well-known-symbol-logic"),Me=xe("../internals/an-object"),Ye=xe("../internals/require-object-coercible"),Ze=xe("../internals/same-value"),Qe=xe("../internals/regexp-exec-abstract");Te("search",1,(function(xe,we,Se){return[function(we){var Se=Ye(this||_e),Te=null==we?void 0:we[xe];return void 0!==Te?Te.call(we,Se):new RegExp(we)[xe](String(Se))},function(xe){var Te,Ye=Se(we,xe,this||_e);return Ye.done?Ye.value:(Ye=Me(xe),xe=String(this||_e),Te=Ye.lastIndex,Ze(Te,0)||(Ye.lastIndex=0),xe=Qe(Ye,xe),Ze(Ye.lastIndex,Te)||(Ye.lastIndex=Te),null===xe?-1:xe.index)}]}))},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],198:[function(xe,we,Se){var Te=xe("../internals/fix-regexp-well-known-symbol-logic"),Me=xe("../internals/is-regexp"),Ye=xe("../internals/an-object"),Ze=xe("../internals/require-object-coercible"),Qe=xe("../internals/species-constructor"),Ke=xe("../internals/advance-string-index"),Je=xe("../internals/to-length"),$e=xe("../internals/regexp-exec-abstract"),et=xe("../internals/regexp-exec"),tt=(xe=xe("../internals/fails"),[].push),rt=Math.min,ot=4294967295,nt=!xe((function(){return!RegExp(ot,"y")}));Te("split",2,(function(xe,we,Se){var Te="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(xe,Se){var Te=String(Ze(this||_e)),Ye=void 0===Se?ot:Se>>>0;if(0==Ye)return[];if(void 0===xe)return[Te];if(!Me(xe))return we.call(Te,xe,Ye);for(var Qe,Ke,Je,$e=[],rt=(Se=(xe.ignoreCase?"i":"")+(xe.multiline?"m":"")+(xe.unicode?"u":"")+(xe.sticky?"y":""),0),nt=new RegExp(xe.source,Se+"g");(Qe=et.call(nt,Te))&&!(rt<(Ke=nt.lastIndex)&&($e.push(Te.slice(rt,Qe.index)),1<Qe.length&&Qe.index<Te.length&&tt.apply($e,Qe.slice(1)),Je=Qe[0].length,rt=Ke,$e.length>=Ye));)nt.lastIndex===Qe.index&&nt.lastIndex++;return rt===Te.length?!Je&&nt.test("")||$e.push(""):$e.push(Te.slice(rt)),$e.length>Ye?$e.slice(0,Ye):$e}:"0".split(void 0,0).length?function(xe,Se){return void 0===xe&&0===Se?[]:we.call(this||_e,xe,Se)}:we;return[function(we,Se){var Me=Ze(this||_e),Ye=null==we?void 0:we[xe];return void 0!==Ye?Ye.call(we,Me,Se):Te.call(String(Me),we,Se)},function(xe,Me){var Ze=Se(Te,xe,this||_e,Me,Te!==we);if(Ze.done)return Ze.value;Ze=Ye(xe);var et=String(this||_e),tt=(xe=Qe(Ze,RegExp),Ze.unicode),st=(Ze.ignoreCase?"i":"")+(Ze.multiline?"m":"")+(Ze.unicode?"u":"")+(nt?"y":"g"),it=new xe(nt?Ze:"^(?:"+Ze.source+")",st),dt=void 0===Me?ot:Me>>>0;if(0==dt)return[];if(0===et.length)return null===$e(it,et)?[et]:[];for(var ht=0,ft=0,pt=[];ft<et.length;){it.lastIndex=nt?ft:0;var mt,yt=$e(it,nt?et:et.slice(ft));if(null===yt||(mt=rt(Je(it.lastIndex+(nt?0:ft)),et.length))===ht)ft=Ke(et,ft,tt);else{if(pt.push(et.slice(ht,ft)),pt.length===dt)return pt;for(var gt=1;gt<=yt.length-1;gt++)if(pt.push(yt[gt]),pt.length===dt)return pt;ft=ht=mt}}return pt.push(et.slice(ht)),pt}]}),!nt)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],199:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/object-get-own-property-descriptor").f,Ye=xe("../internals/to-length"),Ze=xe("../internals/not-a-regexp"),Qe=xe("../internals/require-object-coercible"),Ke=xe("../internals/correct-is-regexp-logic"),Je=(xe=xe("../internals/is-pure"),"".startsWith),$e=Math.min;Ke=Ke("startsWith");Te({target:"String",proto:!0,forced:!!(xe||Ke||!(Te=Me(String.prototype,"startsWith"))||Te.writable)&&!Ke},{startsWith:function(xe){var we=String(Qe(this||_e)),Se=(Ze(xe),Ye($e(1<arguments.length?arguments[1]:void 0,we.length)));xe=String(xe);return Je?Je.call(we,xe,Se):we.slice(Se,Se+xe.length)===xe}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],200:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/create-html");Te({target:"String",proto:!0,forced:xe("../internals/string-html-forced")("sub")},{sub:function(){return Me(this||_e,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],201:[function(xe,we,Se){var Te=xe("../internals/export"),Me=xe("../internals/string-trim").trim;Te({target:"String",proto:!0,forced:xe("../internals/string-trim-forced")("trim")},{trim:function(){return Me(this||_e)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],202:[function(xe,we,Se){var Te,Me,Ye,Ze,Qe,Ke=xe("../internals/export"),Je=xe("../internals/descriptors"),$e=xe("../internals/global"),et=xe("../internals/has"),tt=xe("../internals/is-object"),rt=xe("../internals/object-define-property").f,ot=(xe=xe("../internals/copy-constructor-properties"),$e.Symbol);!Je||"function"!=typeof ot||"description"in ot.prototype&&void 0===ot().description||(Te={},xe(Me=function(){var xe=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),we=(this||_e)instanceof Me?new ot(xe):void 0===xe?ot():ot(xe);return""===xe&&(Te[we]=!0),we},ot),($e=Me.prototype=ot.prototype).constructor=Me,Ye=$e.toString,Ze="Symbol(test)"==String(ot("test")),Qe=/^Symbol\((.*)\)[^)]+$/,rt($e,"description",{configurable:!0,get:function(){var xe=tt(this||_e)?this.valueOf():this||_e,we=Ye.call(xe);return et(Te,xe)?"":""===(xe=Ze?we.slice(7,-1):we.replace(Qe,"$1"))?void 0:xe}}),Ke({global:!0,forced:!0},{Symbol:Me}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],203:[function(_e,xe,we){_e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],204:[function(xe,we,Se){function o(_e,xe){var we=qr[_e]=ht(Br[Dr]);return Fr(we,{type:Ir,tag:_e,description:xe}),Qe||(we.description=xe),we}function r(_e,xe){ot(_e);var we=st(xe);xe=ft(we).concat(I(we));return Ar(xe,(function(xe){Qe&&!R.call(we,xe)||L(_e,xe,we[xe])})),_e}function t(_e,xe){var we;_e=st(_e),xe=it(xe,!0);if(_e!==Nr||!et(qr,xe)||et(Xr,xe))return!(we=Vr(_e,xe))||!et(qr,xe)||et(_e,Rr)&&_e[Rr][xe]||(we.enumerable=!0),we}function U(_e){_e=Hr(st(_e));var xe=[];return Ar(_e,(function(_e){et(qr,_e)||et(xr,_e)||xe.push(_e)})),xe}var Te=xe("../internals/export"),Me=xe("../internals/global"),Ye=xe("../internals/get-built-in"),Ze=xe("../internals/is-pure"),Qe=xe("../internals/descriptors"),Ke=xe("../internals/native-symbol"),Je=xe("../internals/use-symbol-as-uid"),$e=xe("../internals/fails"),et=xe("../internals/has"),tt=xe("../internals/is-array"),rt=xe("../internals/is-object"),ot=xe("../internals/an-object"),nt=xe("../internals/to-object"),st=xe("../internals/to-indexed-object"),it=xe("../internals/to-primitive"),dt=xe("../internals/create-property-descriptor"),ht=xe("../internals/object-create"),ft=xe("../internals/object-keys"),pt=xe("../internals/object-get-own-property-names"),mt=xe("../internals/object-get-own-property-names-external"),yt=xe("../internals/object-get-own-property-symbols"),gt=xe("../internals/object-get-own-property-descriptor"),wt=xe("../internals/object-define-property"),Dt=xe("../internals/object-property-is-enumerable"),Xt=xe("../internals/create-non-enumerable-property"),Yt=xe("../internals/redefine"),br=xe("../internals/shared"),jr=xe("../internals/shared-key"),xr=xe("../internals/hidden-keys"),wr=xe("../internals/uid"),Sr=xe("../internals/well-known-symbol"),Tr=xe("../internals/well-known-symbol-wrapped"),Mr=xe("../internals/define-well-known-symbol"),Pr=xe("../internals/set-to-string-tag"),Lr=xe("../internals/internal-state"),Ar=xe("../internals/array-iteration").forEach,Rr=jr("hidden"),Ir="Symbol",Dr="prototype",Fr=(xe=Sr("toPrimitive"),Lr.set),Ur=Lr.getterFor(Ir),Nr=Object[Dr],Br=Me.Symbol,Gr=Ye("JSON","stringify"),Vr=gt.f,zr=wt.f,Hr=mt.f,Wr=Dt.f,qr=br("symbols"),Xr=br("op-symbols"),Yr=br("string-to-symbol-registry"),Zr=br("symbol-to-string-registry"),Qr=(jr=br("wks"),Lr=Me.QObject,!Lr||!Lr[Dr]||!Lr[Dr].findChild),Kr=Qe&&$e((function(){return 7!=ht(zr({},"a",{get:function(){return zr(this||_e,"a",{value:7}).a}})).a}))?function(_e,xe,we){var Se=Vr(Nr,xe);Se&&delete Nr[xe],zr(_e,xe,we),Se&&_e!==Nr&&zr(Nr,xe,Se)}:zr,Jr=Je?function(_e){return"symbol"==typeof _e}:function(_e){return Object(_e)instanceof Br},L=function(_e,xe,we){_e===Nr&&L(Xr,xe,we),ot(_e);xe=it(xe,!0);return ot(we),(et(qr,xe)?(we.enumerable?(et(_e,Rr)&&_e[Rr][xe]&&(_e[Rr][xe]=!1),we=ht(we,{enumerable:dt(0,!1)})):(et(_e,Rr)||zr(_e,Rr,dt(1,{})),_e[Rr][xe]=!0),Kr):zr)(_e,xe,we)},R=function(xe){xe=it(xe,!0);var we=Wr.call(this||_e,xe);return!((this||_e)===Nr&&et(qr,xe)&&!et(Xr,xe))&&(!(we||!et(this||_e,xe)||!et(qr,xe)||et(this||_e,Rr)&&(this||_e)[Rr][xe])||we)},I=function(_e){var xe=_e===Nr,we=(_e=Hr(xe?Xr:st(_e)),[]);return Ar(_e,(function(_e){!et(qr,_e)||xe&&!et(Nr,_e)||we.push(qr[_e])})),we};Ke||(Yt((Br=function(){if((this||_e)instanceof Br)throw TypeError("Symbol is not a constructor");var xe=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,we=wr(xe),r=function(xe){(this||_e)===Nr&&r.call(Xr,xe),et(this||_e,Rr)&&et((this||_e)[Rr],we)&&((this||_e)[Rr][we]=!1),Kr(this||_e,we,dt(1,xe))};return Qe&&Qr&&Kr(Nr,we,{configurable:!0,set:r}),o(we,xe)})[Dr],"toString",(function(){return Ur(this||_e).tag})),Yt(Br,"withoutSetter",(function(_e){return o(wr(_e),_e)})),Dt.f=R,wt.f=L,gt.f=t,pt.f=mt.f=U,yt.f=I,Tr.f=function(_e){return o(Sr(_e),_e)},Qe&&(zr(Br[Dr],"description",{configurable:!0,get:function(){return Ur(this||_e).description}}),Ze||Yt(Nr,"propertyIsEnumerable",R,{unsafe:!0}))),Te({global:!0,wrap:!0,forced:!Ke,sham:!Ke},{Symbol:Br}),Ar(ft(jr),(function(_e){Mr(_e)})),Te({target:Ir,stat:!0,forced:!Ke},{for:function(_e){var xe;_e=String(_e);return et(Yr,_e)?Yr[_e]:(xe=Br(_e),Yr[_e]=xe,Zr[xe]=_e,xe)},keyFor:function(_e){if(!Jr(_e))throw TypeError(_e+" is not a symbol");if(et(Zr,_e))return Zr[_e]},useSetter:function(){Qr=!0},useSimple:function(){Qr=!1}}),Te({target:"Object",stat:!0,forced:!Ke,sham:!Qe},{create:function(_e,xe){return void 0===xe?ht(_e):r(ht(_e),xe)},defineProperty:L,defineProperties:r,getOwnPropertyDescriptor:t}),Te({target:"Object",stat:!0,forced:!Ke},{getOwnPropertyNames:U,getOwnPropertySymbols:I}),Te({target:"Object",stat:!0,forced:$e((function(){yt.f(1)}))},{getOwnPropertySymbols:function(_e){return yt.f(nt(_e))}}),Gr&&Te({target:"JSON",stat:!0,forced:!Ke||$e((function(){var _e=Br();return"[null]"!=Gr([_e])||"{}"!=Gr({a:_e})||"{}"!=Gr(Object(_e))}))},{stringify:function(xe,we,Se){for(var Te,Me=[xe],Ye=1;Ye<arguments.length;)Me.push(arguments[Ye++]);if((rt(Te=we)||void 0!==xe)&&!Jr(xe))return tt(we)||(we=function(xe,we){if("function"==typeof Te&&(we=Te.call(this||_e,xe,we)),!Jr(we))return we}),Me[1]=we,Gr.apply(null,Me)}}),Br[Dr][xe]||Xt(Br[Dr],xe,Br[Dr].valueOf),Pr(Br,Ir),xr[Rr]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],205:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-copy-within"),Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("copyWithin",(function(xe,we){return Me.call(Ye(this||_e),xe,we,2<arguments.length?arguments[2]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],206:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-iteration").every,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("every",(function(xe){return Me(Ye(this||_e),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],207:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-fill"),Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("fill",(function(xe){return Me.apply(Ye(this||_e),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],208:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-iteration").filter,Ye=xe("../internals/species-constructor"),Ze=Te.aTypedArray,Qe=Te.aTypedArrayConstructor;(0,Te.exportTypedArrayMethod)("filter",(function(xe){for(var we=Me(Ze(this||_e),xe,1<arguments.length?arguments[1]:void 0),Se=(xe=Ye(this||_e,(this||_e).constructor),0),Te=we.length,Ke=new(Qe(xe))(Te);Se<Te;)Ke[Se]=we[Se++];return Ke}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],209:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-iteration").findIndex,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("findIndex",(function(xe){return Me(Ye(this||_e),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],210:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-iteration").find,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("find",(function(xe){return Me(Ye(this||_e),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],211:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Float32",(function(xe){return function(we,Se,Te){return xe(this||_e,we,Se,Te)}}))},{"../internals/typed-array-constructor":142}],212:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Float64",(function(xe){return function(we,Se,Te){return xe(this||_e,we,Se,Te)}}))},{"../internals/typed-array-constructor":142}],213:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-iteration").forEach,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("forEach",(function(xe){Me(Ye(this||_e),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],214:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-includes").includes,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("includes",(function(xe){return Me(Ye(this||_e),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],215:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-includes").indexOf,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("indexOf",(function(xe){return Me(Ye(this||_e),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],216:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Int16",(function(xe){return function(we,Se,Te){return xe(this||_e,we,Se,Te)}}))},{"../internals/typed-array-constructor":142}],217:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Int32",(function(xe){return function(we,Se,Te){return xe(this||_e,we,Se,Te)}}))},{"../internals/typed-array-constructor":142}],218:[function(xe,we,Se){function o(){return Ze.call(Je(this||_e))}var Te=xe("../internals/global"),Me=xe("../internals/array-buffer-view-core"),Ye=xe("../modules/es.array.iterator"),Ze=(xe=xe("../internals/well-known-symbol")("iterator"),Te=Te.Uint8Array,Ye.values),Qe=Ye.keys,Ke=Ye.entries,Je=Me.aTypedArray;Ye=Me.exportTypedArrayMethod,Me=Te&&Te.prototype[xe],Te=!!Me&&("values"==Me.name||null==Me.name);Ye("entries",(function(){return Ke.call(Je(this||_e))})),Ye("keys",(function(){return Qe.call(Je(this||_e))})),Ye("values",o,!Te),Ye(xe,o,!Te)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],219:[function(xe,we,Se){xe=xe("../internals/array-buffer-view-core");var Te=xe.aTypedArray,Me=(xe=xe.exportTypedArrayMethod,[].join);xe("join",(function(xe){return Me.apply(Te(this||_e),arguments)}))},{"../internals/array-buffer-view-core":12}],220:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-last-index-of"),Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("lastIndexOf",(function(xe){return Me.apply(Ye(this||_e),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],221:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-iteration").map,Ye=xe("../internals/species-constructor"),Ze=Te.aTypedArray,Qe=Te.aTypedArrayConstructor;(0,Te.exportTypedArrayMethod)("map",(function(xe){return Me(Ze(this||_e),xe,1<arguments.length?arguments[1]:void 0,(function(_e,xe){return new(Qe(Ye(_e,_e.constructor)))(xe)}))}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],222:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-reduce").right,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("reduceRight",(function(xe){return Me(Ye(this||_e),xe,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],223:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-reduce").left,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("reduce",(function(xe){return Me(Ye(this||_e),xe,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],224:[function(xe,we,Se){xe=xe("../internals/array-buffer-view-core");var Te=xe.aTypedArray,Me=(xe=xe.exportTypedArrayMethod,Math.floor);xe("reverse",(function(){for(var xe,we=Te(this||_e).length,Se=Me(we/2),Ye=0;Ye<Se;)xe=(this||_e)[Ye],(this||_e)[Ye++]=(this||_e)[--we],(this||_e)[we]=xe;return this||_e}))},{"../internals/array-buffer-view-core":12}],225:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/to-length"),Ye=xe("../internals/to-offset"),Ze=xe("../internals/to-object"),Qe=(xe=xe("../internals/fails"),Te.aTypedArray);(0,Te.exportTypedArrayMethod)("set",(function(xe){Qe(this||_e);var we=Ye(1<arguments.length?arguments[1]:void 0,1),Se=(this||_e).length,Te=Ze(xe),Ke=Me(Te.length),Je=0;if(Se<Ke+we)throw RangeError("Wrong length");for(;Je<Ke;)(this||_e)[we+Je]=Te[Je++]}),xe((function(){new Int8Array(1).set({})})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],226:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/species-constructor"),Ye=(xe=xe("../internals/fails"),Te.aTypedArray),Ze=Te.aTypedArrayConstructor,Qe=(Te=Te.exportTypedArrayMethod,[].slice);Te("slice",(function(xe,we){for(var Se=Qe.call(Ye(this||_e),xe,we),Te=(xe=Me(this||_e,(this||_e).constructor),0),Ke=Se.length,Je=new(Ze(xe))(Ke);Te<Ke;)Je[Te]=Se[Te++];return Je}),xe((function(){new Int8Array(1).slice()})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],227:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/array-iteration").some,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("some",(function(xe){return Me(Ye(this||_e),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],228:[function(xe,we,Se){xe=xe("../internals/array-buffer-view-core");var Te=xe.aTypedArray,Me=(xe=xe.exportTypedArrayMethod,[].sort);xe("sort",(function(xe){return Me.call(Te(this||_e),xe)}))},{"../internals/array-buffer-view-core":12}],229:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Me=xe("../internals/to-length"),Ye=xe("../internals/to-absolute-index"),Ze=xe("../internals/species-constructor"),Qe=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("subarray",(function(xe,we){var Se=Qe(this||_e),Te=Se.length;xe=Ye(xe,Te);return new(Ze(Se,Se.constructor))(Se.buffer,Se.byteOffset+xe*Se.BYTES_PER_ELEMENT,Me((void 0===we?Te:Ye(we,Te))-xe))}))},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],230:[function(xe,we,Se){var Te=xe("../internals/global"),Me=xe("../internals/array-buffer-view-core"),Ye=(xe=xe("../internals/fails"),Te.Int8Array),Ze=Me.aTypedArray,Qe=(Te=Me.exportTypedArrayMethod,[].toLocaleString),Ke=[].slice,Je=!!Ye&&xe((function(){Qe.call(new Ye(1))}));Te("toLocaleString",(function(){return Qe.apply(Je?Ke.call(Ze(this||_e)):Ze(this||_e),arguments)}),xe((function(){return[1,2].toLocaleString()!=new Ye([1,2]).toLocaleString()}))||!xe((function(){Ye.prototype.toLocaleString.call([1,2])})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],231:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core").exportTypedArrayMethod,Me=xe("../internals/fails"),Ye=(xe=xe("../internals/global").Uint8Array,xe=xe&&xe.prototype||{},[].toString),Ze=[].join;Me=(Me((function(){Ye.call({})}))&&(Ye=function(){return Ze.call(this||_e)}),xe.toString!=Ye);Te("toString",Ye,Me)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],232:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Uint16",(function(xe){return function(we,Se,Te){return xe(this||_e,we,Se,Te)}}))},{"../internals/typed-array-constructor":142}],233:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Uint32",(function(xe){return function(we,Se,Te){return xe(this||_e,we,Se,Te)}}))},{"../internals/typed-array-constructor":142}],234:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Uint8",(function(xe){return function(we,Se,Te){return xe(this||_e,we,Se,Te)}}))},{"../internals/typed-array-constructor":142}],235:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Uint8",(function(xe){return function(we,Se,Te){return xe(this||_e,we,Se,Te)}}),!0)},{"../internals/typed-array-constructor":142}],236:[function(xe,we,Se){function o(xe){return function(){return xe(this||_e,arguments.length?arguments[0]:void 0)}}var Te,Me,Ye,Ze,Qe,Ke=xe("../internals/global"),Je=xe("../internals/redefine-all"),$e=xe("../internals/internal-metadata"),et=xe("../internals/collection"),tt=xe("../internals/collection-weak"),rt=xe("../internals/is-object"),ot=xe("../internals/internal-state").enforce,nt=(xe=xe("../internals/native-weak-map"),Ke=!Ke.ActiveXObject&&"ActiveXObject"in Ke,Object.isExtensible);we=we.exports=et("WeakMap",o,tt);xe&&Ke&&(Te=tt.getConstructor(o,"WeakMap",!0),$e.REQUIRED=!0,et=we.prototype,Me=et.delete,Ye=et.has,Ze=et.get,Qe=et.set,Je(et,{delete:function(xe){var we;return rt(xe)&&!nt(xe)?((we=ot(this||_e)).frozen||(we.frozen=new Te),Me.call(this||_e,xe)||we.frozen.delete(xe)):Me.call(this||_e,xe)},has:function(xe){var we;return rt(xe)&&!nt(xe)?((we=ot(this||_e)).frozen||(we.frozen=new Te),Ye.call(this||_e,xe)||we.frozen.has(xe)):Ye.call(this||_e,xe)},get:function(xe){var we;return!rt(xe)||nt(xe)||((we=ot(this||_e)).frozen||(we.frozen=new Te),Ye.call(this||_e,xe))?Ze.call(this||_e,xe):we.frozen.get(xe)},set:function(xe,we){var Se;return!rt(xe)||nt(xe)||((Se=ot(this||_e)).frozen||(Se.frozen=new Te),Ye.call(this||_e,xe))?Qe.call(this||_e,xe,we):Se.frozen.set(xe,we),this||_e}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],237:[function(_e,xe,we){var Se,Te=_e("../internals/global"),Me=_e("../internals/dom-iterables"),Ye=_e("../internals/array-for-each"),Ze=_e("../internals/create-non-enumerable-property");for(Se in Me){var Qe=Te[Se];Qe=Qe&&Qe.prototype;if(Qe&&Qe.forEach!==Ye)try{Ze(Qe,"forEach",Ye)}catch(_e){Qe.forEach=Ye}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],238:[function(_e,xe,we){var Se,Te=_e("../internals/global"),Me=_e("../internals/dom-iterables"),Ye=_e("../modules/es.array.iterator"),Ze=_e("../internals/create-non-enumerable-property"),Qe=(_e=_e("../internals/well-known-symbol"),_e("iterator")),Ke=_e("toStringTag"),Je=Ye.values;for(Se in Me){var $e=Te[Se],et=$e&&$e.prototype;if(et){if(et[Qe]!==Je)try{Ze(et,Qe,Je)}catch(_e){et[Qe]=Je}if(et[Ke]||Ze(et,Ke,Se),Me[Se])for(var tt in Ye)if(et[tt]!==Ye[tt])try{Ze(et,tt,Ye[tt])}catch(_e){et[tt]=Ye[tt]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],239:[function(xe,we,Se){xe("../modules/es.array.iterator");function n(_e){try{return decodeURIComponent(_e)}catch(xe){return _e}}function r(_e){return xr[_e]}function s(_e){return encodeURIComponent(_e).replace(jr,r)}function c(xe){(this||_e).entries.length=0,R((this||_e).entries,xe)}function u(_e,xe){if(_e<xe)throw TypeError("Not enough arguments")}function d(){et(this||_e,d,yt);var xe,we,Se,Te,Me,Ye,Ze,Qe,Ke=0<arguments.length?arguments[0]:void 0,Je=[];if(wt(this||_e,{type:yt,entries:Je,updateURL:function(){},updateSearchParams:c}),void 0!==Ke)if(st(Ke))if("function"==typeof(xe=ft(Ke)))for(Se=(we=xe.call(Ke)).next;!(Te=Se.call(we)).done;){if((Ye=(Me=(Te=ht(nt(Te.value))).next).call(Te)).done||(Ze=Me.call(Te)).done||!Me.call(Te).done)throw TypeError("Expected sequence with length 2");Je.push({key:Ye.value+"",value:Ze.value+""})}else for(Qe in Ke)tt(Ke,Qe)&&Je.push({key:Qe,value:Ke[Qe]+""});else R(Je,"string"==typeof Ke?"?"===Ke.charAt(0)?Ke.slice(1):Ke:Ke+"")}var Te=xe("../internals/export"),Me=xe("../internals/get-built-in"),Ye=xe("../internals/native-url"),Ze=xe("../internals/redefine"),Qe=xe("../internals/redefine-all"),Ke=xe("../internals/set-to-string-tag"),Je=xe("../internals/create-iterator-constructor"),$e=xe("../internals/internal-state"),et=xe("../internals/an-instance"),tt=xe("../internals/has"),rt=xe("../internals/function-bind-context"),ot=xe("../internals/classof"),nt=xe("../internals/an-object"),st=xe("../internals/is-object"),it=xe("../internals/object-create"),dt=xe("../internals/create-property-descriptor"),ht=xe("../internals/get-iterator"),ft=xe("../internals/get-iterator-method"),pt=(xe=xe("../internals/well-known-symbol"),Me("fetch")),mt=Me("Headers"),yt=(Me=xe("iterator"),"URLSearchParams"),gt=yt+"Iterator",wt=$e.set,Dt=$e.getterFor(yt),Xt=$e.getterFor(gt),Yt=/\+/g,br=Array(4),L=function(_e){var xe,we=_e.replace(Yt," "),Se=4;try{return decodeURIComponent(we)}catch(_e){for(;Se;)we=we.replace((xe=Se--,br[xe-1]||(br[xe-1]=RegExp("((?:%[\\da-f]{2}){"+xe+"})","gi"))),n);return we}},jr=/[!'()~]|%20/g,xr={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(_e,xe){if(xe)for(var we,Se=xe.split("&"),Te=0;Te<Se.length;)(we=Se[Te++]).length&&(we=we.split("="),_e.push({key:L(we.shift()),value:L(we.join("="))}))},wr=Je((function(xe,we){wt(this||_e,{type:gt,iterator:ht(Dt(xe).entries),kind:we})}),"Iterator",(function(){var xe=Xt(this||_e),we=xe.kind,Se=(xe=xe.iterator.next(),xe.value);return xe.done||(xe.value="keys"===we?Se.key:"values"===we?Se.value:[Se.key,Se.value]),xe}));xe=d.prototype;Qe(xe,{append:function(xe,we){u(arguments.length,2);var Se=Dt(this||_e);Se.entries.push({key:xe+"",value:we+""}),Se.updateURL()},delete:function(xe){u(arguments.length,1);for(var we=Dt(this||_e),Se=we.entries,Te=xe+"",Me=0;Me<Se.length;)Se[Me].key===Te?Se.splice(Me,1):Me++;we.updateURL()},get:function(xe){u(arguments.length,1);for(var we=Dt(this||_e).entries,Se=xe+"",Te=0;Te<we.length;Te++)if(we[Te].key===Se)return we[Te].value;return null},getAll:function(xe){u(arguments.length,1);for(var we=Dt(this||_e).entries,Se=xe+"",Te=[],Me=0;Me<we.length;Me++)we[Me].key===Se&&Te.push(we[Me].value);return Te},has:function(xe){u(arguments.length,1);for(var we=Dt(this||_e).entries,Se=xe+"",Te=0;Te<we.length;)if(we[Te++].key===Se)return!0;return!1},set:function(xe,we){u(arguments.length,1);for(var Se,Te=Dt(this||_e),Me=Te.entries,Ye=!1,Ze=xe+"",Qe=we+"",Ke=0;Ke<Me.length;Ke++)(Se=Me[Ke]).key===Ze&&(Ye?Me.splice(Ke--,1):(Ye=!0,Se.value=Qe));Ye||Me.push({key:Ze,value:Qe}),Te.updateURL()},sort:function(){for(var xe,we,Se=Dt(this||_e),Te=Se.entries,Me=Te.slice(),Ye=Te.length=0;Ye<Me.length;Ye++){for(xe=Me[Ye],we=0;we<Ye;we++)if(Te[we].key>xe.key){Te.splice(we,0,xe);break}we===Ye&&Te.push(xe)}Se.updateURL()},forEach:function(xe){for(var we,Se=Dt(this||_e).entries,Te=rt(xe,1<arguments.length?arguments[1]:void 0,3),Me=0;Me<Se.length;)Te((we=Se[Me++]).value,we.key,this||_e)},keys:function(){return new wr(this||_e,"keys")},values:function(){return new wr(this||_e,"values")},entries:function(){return new wr(this||_e,"entries")}},{enumerable:!0}),Ze(xe,Me,xe.entries),Ze(xe,"toString",(function(){for(var xe,we=Dt(this||_e).entries,Se=[],Te=0;Te<we.length;)xe=we[Te++],Se.push(s(xe.key)+"="+s(xe.value));return Se.join("&")}),{enumerable:!0}),Ke(d,yt),Te({global:!0,forced:!Ye},{URLSearchParams:d}),Ye||"function"!=typeof pt||"function"!=typeof mt||Te({global:!0,enumerable:!0,forced:!0},{fetch:function(xe){var we,Se,Te;xe=[xe];return 1<arguments.length&&(st(we=arguments[1])&&(Se=we.body,ot(Se)===yt&&((Te=we.headers?new mt(we.headers):new mt).has("content-type")||Te.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),we=it(we,{body:dt(0,String(Se)),headers:dt(0,Te)}))),xe.push(we)),pt.apply(this||_e,xe)}}),we.exports={URLSearchParams:d,getState:Dt}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],240:[function(xe,we,Se){xe("../modules/es.string.iterator");function c(_e){var xe,we,Se,Te;if("number"==typeof _e){for(xe=[],we=0;we<4;we++)xe.unshift(_e%256),_e=wt(_e/256);return xe.join(".")}if("object"!=typeof _e)return _e;for(xe="",Se=le(_e),we=0;we<8;we++)Te&&0===_e[we]||(Te=Te&&!1,Se===we?(xe+=we?":":"::",Te=!0):(xe+=_e[we].toString(16),we<7&&(xe+=":")));return"["+xe+"]"}function n(_e){return!_e.host||_e.cannotBeABaseURL||"file"==_e.scheme}function a(_e,xe,we,Se){var Me,Ye,Ze,Qe=we||Vr,Ke=0,Je="",$e=!1,et=!1,tt=!1;for(we||(_e.scheme="",_e.username="",_e.password="",_e.host=null,_e.port=null,_e.path=[],_e.query=null,_e.fragment=null,_e.cannotBeABaseURL=!1,xe=xe.replace(Ir,"")),xe=xe.replace(Dr,""),Me=nt(xe);Ke<=Me.length;){switch(Ye=Me[Ke],Qe){case Vr:if(!Ye||!xr.test(Ye)){if(we)return Yt;Qe=Hr;continue}Je+=Ye.toLowerCase(),Qe=zr;break;case zr:if(Ye&&(wr.test(Ye)||"+"==Ye||"-"==Ye||"."==Ye))Je+=Ye.toLowerCase();else{if(":"!=Ye){if(we)return Yt;Je="",Qe=Hr,Ke=0;continue}if(we&&(k(_e)!=rt(Gr,Je)||"file"==Je&&(C(_e)||null!==_e.port)||"file"==_e.scheme&&!_e.host))return;if(_e.scheme=Je,we)return void(k(_e)&&Gr[_e.scheme]==_e.port&&(_e.port=null));Je="","file"==_e.scheme?Qe=to:k(_e)&&Se&&Se.scheme==_e.scheme?Qe=Wr:k(_e)?Qe=Zr:"/"==Me[Ke+1]?(Qe=qr,Ke++):(_e.cannotBeABaseURL=!0,_e.path.push(""),Qe=io)}break;case Hr:if(!Se||Se.cannotBeABaseURL&&"#"!=Ye)return Yt;if(Se.cannotBeABaseURL&&"#"==Ye){_e.scheme=Se.scheme,_e.path=Se.path.slice(),_e.query=Se.query,_e.fragment="",_e.cannotBeABaseURL=!0,Qe=lo;break}Qe="file"==Se.scheme?to:Xr;continue;case Wr:if("/"!=Ye||"/"!=Me[Ke+1]){Qe=Xr;continue}Qe=Qr,Ke++;break;case qr:if("/"==Ye){Qe=Kr;break}Qe=so;continue;case Xr:if(_e.scheme=Se.scheme,Ye==Te)_e.username=Se.username,_e.password=Se.password,_e.host=Se.host,_e.port=Se.port,_e.path=Se.path.slice(),_e.query=Se.query;else if("/"==Ye||"\\"==Ye&&k(_e))Qe=Yr;else if("?"==Ye)_e.username=Se.username,_e.password=Se.password,_e.host=Se.host,_e.port=Se.port,_e.path=Se.path.slice(),_e.query="",Qe=ao;else{if("#"!=Ye){_e.username=Se.username,_e.password=Se.password,_e.host=Se.host,_e.port=Se.port,_e.path=Se.path.slice(),_e.path.pop(),Qe=so;continue}_e.username=Se.username,_e.password=Se.password,_e.host=Se.host,_e.port=Se.port,_e.path=Se.path.slice(),_e.query=Se.query,_e.fragment="",Qe=lo}break;case Yr:if(!k(_e)||"/"!=Ye&&"\\"!=Ye){if("/"!=Ye){_e.username=Se.username,_e.password=Se.password,_e.host=Se.host,_e.port=Se.port,Qe=so;continue}Qe=Kr}else Qe=Qr;break;case Zr:if(Qe=Qr,"/"!=Ye||"/"!=Je.charAt(Ke+1))continue;Ke++;break;case Qr:if("/"==Ye||"\\"==Ye)break;Qe=Kr;continue;case Kr:if("@"==Ye){$e&&(Je="%40"+Je);$e=!0;for(var ot=nt(Je),st=0;st<ot.length;st++){var it=ot[st];":"!=it||tt?(it=M(it,Br),tt?_e.password+=it:_e.username+=it):tt=!0}Je=""}else if(Ye==Te||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&k(_e)){if($e&&""==Je)return Xt;Ke-=nt(Je).length+1,Je="",Qe=Jr}else Je+=Ye;break;case Jr:case $r:if(we&&"file"==_e.scheme){Qe=oo;continue}if(":"!=Ye||et){if(Ye==Te||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&k(_e)){if(k(_e)&&""==Je)return br;if(we&&""==Je&&(C(_e)||null!==_e.port))return;if(Ze=w(_e,Je))return Ze;if(Je="",Qe=no,we)return;continue}"["==Ye?et=!0:"]"==Ye&&(et=!1),Je+=Ye}else{if(""==Je)return br;if(Ze=w(_e,Je))return Ze;if(Je="",Qe=eo,we==$r)return}break;case eo:if(!Sr.test(Ye)){if(Ye==Te||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&k(_e)||we){if(""!=Je){var dt=parseInt(Je,10);if(65535<dt)return jr;_e.port=k(_e)&&dt===Gr[_e.scheme]?null:dt,Je=""}if(we)return;Qe=no;continue}return jr}Je+=Ye;break;case to:if(_e.scheme="file","/"==Ye||"\\"==Ye)Qe=ro;else{if(!Se||"file"!=Se.scheme){Qe=so;continue}if(Ye==Te)_e.host=Se.host,_e.path=Se.path.slice(),_e.query=Se.query;else if("?"==Ye)_e.host=Se.host,_e.path=Se.path.slice(),_e.query="",Qe=ao;else{if("#"!=Ye){de(Me.slice(Ke).join(""))||(_e.host=Se.host,_e.path=Se.path.slice(),he(_e)),Qe=so;continue}_e.host=Se.host,_e.path=Se.path.slice(),_e.query=Se.query,_e.fragment="",Qe=lo}}break;case ro:if("/"==Ye||"\\"==Ye){Qe=oo;break}Se&&"file"==Se.scheme&&!de(Me.slice(Ke).join(""))&&(O(Se.path[0],!0)?_e.path.push(Se.path[0]):_e.host=Se.host),Qe=so;continue;case oo:if(Ye==Te||"/"==Ye||"\\"==Ye||"?"==Ye||"#"==Ye){if(!we&&O(Je))Qe=so;else{if(""==Je){if(_e.host="",we)return}else{if(Ze=w(_e,Je))return Ze;if("localhost"==_e.host&&(_e.host=""),we)return;Je=""}Qe=no}continue}Je+=Ye;break;case no:if(k(_e)){if(Qe=so,"/"!=Ye&&"\\"!=Ye)continue}else if(we||"?"!=Ye)if(we||"#"!=Ye){if(Ye!=Te&&(Qe=so,"/"!=Ye))continue}else _e.fragment="",Qe=lo;else _e.query="",Qe=ao;break;case so:if(Ye==Te||"/"==Ye||"\\"==Ye&&k(_e)||!we&&("?"==Ye||"#"==Ye)){if(pe(Je)?(he(_e),"/"==Ye||"\\"==Ye&&k(_e)||_e.path.push("")):fe(Je)?"/"==Ye||"\\"==Ye&&k(_e)||_e.path.push(""):("file"==_e.scheme&&!_e.path.length&&O(Je)&&(_e.host&&(_e.host=""),Je=Je.charAt(0)+":"),_e.path.push(Je)),Je="","file"==_e.scheme&&(Ye==Te||"?"==Ye||"#"==Ye))for(;1<_e.path.length&&""===_e.path[0];)_e.path.shift();"?"==Ye?(_e.query="",Qe=ao):"#"==Ye&&(_e.fragment="",Qe=lo)}else Je+=M(Ye,Nr);break;case io:"?"==Ye?(_e.query="",Qe=ao):"#"==Ye?(_e.fragment="",Qe=lo):Ye!=Te&&(_e.path[0]+=M(Ye,Fr));break;case ao:we||"#"!=Ye?Ye!=Te&&("'"==Ye&&k(_e)?_e.query+="%27":_e.query+="#"==Ye?"%23":M(Ye,Fr)):(_e.fragment="",Qe=lo);break;case lo:Ye!=Te&&(_e.fragment+=M(Ye,Ur))}Ke++}}function l(xe){var we,Se,Te=tt(this||_e,l,"URL"),Me=1<arguments.length?arguments[1]:void 0,Ye=(xe=String(xe),yt(Te,{type:"URL"}));if(void 0!==Me)if(Me instanceof l)we=gt(Me);else if(Se=a(we={},String(Me)))throw TypeError(Se);if(Se=a(Ye,xe,null,we))throw TypeError(Se);var Ze=Ye.searchParams=new pt;(Me=mt(Ze)).updateSearchParams(Ye.query),Me.updateURL=function(){Ye.query=String(Ze)||null},Qe||(Te.href=uo.call(Te),Te.origin=Oe.call(Te),Te.protocol=Pe.call(Te),Te.username=Ae.call(Te),Te.password=Le.call(Te),Te.host=Re.call(Te),Te.hostname=Ie.call(Te),Te.port=De.call(Te),Te.pathname=Fe.call(Te),Te.search=Ue.call(Te),Te.searchParams=Ne.call(Te),Te.hash=Be.call(Te))}function t(_e,xe){return{get:_e,set:xe,configurable:!0,enumerable:!0}}var Te,Me,Ye,Ze=xe("../internals/export"),Qe=xe("../internals/descriptors"),Ke=xe("../internals/native-url"),Je=xe("../internals/global"),$e=xe("../internals/object-define-properties"),et=xe("../internals/redefine"),tt=xe("../internals/an-instance"),rt=xe("../internals/has"),ot=xe("../internals/object-assign"),nt=xe("../internals/array-from"),st=xe("../internals/string-multibyte").codeAt,it=xe("../internals/string-punycode-to-ascii"),dt=xe("../internals/set-to-string-tag"),ht=xe("../modules/web.url-search-params"),ft=(xe=xe("../internals/internal-state"),Je.URL),pt=ht.URLSearchParams,mt=ht.getState,yt=xe.set,gt=xe.getterFor("URL"),wt=Math.floor,Dt=Math.pow,Xt="Invalid authority",Yt="Invalid scheme",br="Invalid host",jr="Invalid port",xr=/[A-Za-z]/,wr=/[\d+-.A-Za-z]/,Sr=/\d/,Tr=/^(0x|0X)/,Mr=/^[0-7]+$/,Pr=/^\d+$/,Lr=/^[\dA-Fa-f]+$/,Ar=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Rr=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Ir=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Dr=/[\u0009\u000A\u000D]/g,w=function(_e,xe){var we,Se,Te;if("["==xe.charAt(0))return"]"==xe.charAt(xe.length-1)&&(we=function(_e){var xe,we,Se,Te,Me,Ye,Ze,Qe=[0,0,0,0,0,0,0,0],Ke=0,Je=null,$e=0,h=function(){return _e.charAt($e)};if(h()==":"){if(_e.charAt(1)!=":")return;$e+=2;Ke++;Je=Ke}while(h()){if(Ke==8)return;if(h()!=":"){xe=we=0;while(we<4&&Lr.test(h())){xe=xe*16+parseInt(h(),16);$e++;we++}if(h()=="."){if(we==0)return;$e-=we;if(Ke>6)return;Se=0;while(h()){Te=null;if(Se>0){if(!(h()=="."&&Se<4))return;$e++}if(!Sr.test(h()))return;while(Sr.test(h())){Me=parseInt(h(),10);if(Te===null)Te=Me;else{if(Te==0)return;Te=Te*10+Me}if(Te>255)return;$e++}Qe[Ke]=Qe[Ke]*256+Te;Se++;Se!=2&&Se!=4||Ke++}if(Se!=4)return;break}if(h()==":"){$e++;if(!h())return}else if(h())return;Qe[Ke++]=xe}else{if(Je!==null)return;$e++;Ke++;Je=Ke}}if(Je!==null){Ye=Ke-Je;Ke=7;while(Ke!=0&&Ye>0){Ze=Qe[Ke];Qe[Ke--]=Qe[Je+Ye-1];Qe[Je+--Ye]=Ze}}else if(Ke!=8)return;return Qe}(xe.slice(1,-1)))?void(_e.host=we):br;if(k(_e))return xe=it(xe),Ar.test(xe)||null===(we=function(_e){var xe,we,Se,Te,Me,Ye,Ze,Qe=_e.split(".");Qe.length&&Qe[Qe.length-1]==""&&Qe.pop();if((xe=Qe.length)>4)return _e;for(we=[],Se=0;Se<xe;Se++){Te=Qe[Se];if(Te=="")return _e;Me=10;if(Te.length>1&&Te.charAt(0)=="0"){Me=Tr.test(Te)?16:8;Te=Te.slice(Me==8?1:2)}if(Te==="")Ye=0;else{if(!(Me==10?Pr:Me==8?Mr:Lr).test(Te))return _e;Ye=parseInt(Te,Me)}we.push(Ye)}for(Se=0;Se<xe;Se++){Ye=we[Se];if(Se==xe-1){if(Ye>=Dt(256,5-xe))return null}else if(Ye>255)return null}for(Ze=we.pop(),Se=0;Se<we.length;Se++)Ze+=we[Se]*Dt(256,3-Se);return Ze}(xe))?br:void(_e.host=we);if(Rr.test(xe))return br;for(we="",Se=nt(xe),Te=0;Te<Se.length;Te++)we+=M(Se[Te],Fr);_e.host=we},le=function(_e){for(var xe=null,we=1,Se=null,Te=0,Me=0;Me<8;Me++)0!==_e[Me]?(we<Te&&(xe=Se,we=Te),Se=null,Te=0):(null===Se&&(Se=Me),++Te);return we<Te&&(xe=Se,we=Te),xe},Fr={},Ur=ot({},Fr,{" ":1,'"':1,"<":1,">":1,"`":1}),Nr=ot({},Ur,{"#":1,"?":1,"{":1,"}":1}),Br=ot({},Nr,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),M=function(_e,xe){var we=st(_e,0);return 32<we&&we<127&&!rt(xe,_e)?_e:encodeURIComponent(_e)},Gr={ftp:21,file:null,http:80,https:443,ws:80,wss:443},k=function(_e){return rt(Gr,_e.scheme)},C=function(_e){return""!=_e.username||""!=_e.password},O=function(_e,xe){return 2==_e.length&&xr.test(_e.charAt(0))&&(":"==(_e=_e.charAt(1))||!xe&&"|"==_e)},de=function(_e){return 1<_e.length&&O(_e.slice(0,2))&&(2==_e.length||"/"===(_e=_e.charAt(2))||"\\"===_e||"?"===_e||"#"===_e)},he=function(_e){var xe=_e.path,we=xe.length;!we||"file"==_e.scheme&&1==we&&O(xe[0],!0)||xe.pop()},fe=function(_e){return"."===_e||"%2e"===_e.toLowerCase()},pe=function(_e){return".."===(_e=_e.toLowerCase())||"%2e."===_e||".%2e"===_e||"%2e%2e"===_e},Vr={},zr={},Hr={},Wr={},qr={},Xr={},Yr={},Zr={},Qr={},Kr={},Jr={},$r={},eo={},to={},ro={},oo={},no={},so={},io={},ao={},lo={},uo=(Je=l.prototype,function(){var xe=gt(this||_e),we=xe.scheme,Se=xe.username,Te=xe.password,Me=xe.host,Ye=xe.port,Ze=xe.path,Qe=xe.query,Ke=xe.fragment,Je=we+":";return null!==Me?(Je+="//",C(xe)&&(Je+=Se+(Te?":"+Te:"")+"@"),Je+=c(Me),null!==Ye&&(Je+=":"+Ye)):"file"==we&&(Je+="//"),Je+=xe.cannotBeABaseURL?Ze[0]:Ze.length?"/"+Ze.join("/"):"",null!==Qe&&(Je+="?"+Qe),null!==Ke&&(Je+="#"+Ke),Je}),Oe=function(){var xe=gt(this||_e),we=xe.scheme,Se=xe.port;if("blob"==we)try{return new URL(we.path[0]).origin}catch(xe){return"null"}return"file"!=we&&k(xe)?we+"://"+c(xe.host)+(null!==Se?":"+Se:""):"null"},Pe=function(){return gt(this||_e).scheme+":"},Ae=function(){return gt(this||_e).username},Le=function(){return gt(this||_e).password},Re=function(){var xe=gt(this||_e),we=xe.host;xe=xe.port;return null===we?"":null===xe?c(we):c(we)+":"+xe},Ie=function(){var xe=gt(this||_e).host;return null===xe?"":c(xe)},De=function(){var xe=gt(this||_e).port;return null===xe?"":String(xe)},Fe=function(){var xe=gt(this||_e),we=xe.path;return xe.cannotBeABaseURL?we[0]:we.length?"/"+we.join("/"):""},Ue=function(){var xe=gt(this||_e).query;return xe?"?"+xe:""},Ne=function(){return gt(this||_e).searchParams},Be=function(){var xe=gt(this||_e).fragment;return xe?"#"+xe:""};Qe&&$e(Je,{href:t(uo,(function(xe){var we=gt(this||_e);xe=String(xe),xe=a(we,xe);if(xe)throw TypeError(xe);mt(we.searchParams).updateSearchParams(we.query)})),origin:t(Oe),protocol:t(Pe,(function(xe){var we=gt(this||_e);a(we,String(xe)+":",Vr)})),username:t(Ae,(function(xe){var we=gt(this||_e),Se=nt(String(xe));if(!n(we)){we.username="";for(var Te=0;Te<Se.length;Te++)we.username+=M(Se[Te],Br)}})),password:t(Le,(function(xe){var we=gt(this||_e),Se=nt(String(xe));if(!n(we)){we.password="";for(var Te=0;Te<Se.length;Te++)we.password+=M(Se[Te],Br)}})),host:t(Re,(function(xe){var we=gt(this||_e);we.cannotBeABaseURL||a(we,String(xe),Jr)})),hostname:t(Ie,(function(xe){var we=gt(this||_e);we.cannotBeABaseURL||a(we,String(xe),$r)})),port:t(De,(function(xe){var we=gt(this||_e);n(we)||(""==(xe=String(xe))?we.port=null:a(we,xe,eo))})),pathname:t(Fe,(function(xe){var we=gt(this||_e);we.cannotBeABaseURL||(we.path=[],a(we,xe+"",no))})),search:t(Ue,(function(xe){var we=gt(this||_e);""==(xe=String(xe))?we.query=null:("?"==xe.charAt(0)&&(xe=xe.slice(1)),we.query="",a(we,xe,ao)),mt(we.searchParams).updateSearchParams(we.query)})),searchParams:t(Ne),hash:t(Be,(function(xe){var we=gt(this||_e);""==(xe=String(xe))?we.fragment=null:("#"==xe.charAt(0)&&(xe=xe.slice(1)),we.fragment="",a(we,xe,lo))}))}),et(Je,"toJSON",(function(){return uo.call(this||_e)}),{enumerable:!0}),et(Je,"toString",(function(){return uo.call(this||_e)}),{enumerable:!0}),ft&&(Me=ft.createObjectURL,Ye=ft.revokeObjectURL,Me&&et(l,"createObjectURL",(function(_e){return Me.apply(ft,arguments)})),Ye&&et(l,"revokeObjectURL",(function(_e){return Ye.apply(ft,arguments)}))),dt(l,"URL"),Ze({global:!0,forced:!Ke,sham:!Qe},{URL:l})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":192,"../modules/web.url-search-params":239}],241:[function(_e,xe,we){xe.exports=_e("./").polyfill()},{"./":242}],242:[function(we,Se,Te){!function(Me,Ye){var Ze,Qe;Ze=this||_e,Qe=function(){function l(_e){return"function"==typeof _e}var xe=Array.isArray||function(_e){return"[object Array]"===Object.prototype.toString.call(_e)},Se=0,Te=void 0,Ze=void 0,i=function(_e,xe){et[Se]=_e,et[Se+1]=xe,2===(Se+=2)&&(Ze?Ze(h):nt())};var Qe="undefined"!=typeof window?window:void 0,Ke=Qe||{},Je=(Ke=Ke.MutationObserver||Ke.WebKitMutationObserver,"undefined"==typeof self&&void 0!==Me&&"[object process]"==={}.toString.call(Me)),$e="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var _e=setTimeout;return function(){return _e(h,1)}}var et=new Array(1e3);function h(){for(var _e=0;_e<Se;_e+=2)(0,et[_e])(et[_e+1]),et[_e]=void 0,et[_e+1]=void 0;Se=0}function f(){try{var _e=Function("return this")().require("vertx");return void 0!==(Te=_e.runOnLoop||_e.runOnContext)?function(){Te(h)}:c()}catch(_e){return c()}}var tt,rt,ot,nt=void 0;function g(xe,we){var Se,Te=this||_e,Me=new(this||_e).constructor(j),Ye=(void 0===Me[st]&&A(Me),Te._state);return Ye?(Se=arguments[Ye-1],i((function(){return O(Ye,Me,Se,Te._result)}))):k(Te,Me,xe,we),Me}function v(xe){var we;return xe&&"object"==typeof xe&&xe.constructor===(this||_e)?xe:(T(we=new(this||_e)(j),xe),we)}nt=Je?function(){return Me.nextTick(h)}:Ke?(rt=0,Je=new Ke(h),ot=document.createTextNode(""),Je.observe(ot,{characterData:!0}),function(){ot.data=rt=++rt%2}):$e?((tt=new MessageChannel).port1.onmessage=h,function(){return tt.port2.postMessage(0)}):(void 0===Qe&&"function"==typeof we?f:c)();var st=Math.random().toString(36).substring(2);function j(){}var it=void 0,dt=1,ht=2;function F(_e,xe,we){i((function(_e){var Se=!1,Te=function(_e,xe,we,Se){try{_e.call(xe,we,Se)}catch(_e){return _e}}(we,xe,(function(we){Se||(Se=!0,(xe!==we?T:M)(_e,we))}),(function(xe){Se||(Se=!0,E(_e,xe))}),_e._label);!Se&&Te&&(Se=!0,E(_e,Te))}),_e)}function S(_e,xe,we){var Se,Te;xe.constructor===_e.constructor&&we===g&&xe.constructor.resolve===v?(Se=_e,(Te=xe)._state===dt?M(Se,Te._result):Te._state===ht?E(Se,Te._result):k(Te,void 0,(function(_e){return T(Se,_e)}),(function(_e){return E(Se,_e)}))):void 0!==we&&l(we)?F(_e,xe,we):M(_e,xe)}function T(_e,xe){if(_e===xe)E(_e,new TypeError("You cannot resolve a promise with itself"));else if(we=typeof xe,null===xe||"object"!=we&&"function"!=we)M(_e,xe);else{we=void 0;try{we=xe.then}catch(xe){return void E(_e,xe)}S(_e,xe,we)}var we}function U(_e){_e._onerror&&_e._onerror(_e._result),C(_e)}function M(_e,xe){_e._state===it&&(_e._result=xe,_e._state=dt,0!==_e._subscribers.length&&i(C,_e))}function E(_e,xe){_e._state===it&&(_e._state=ht,_e._result=xe,i(U,_e))}function k(_e,xe,we,Se){var Te=_e._subscribers,Me=Te.length;_e._onerror=null,Te[Me]=xe,Te[Me+dt]=we,Te[Me+ht]=Se,0===Me&&_e._state&&i(C,_e)}function C(_e){var xe=_e._subscribers,we=_e._state;if(0!==xe.length){for(var Se,Te=void 0,Me=_e._result,Ye=0;Ye<xe.length;Ye+=3)Se=xe[Ye],Te=xe[Ye+we],Se?O(we,Se,Te,Me):Te(Me);_e._subscribers.length=0}}function O(_e,xe,we,Se){var Te=l(we),Me=void 0,Ye=void 0,Ze=!0;if(Te){try{Me=we(Se)}catch(_e){Ze=!1,Ye=_e}if(xe===Me)return void E(xe,new TypeError("A promises callback cannot return that same promise."))}else Me=Se;xe._state===it&&(Te&&Ze?T(xe,Me):!1===Ze?E(xe,Ye):_e===dt?M(xe,Me):_e===ht&&E(xe,Me))}var ft=0;function A(_e){_e[st]=ft++,_e._state=void 0,_e._result=void 0,_e._subscribers=[]}L.prototype._enumerate=function(xe){for(var we=0;(this||_e)._state===it&&we<xe.length;we++)this._eachEntry(xe[we],we)},L.prototype._eachEntry=function(xe,we){var Se=(this||_e)._instanceConstructor,Te=Se.resolve;if(Te===v){var Me,Ye=void 0,Ze=void 0,Qe=!1;try{Ye=xe.then}catch(we){Qe=!0,Ze=we}Ye===g&&xe._state!==it?this._settledAt(xe._state,we,xe._result):"function"!=typeof Ye?((this||_e)._remaining--,(this||_e)._result[we]=xe):Se===mt?(Me=new Se(j),Qe?E(Me,Ze):S(Me,xe,Ye),this._willSettleAt(Me,we)):this._willSettleAt(new Se((function(_e){return _e(xe)})),we)}else this._willSettleAt(Te(xe),we)},L.prototype._settledAt=function(xe,we,Se){var Te=(this||_e).promise;Te._state===it&&((this||_e)._remaining--,xe===ht?E(Te,Se):(this||_e)._result[we]=Se),0===(this||_e)._remaining&&M(Te,(this||_e)._result)},L.prototype._willSettleAt=function(xe,we){var Se=this||_e;k(xe,void 0,(function(_e){return Se._settledAt(dt,we,_e)}),(function(_e){return Se._settledAt(ht,we,_e)}))};var pt=L;function L(we,Se){(this||_e)._instanceConstructor=we,(this||_e).promise=new we(j),(this||_e).promise[st]||A((this||_e).promise),xe(Se)?((this||_e).length=Se.length,(this||_e)._remaining=Se.length,(this||_e)._result=new Array((this||_e).length),0!==(this||_e).length&&((this||_e).length=(this||_e).length||0,this._enumerate(Se),0!==(this||_e)._remaining)||M((this||_e).promise,(this||_e)._result)):E((this||_e).promise,new Error("Array Methods must be provided an Array"))}I.prototype.catch=function(_e){return this.then(null,_e)},I.prototype.finally=function(xe){var we=(this||_e).constructor;return l(xe)?this.then((function(_e){return we.resolve(xe()).then((function(){return _e}))}),(function(_e){return we.resolve(xe()).then((function(){throw _e}))})):this.then(xe,xe)};var mt=I;function I(xe){if((this||_e)[st]=ft++,(this||_e)._result=(this||_e)._state=void 0,(this||_e)._subscribers=[],j!==xe){if("function"!=typeof xe)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!((this||_e)instanceof I))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var we=this||_e;try{xe((function(_e){T(we,_e)}),(function(_e){E(we,_e)}))}catch(xe){E(we,xe)}}}return mt.prototype.then=g,mt.all=function(xe){return new pt(this||_e,xe).promise},mt.race=function(we){var Se=this||_e;return xe(we)?new Se((function(_e,xe){for(var Te=we.length,Me=0;Me<Te;Me++)Se.resolve(we[Me]).then(_e,xe)})):new Se((function(_e,xe){return xe(new TypeError("You must pass an array to race."))}))},mt.resolve=v,mt.reject=function(xe){var we=new(this||_e)(j);return E(we,xe),we},mt._setScheduler=function(_e){Ze=_e},mt._setAsap=function(_e){i=_e},mt._asap=i,mt.polyfill=function(){var _e=void 0;if(void 0!==Ye)_e=Ye;else if("undefined"!=typeof self)_e=self;else try{_e=Function("return this")()}catch(_e){throw new Error("polyfill failed because global object is unavailable in this environment")}var xe=_e.Promise;if(xe){var we=null;try{we=Object.prototype.toString.call(xe.resolve())}catch(_e){}if("[object Promise]"===we&&!xe.cast)return}_e.Promise=mt},mt.Promise=mt},"object"==typeof Te&&void 0!==Se?Se.exports=Qe():"function"==typeof xe&&xe.amd?xe(Qe):Ze.ES6Promise=Qe()}.call(this||_e,we("_process"),"undefined"!=typeof _e?_e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:251}],243:[function(we,Se,Te){var Me,Ye;Me=this||_e,Ye=function(_e,xe){var we=5e3,Se="callback";function d(_e){try{delete window[_e]}catch(xe){window[_e]=void 0}}function h(_e){_e=document.getElementById(_e);_e&&document.getElementsByTagName("head")[0].removeChild(_e)}xe.exports=function(_e){var xe=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],Te=_e,Me=xe.timeout||we,Ye=xe.jsonpCallback||Se,Ze=void 0;return new Promise((function(we,Se){var Qe=xe.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),Ke=Ye+"_"+Qe,Je=(window[Qe]=function(_e){we({ok:!0,json:function(){return Promise.resolve(_e)}}),Ze&&clearTimeout(Ze),h(Ke),d(Qe)},Te+=-1===Te.indexOf("?")?"?":"&",document.createElement("script"));Je.setAttribute("src",""+Te+Ye+"="+Qe),xe.charset&&Je.setAttribute("charset",xe.charset),Je.id=Ke,document.getElementsByTagName("head")[0].appendChild(Je),Ze=setTimeout((function(){Se(new Error("JSONP request to "+_e+" timed out")),d(Qe),h(Ke),window[Qe]=function(){d(Qe)}}),Me),Je.onerror=function(){Se(new Error("JSONP request to "+_e+" failed")),d(Qe),h(Ke),Ze&&clearTimeout(Ze)}}))}},"function"==typeof xe&&xe.amd?xe(["exports","module"],Ye):void 0!==Te&&void 0!==Se?Ye(0,Se):(Ye(Ye={exports:{}},Ye),Me.fetchJsonp=Ye.exports)},{}],244:[function(we,Se,Te){var Me=function(xe){var we,Se,Te,Me,Ye,Ze,Qe,Ke,Je,$e,et;if(!(void 0===xe||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)))return et=xe.document,we=function(){return xe.URL||xe.webkitURL||xe},Se=et.createElementNS("http://www.w3.org/1999/xhtml","a"),Te="download"in Se,Me=/constructor/i.test(xe.HTMLElement)||xe.safari,Ye=/CriOS\/[\d]+/.test(navigator.userAgent),Ze=function(_e){(xe.setImmediate||xe.setTimeout)((function(){throw _e}),0)},Qe=4e4,Ke=function(_e){setTimeout((function(){"string"==typeof _e?we().revokeObjectURL(_e):_e.remove()}),Qe)},Je=function(_e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_e.type)?new Blob([String.fromCharCode(65279),_e],{type:_e.type}):_e},et=($e=function(Qe,$e,et){et||(Qe=Je(Qe));var tt,rt,ot=this||_e,nt=(et="application/octet-stream"===Qe.type,function(){for(var _e=ot,xe="writestart progress write writeend".split(" "),we=void 0,Se=(xe=[].concat(xe)).length;Se--;){var Te=_e["on"+xe[Se]];if("function"==typeof Te)try{Te.call(_e,we||_e)}catch(_e){Ze(_e)}}});ot.readyState=ot.INIT,Te?(tt=we().createObjectURL(Qe),setTimeout((function(){var _e,xe;Se.href=tt,Se.download=$e,_e=Se,xe=new MouseEvent("click"),_e.dispatchEvent(xe),nt(),Ke(tt),ot.readyState=ot.DONE}))):(Ye||et&&Me)&&xe.FileReader?((rt=new FileReader).onloadend=function(){var _e=Ye?rt.result:rt.result.replace(/^data:[^;]*;/,"data:attachment/file;");xe.open(_e,"_blank")||(xe.location.href=_e),_e=void 0,ot.readyState=ot.DONE,nt()},rt.readAsDataURL(Qe),ot.readyState=ot.INIT):(tt=tt||we().createObjectURL(Qe),!et&&xe.open(tt,"_blank")||(xe.location.href=tt),ot.readyState=ot.DONE,nt(),Ke(tt))}).prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(_e,xe,we){return xe=xe||_e.name||"download",we||(_e=Je(_e)),navigator.msSaveOrOpenBlob(_e,xe)}:(et.abort=function(){},et.readyState=et.INIT=0,et.WRITING=1,et.DONE=2,et.error=et.onwritestart=et.onprogress=et.onwrite=et.onabort=et.onerror=et.onwriteend=null,function(_e,xe,we){return new $e(_e,xe||_e.name||"download",we)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(this||_e).content);void 0!==Se&&Se.exports?Se.exports.saveAs=Me:null!=xe&&null!==xe.amd&&xe("FileSaver.js",(function(){return Me}))},{}],245:[function(_e,xe,we){var Se,Te=Object.defineProperty,Me=(Te(we,"__esModule",{value:!0}),we),Ye={GIFEncoder:()=>h,applyPalette:()=>function(_e,xe,we="rgb565"){if(!_e||!_e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(_e instanceof Uint8Array||_e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<xe.length)throw new Error("applyPalette() only works with 256 colors or less");const Se=new Uint32Array(_e.buffer),Te=Se.length,Me="rgb444"===we?4096:65536,Ye=new Uint8Array(Te),Ze=new Array(Me);if("rgba4444"===we)for(let _e=0;_e<Te;_e++){var Qe=Se[_e],Ke=Qe>>24&255,Je=Qe>>16&255,$e=Qe>>8&255,et=(Qe=255&Qe,P(Qe,$e,Je,Ke));et=et in Ze?Ze[et]:Ze[et]=function(_e,xe,we,Se,Te){let Me=0,Ye=1e100;for(let Je=0;Je<Te.length;Je++){var Ze,Qe=Te[Je],Ke=v(Qe[3]-Se);Ke>Ye||(Ze=Qe[0],(Ke+=v(Ze-_e))>Ye||(Ze=Qe[1],(Ke+=v(Ze-xe))>Ye||(Ze=Qe[2],(Ke+=v(Ze-we))>Ye||(Ye=Ke,Me=Je))))}return Me}(Qe,$e,Je,Ke,xe);Ye[_e]=et}else{const _e="rgb444"===we?A:O;for(let we=0;we<Te;we++){var tt=Se[we],rt=tt>>16&255,ot=tt>>8&255,nt=(tt=255&tt,_e(tt,ot,rt));nt=nt in Ze?Ze[nt]:Ze[nt]=function(_e,xe,we,Se){let Te=0,Me=1e100;for(let Ke=0;Ke<Se.length;Ke++){var Ye,Ze=Se[Ke],Qe=v(Ze[0]-_e);Qe>Me||(Ye=Ze[1],(Qe+=v(Ye-xe))>Me||(Ye=Ze[2],(Qe+=v(Ye-we))>Me||(Me=Qe,Te=Ke)))}return Te}(tt,ot,rt,xe);Ye[we]=nt}}return Ye},default:()=>Ke,nearestColor:()=>function(_e,xe,we=u){return _e[l(_e,xe,we)]},nearestColorIndex:()=>l,nearestColorIndexWithDistance:()=>d,prequantize:()=>function(_e,{roundRGB:xe=5,roundAlpha:we=10,oneBitAlpha:Se=null}={}){const Te=new Uint32Array(_e.buffer);for(let _e=0;_e<Te.length;_e++){var Me=Te[_e];let Ke=Me>>24&255;var Ye,Ze=Me>>16&255,Qe=Me>>8&255;Me=255&Me;Ke=c(Ke,we),Se&&(Ye="number"==typeof Se?Se:127,Ke=Ke<=Ye?0:255),Me=c(Me,xe),Qe=c(Qe,xe),Ze=c(Ze,xe),Te[_e]=Ke<<24|Ze<<16|Qe<<8|Me<<0}},quantize:()=>function(_e,xe,we={}){var{format:Se="rgb565",clearAlpha:Te=!0,clearAlphaColor:Me=0,clearAlphaThreshold:Ye=0,oneBitAlpha:Ze=!1}=we;if(!_e||!_e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(_e instanceof Uint8Array||_e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");_e=new Uint32Array(_e.buffer);let Qe=!1!==we.useSqrt;const Ke="rgba4444"===Se,Je=function(_e,xe){const we="rgb444"===xe?4096:65536,Se=new Array(we),Te=_e.length;if("rgba4444"===xe)for(let xe=0;xe<Te;++xe){var Me=_e[xe],Ye=Me>>24&255,Ze=Me>>16&255,Qe=Me>>8&255,Ke=(Me=255&Me,P(Me,Qe,Ze,Ye));let we=Ke in Se?Se[Ke]:Se[Ke]=D();we.rc+=Me,we.gc+=Qe,we.bc+=Ze,we.ac+=Ye,we.cnt++}else if("rgb444"===xe)for(let xe=0;xe<Te;++xe){var Je=_e[xe],$e=Je>>16&255,et=Je>>8&255,tt=(Je=255&Je,A(Je,et,$e));let we=tt in Se?Se[tt]:Se[tt]=D();we.rc+=Je,we.gc+=et,we.bc+=$e,we.cnt++}else for(let xe=0;xe<Te;++xe){var rt=_e[xe],ot=rt>>16&255,nt=rt>>8&255,st=(rt=255&rt,O(rt,nt,ot));let we=st in Se?Se[st]:Se[st]=D();we.rc+=rt,we.gc+=nt,we.bc+=ot,we.cnt++}return Se}(_e,Se),$e=Je.length,et=$e-1,tt=new Uint32Array($e+1);for(var rt=0,ot=0;ot<$e;++ot){const _e=Je[ot];null!=_e&&(wt=1/_e.cnt,Ke&&(_e.ac*=wt),_e.rc*=wt,_e.gc*=wt,_e.bc*=wt,Je[rt++]=_e)}R(xe)/rt<.022&&(Qe=!1);var nt,st,it;for(ot=0;ot<rt-1;++ot)Je[ot].fw=ot+1,Je[ot+1].bk=ot,Qe&&(Je[ot].cnt=Math.sqrt(Je[ot].cnt));Qe&&(Je[ot].cnt=Math.sqrt(Je[ot].cnt));for(ot=0;ot<rt;++ot){I(Je,ot,!1);var dt=Je[ot].err;for(st=++tt[0];1<st&&(it=st>>1,!(Je[nt=tt[it]].err<=dt));st=it)tt[st]=nt;tt[st]=ot}var ht,ft=rt-xe;for(ot=0;ot<ft;){for(;;){var pt=tt[1];if((ht=Je[pt]).tm>=ht.mtm&&Je[ht.nn].mtm<=ht.tm)break;ht.mtm==et?pt=tt[1]=tt[tt[0]--]:(I(Je,pt,!1),ht.tm=ot);dt=Je[pt].err;for(st=1;(it=st+st)<=tt[0]&&(it<tt[0]&&Je[tt[it]].err>Je[tt[it+1]].err&&it++,!(dt<=Je[nt=tt[it]].err));st=it)tt[st]=nt;tt[st]=pt}var mt=Je[ht.nn],yt=ht.cnt,gt=mt.cnt,wt=1/(yt+gt);Ke&&(ht.ac=wt*(yt*ht.ac+gt*mt.ac)),ht.rc=wt*(yt*ht.rc+gt*mt.rc),ht.gc=wt*(yt*ht.gc+gt*mt.gc),ht.bc=wt*(yt*ht.bc+gt*mt.bc),ht.cnt+=mt.cnt,ht.mtm=++ot,Je[mt.bk].fw=mt.fw,Je[mt.fw].bk=mt.bk,mt.mtm=et}let Dt=[];for(ot=0;;0){let _e=L(Math.round(Je[ot].rc),0,255),xe=L(Math.round(Je[ot].gc),0,255),we=L(Math.round(Je[ot].bc),0,255),Se=255;Ke&&(Se=L(Math.round(Je[ot].ac),0,255),Ze&&(Xt="number"==typeof Ze?Ze:127,Se=Se<=Xt?0:255),Te&&Se<=Ye&&(_e=xe=we=Me,Se=0));var Xt=Ke?[_e,xe,we,Se]:[_e,xe,we];if(function(_e,xe){for(let Te=0;Te<_e.length;Te++){var we=_e[Te],Se=we[0]===xe[0]&&we[1]===xe[1]&&we[2]===xe[2];we=!(4<=we.length&&4<=xe.length)||we[3]===xe[3];if(Se&&we)return!0}return!1}(Dt,Xt)||Dt.push(Xt),0==(ot=Je[ot].fw))break}return Dt},snapColorsToPalette:()=>function(_e,xe,we=5){if(_e.length&&xe.length){var Se=_e.map((_e=>_e.slice(0,3))),Te=we*we,Me=_e[0].length;for(let we=0;we<xe.length;we++){let Qe=xe[we];Qe=Qe.length<Me?[Qe[0],Qe[1],Qe[2],255]:Qe.length>Me?Qe.slice(0,3):Qe.slice();var Ye=d(Se,Qe.slice(0,3),u),Ze=Ye[0];Ye=Ye[1];0<Ye&&Ye<=Te&&(_e[Ze]=Qe)}}}};for(Se in Ye)Te(Me,Se,{get:Ye[Se],enumerable:!0});var Ze={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function E(_e=256){let xe=0,we=new Uint8Array(_e);return{get buffer(){return we.buffer},reset(){xe=0},bytesView(){return we.subarray(0,xe)},bytes(){return we.slice(0,xe)},writeByte(_e){i(xe+1),we[xe]=_e,xe++},writeBytes(_e,Se=0,Te=_e.length){i(xe+Te);for(let Me=0;Me<Te;Me++)we[xe++]=_e[Me+Se]},writeBytesView(_e,Se=0,Te=_e.byteLength){i(xe+Te),we.set(_e.subarray(Se,Se+Te),xe),xe+=Te}};function i(_e){var Se=we.length;if(!(_e<=Se)){_e=Math.max(_e,Se*(Se<1048576?2:1.125)>>>0),0!=Se&&(_e=Math.max(_e,256));const Te=we;we=new Uint8Array(_e),0<xe&&we.set(Te.subarray(0,xe),0)}}}var Qe=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];var S=function(_e,xe,we,Se,Te=E(512),Me=new Uint8Array(256),Ye=new Int32Array(5003),Ze=new Int32Array(5003)){var Ke=Ye.length;Se=Math.max(2,Se);Me.fill(0),Ze.fill(0),Ye.fill(-1);let Je=0,$e=0;var et=Se+1;const tt=et;let rt=!1,ot=tt,nt=(1<<ot)-1;var st=1<<et-1;const it=1+st;let dt=2+st,ht=0,ft=we[0],pt=0;for(let _e=Ke;_e<65536;_e*=2)++pt;pt=8-pt,Te.writeByte(Se),M(st);var mt=we.length;for(let _e=1;_e<mt;_e++)e:{var yt=we[_e],gt=(yt<<12)+ft;let xe=yt<<pt^ft;if(Ye[xe]===gt)ft=Ze[xe];else{for(var wt=0===xe?1:Ke-xe;0<=Ye[xe];)if((xe-=wt)<0&&(xe+=Ke),Ye[xe]===gt){ft=Ze[xe];break e}M(ft),ft=yt,dt<4096?(Ze[xe]=dt++,Ye[xe]=gt):(Ye.fill(-1),dt=2+st,rt=!0,M(st))}}return M(ft),M(it),Te.writeByte(0),Te.bytesView();function M(_e){for(Je&=Qe[$e],0<$e?Je|=_e<<$e:Je=_e,$e+=ot;8<=$e;)Me[ht++]=255&Je,254<=ht&&(Te.writeByte(ht),Te.writeBytesView(Me,0,ht),ht=0),Je>>=8,$e-=8;if((dt>nt||rt)&&(rt?(ot=tt,nt=(1<<ot)-1,rt=!1):(++ot,nt=12===ot?1<<ot:(1<<ot)-1)),_e==it){for(;0<$e;)Me[ht++]=255&Je,254<=ht&&(Te.writeByte(ht),Te.writeBytesView(Me,0,ht),ht=0),Je>>=8,$e-=8;0<ht&&(Te.writeByte(ht),Te.writeBytesView(Me,0,ht),ht=0)}}};function O(_e,xe,we){return _e<<8&63488|xe<<2&992|we>>3}function P(_e,xe,we,Se){return _e>>4|240&xe|(240&we)<<4|(240&Se)<<8}function A(_e,xe,we){return _e>>4<<8|240&xe|we>>4}function L(_e,xe,we){return _e<xe?xe:we<_e?we:_e}function R(_e){return _e*_e}function I(_e,xe,we){var Se=0,Te=1e100;const Me=_e[xe];for(var Ye=Me.cnt,Ze=Me.ac,Qe=Me.rc,Ke=Me.gc,Je=Me.bc,$e=Me.fw;0!=$e;$e=_e[$e].fw){var et,tt=_e[$e],rt=tt.cnt;rt=Ye*rt/(Ye+rt);Te<=rt||(et=0,we&&Te<=(et+=rt*R(tt.ac-Ze))||Te<=(et+=rt*R(tt.rc-Qe))||Te<=(et+=rt*R(tt.gc-Ke))||Te<=(et+=rt*R(tt.bc-Je))||(Te=et,Se=$e))}Me.err=Te,Me.nn=Se}function D(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function u(_e,xe){for(var we=0,Se=0;Se<_e.length;Se++){var Te=_e[Se]-xe[Se];we+=Te*Te}return we}function c(_e,xe){return 1<xe?Math.round(_e/xe)*xe:_e}function v(_e){return _e*_e}function l(_e,xe,we=u){let Se=1/0,Te=-1;for(let Ye=0;Ye<_e.length;Ye++){var Me=we(xe,_e[Ye]);Me<Se&&(Se=Me,Te=Ye)}return Te}function d(_e,xe,we=u){let Se=1/0,Te=-1;for(let Ye=0;Ye<_e.length;Ye++){var Me=we(xe,_e[Ye]);Me<Se&&(Se=Me,Te=Ye)}return[Te,Se]}function h(_e={}){const{initialCapacity:xe=4096,auto:we=!0}=_e,Se=E(xe);const Te=new Uint8Array(256),Me=new Int32Array(5003),Ye=new Int32Array(5003);let Qe=!1;return{reset(){Se.reset(),Qe=!1},finish(){Se.writeByte(Ze.trailer)},bytes(){return Se.bytes()},bytesView(){return Se.bytesView()},get buffer(){return Se.buffer},get stream(){return Se},writeHeader:w,writeFrame(_e,xe,Ze,Ke={}){var{transparent:Je=!1,transparentIndex:$e=0,delay:et=0,palette:tt=null,repeat:rt=0,colorDepth:ot=8,dispose:nt=-1}=Ke;let st=!1;if(we?Qe||(st=!0,w(),Qe=!0):st=Boolean(Ke.first),xe=Math.max(0,Math.floor(xe)),Ze=Math.max(0,Math.floor(Ze)),st){if(!tt)throw new Error("First frame must include a { palette } option");var[Ke,it,dt,ht,ft=8]=[Se,xe,Ze,tt,ot];ht=F(ht.length)-1,ft=128|ft-1<<4|ht,M(Ke,it),M(Ke,dt),Ke.writeBytes([ft,0,0]),T(Se,tt),0<=rt&&(ht=Se,it=rt,ht.writeByte(33),ht.writeByte(255),ht.writeByte(11),C(ht,"NETSCAPE2.0"),ht.writeByte(3),ht.writeByte(1),M(ht,it),ht.writeByte(0))}var pt,dt=Math.round(et/10),ft=(Ke=Se,nt),rt=dt,it=Je,ht=$e,et=(Ke.writeByte(33),Ke.writeByte(249),Ke.writeByte(4),ht<0&&(ht=0,it=!1),it=it?(pt=1,2):pt=0,0<=ft&&(it=7&ft),it<<=2,Ke.writeByte(0|it|pt),M(Ke,rt),Ke.writeByte(ht||0),Ke.writeByte(0),Boolean(tt)&&!st);nt=Se,Je=xe,$e=Ze,pt=et?tt:null,nt.writeByte(44),M(nt,0),M(nt,0),M(nt,Je),M(nt,$e),pt?(Je=F(pt.length)-1,nt.writeByte(128|Je)):nt.writeByte(0),et&&T(Se,tt),[rt,Ke,$e,Je,nt=8,et,tt,_e]=[Se,_e,xe,Ze,ot,Te,Me,Ye],S($e,Je,Ke,nt,rt,et,tt,_e)}};function w(){C(Se,"GIF89a")}}function T(_e,xe){var we=1<<F(xe.length);for(let Se=0;Se<we;Se++){let we=[0,0,0];Se<xe.length&&(we=xe[Se]),_e.writeByte(we[0]),_e.writeByte(we[1]),_e.writeByte(we[2])}}function M(_e,xe){_e.writeByte(255&xe),_e.writeByte(xe>>8&255)}function C(_e,xe){for(var we=0;we<xe.length;we++)_e.writeByte(xe.charCodeAt(we))}function F(_e){return Math.max(Math.ceil(Math.log2(_e)),1)}var Ke=h},{}],246:[function(_e,xe,we){we.read=function(_e,xe,we,Se,Te){var Me,Ye,Ze=8*Te-Se-1,Qe=(1<<Ze)-1,Ke=Qe>>1,Je=-7,$e=we?Te-1:0,et=we?-1:1;Te=_e[xe+$e];for($e+=et,Me=Te&(1<<-Je)-1,Te>>=-Je,Je+=Ze;0<Je;Me=256*Me+_e[xe+$e],$e+=et,Je-=8);for(Ye=Me&(1<<-Je)-1,Me>>=-Je,Je+=Se;0<Je;Ye=256*Ye+_e[xe+$e],$e+=et,Je-=8);if(0===Me)Me=1-Ke;else{if(Me===Qe)return Ye?NaN:1/0*(Te?-1:1);Ye+=Math.pow(2,Se),Me-=Ke}return(Te?-1:1)*Ye*Math.pow(2,Me-Se)},we.write=function(_e,xe,we,Se,Te,Me){var Ye,Ze,Qe=8*Me-Te-1,Ke=(1<<Qe)-1,Je=Ke>>1,$e=23===Te?Math.pow(2,-24)-Math.pow(2,-77):0,et=Se?0:Me-1,tt=Se?1:-1;Me=xe<0||0===xe&&1/xe<0?1:0;for(xe=Math.abs(xe),isNaN(xe)||xe===1/0?(Ze=isNaN(xe)?1:0,Ye=Ke):(Ye=Math.floor(Math.log(xe)/Math.LN2),xe*(Se=Math.pow(2,-Ye))<1&&(Ye--,Se*=2),2<=(xe+=1<=Ye+Je?$e/Se:$e*Math.pow(2,1-Je))*Se&&(Ye++,Se/=2),Ke<=Ye+Je?(Ze=0,Ye=Ke):1<=Ye+Je?(Ze=(xe*Se-1)*Math.pow(2,Te),Ye+=Je):(Ze=xe*Math.pow(2,Je-1)*Math.pow(2,Te),Ye=0));8<=Te;_e[we+et]=255&Ze,et+=tt,Ze/=256,Te-=8);for(Ye=Ye<<Te|Ze,Qe+=Te;0<Qe;_e[we+et]=255&Ye,et+=tt,Ye/=256,Qe-=8);_e[we+et-tt]|=128*Me}},{}],247:[function(xe,we,Se){var Te;function y(_e,xe){return _e.b===xe.b&&_e.a===xe.a}function g(_e,xe){return _e.b<xe.b||_e.b===xe.b&&_e.a<=xe.a}function v(_e,xe,we){var Se=xe.b-_e.b,Te=we.b-xe.b;return 0<Se+Te?Se<Te?xe.a-_e.a+Se/(Se+Te)*(_e.a-we.a):xe.a-we.a+Te/(Se+Te)*(we.a-_e.a):0}function b(_e,xe,we){var Se=xe.b-_e.b,Te=we.b-xe.b;return 0<Se+Te?(xe.a-we.a)*Se+(xe.a-_e.a)*Te:0}function j(_e,xe){return _e.a<xe.a||_e.a===xe.a&&_e.b<=xe.b}function V(_e,xe,we){var Se=xe.a-_e.a,Te=we.a-xe.a;return 0<Se+Te?Se<Te?xe.b-_e.b+Se/(Se+Te)*(_e.b-we.b):xe.b-we.b+Te/(Se+Te)*(we.b-_e.b):0}function z(_e,xe,we){var Se=xe.a-_e.a,Te=we.a-xe.a;return 0<Se+Te?(xe.b-we.b)*Se+(xe.b-_e.b)*Te:0}function _(_e,xe,we,Se){return(_e=_e<0?0:_e)<=(we=we<0?0:we)?0===we?(xe+Se)/2:xe+_e/(_e+we)*(Se-xe):Se+we/(_e+we)*(xe-Se)}function d(_e){var xe=s(_e.b);return n(xe,_e.c),n(xe.b,_e.c),i(xe,_e.a),xe}function x(_e,xe){var we=!1,Se=!1;_e!==xe&&(xe.a!==_e.a&&(Se=!0,M(xe.a,_e.a)),xe.d!==_e.d&&(we=!0,a(xe.d,_e.d)),T(xe,_e),Se||(n(xe,_e.a),_e.a.c=_e),we||(i(xe,_e.d),_e.d.a=_e))}function m(_e){var xe=_e.b,we=!1;_e.d!==_e.b.d&&(we=!0,a(_e.d,_e.b.d)),_e.c===_e?M(_e.a,null):(_e.b.d.a=_e.b.e,_e.a.c=_e.c,T(_e,_e.b.e),we||i(_e,_e.d)),xe.c===xe?(M(xe.a,null),a(xe.d,null)):(_e.d.a=xe.b.e,xe.a.c=xe.c,T(xe,xe.b.e)),H(_e)}function w(_e){var xe=s(_e),we=xe.b;return T(xe,_e.e),xe.a=_e.b.a,n(we,xe.a),xe.d=we.d=_e.d,xe=xe.b,T(_e.b,_e.b.b.e),T(_e.b,xe),_e.b.a=xe.a,xe.b.a.c=xe.b,xe.b.d=_e.b.d,xe.f=_e.f,xe.b.f=_e.b.f,xe}function S(_e,xe){var we=!1,Se=s(_e),Te=Se.b;return xe.d!==_e.d&&(we=!0,a(xe.d,_e.d)),T(Se,_e.e),T(Te,xe),Se.a=_e.b.a,Te.a=xe.a,Se.d=Te.d=_e.d,_e.d.a=Te,we||i(Se,_e.d),Se}function s(_e){var xe=new u,we=new u,Se=_e.b.h;return(((we.h=Se).b.h=xe).h=_e).b.h=we,xe.b=we,((xe.c=xe).e=we).b=xe,(we.c=we).e=xe}function T(_e,xe){var we=_e.c,Se=xe.c;we.b.e=xe,(Se.b.e=_e).c=Se,xe.c=we}function n(_e,xe){var we=xe.f,Se=new D(xe,we);for(we.e=Se,we=(xe.f=Se).c=_e;we.a=Se,(we=we.c)!==_e;);}function i(_e,xe){var we=xe.d,Se=new te(xe,we);for(we.b=Se,(xe.d=Se).a=_e,Se.c=xe.c,we=_e;we.d=Se,(we=we.e)!==_e;);}function H(_e){var xe=_e.h;_e=_e.b.h,(xe.b.h=_e).b.h=xe}function M(_e,xe){for(var we=_e.c,Se=we;Se.a=xe,(Se=Se.c)!==we;);we=_e.f,((Se=_e.e).f=we).e=Se}function a(_e,xe){for(var we=_e.a,Se=we;Se.d=xe,(Se=Se.e)!==we;);we=_e.d,((Se=_e.b).d=we).b=Se}function W(_e){var xe=0;return Math.abs(_e[1])>Math.abs(_e[0])&&(xe=1),Math.abs(_e[2])>Math.abs(_e[xe])?2:xe}function E(_e,xe){_e.f+=xe.f,_e.b.f+=xe.b.f}function h(_e,xe,we){return _e=_e.a,xe=xe.a,we=we.a,xe.b.a===_e?we.b.a===_e?g(xe.a,we.a)?b(we.b.a,xe.a,we.a)<=0:0<=b(xe.b.a,we.a,xe.a):b(we.b.a,_e,we.a)<=0:we.b.a===_e?0<=b(xe.b.a,_e,xe.a):(xe=v(xe.b.a,_e,xe.a),(_e=v(we.b.a,_e,we.a))<=xe)}function k(_e){_e.a.i=null;var xe=_e.e;xe.a.c=xe.c,xe.c.a=xe.a,_e.e=null}function C(_e,xe){m(_e.a),_e.c=!1,(_e.a=xe).i=_e}function O(_e){for(var xe=_e.a.a;(_e=G(_e)).a.a===xe;);return _e.c&&(C(_e,xe=S(B(_e).a.b,_e.a.e)),_e=G(_e)),_e}function q(_e,xe,we){var Se=new N;return Se.a=we,Se.e=p(_e.f,xe.e,Se),we.i=Se}function X(_e,xe){switch(_e.s){case 100130:return 0!=(1&xe);case 100131:return 0!==xe;case 100132:return 0<xe;case 100133:return xe<0;case 100134:return 2<=xe||xe<=-2}return!1}function f(_e){var xe=_e.a,we=xe.d;we.c=_e.d,we.a=xe,k(_e)}function P(_e,xe,we){for(xe=(_e=xe).a;_e!==we;){_e.c=!1;var Se=B(_e),Te=Se.a;if(Te.a!==xe.a){if(!Se.c){f(_e);break}C(Se,Te=S(xe.c.b,Te.b))}xe.c!==Te&&(x(Te.b.e,Te),x(xe,Te)),f(_e),xe=Se.a,_e=Se}return xe}function A(_e,xe,we,Se,Te,Me){for(var Ye=!0;q(_e,xe,we.b),(we=we.c)!==Se;);for(null===Te&&(Te=B(xe).a.b.c);(we=(Se=B(xe)).a.b).a===Te.a;)we.c!==Te&&(x(we.b.e,we),x(Te.b.e,we)),Se.f=xe.f-we.f,Se.d=X(_e,Se.f),xe.b=!0,!Ye&&R(_e,xe)&&(E(we,Te),k(xe),m(Te)),Ye=!1,xe=Se,Te=we;xe.b=!0,Me&&J(_e,xe)}function Y(_e,xe,we,Se,Te){var Me=[xe.g[0],xe.g[1],xe.g[2]];xe.d=null,xe.d=_e.o&&_e.o(Me,we,Se,_e.c)||null,null===xe.d&&(Te?_e.n||(l(_e,100156),_e.n=!0):xe.d=we[0])}function L(_e,xe,we){var Se=[null,null,null,null];Se[0]=xe.a.d,Se[1]=we.a.d,Y(_e,xe.a,Se,[.5,.5,0,0],!1),x(xe,we)}function Z(_e,xe,we,Se,Te){var Me=Math.abs(xe.b-_e.b)+Math.abs(xe.a-_e.a),Ye=Math.abs(we.b-_e.b)+Math.abs(we.a-_e.a),Ze=Te+1;Se[Te]=.5*Ye/(Me+Ye),Se[Ze]=.5*Me/(Me+Ye),_e.g[0]+=Se[Te]*xe.g[0]+Se[Ze]*we.g[0],_e.g[1]+=Se[Te]*xe.g[1]+Se[Ze]*we.g[1],_e.g[2]+=Se[Te]*xe.g[2]+Se[Ze]*we.g[2]}function R(_e,xe){var we=B(xe),Se=xe.a,Te=we.a;if(g(Se.a,Te.a)){if(0<b(Te.b.a,Se.a,Te.a))return;if(y(Se.a,Te.a)){if(Se.a!==Te.a){we=_e.e;var Me=Se.a.h;if(0<=Me){var Ye=(we=we.b).d,Ze=we.e,Qe=we.c,Ke=Qe[Me];Ye[Ke]=Ye[we.a],(Qe[Ye[Ke]]=Ke)<=--we.a&&(Ke<=1||g(Ze[Ye[Ke>>1]],Ze[Ye[Ke]])?U:ue)(we,Ke),Ze[Me]=null,Qe[Me]=we.b,we.b=Me}else for(we.c[-(Me+1)]=null;0<we.a&&null===we.c[we.d[we.a-1]];)--we.a;L(_e,Te.b.e,Se)}}else w(Te.b),x(Se,Te.b.e),xe.b=we.b=!0}else{if(b(Se.b.a,Te.a,Se.a)<0)return;G(xe).b=xe.b=!0,w(Se.b),x(Te.b.e,Se)}return 1}function Q(_e,xe){var we=B(xe),Se=xe.a,Te=we.a,Me=Se.a,Ye=Te.a,Ze=Se.b.a,Qe=Te.b.a,Ke=new D;if(b(Ze,_e.a,Me),b(Qe,_e.a,Ye),!(Me===Ye||Math.min(Me.a,Ze.a)>Math.max(Ye.a,Qe.a))){if(g(Me,Ye)){if(0<b(Qe,Me,Ye))return}else if(b(Ze,Ye,Me)<0)return;var Je,$e,et=Ze,tt=Me,rt=Qe,ot=Ye;if(g(et,tt)||(Je=et,et=tt,tt=Je),g(rt,ot)||(Je=rt,rt=ot,ot=Je),g(et,rt)||(Je=et,et=rt,rt=Je,Je=tt,tt=ot,ot=Je),g(rt,tt)?g(tt,ot)?((Je=v(et,rt,tt))+($e=v(rt,tt,ot))<0&&(Je=-Je,$e=-$e),Ke.b=_(Je,rt.b,$e,tt.b)):((Je=b(et,rt,tt))+($e=-b(et,ot,tt))<0&&(Je=-Je,$e=-$e),Ke.b=_(Je,rt.b,$e,ot.b)):Ke.b=(rt.b+tt.b)/2,j(et,tt)||(Je=et,et=tt,tt=Je),j(rt,ot)||(Je=rt,rt=ot,ot=Je),j(et,rt)||(Je=et,et=rt,rt=Je,Je=tt,tt=ot,ot=Je),j(rt,tt)?j(tt,ot)?((Je=V(et,rt,tt))+($e=V(rt,tt,ot))<0&&(Je=-Je,$e=-$e),Ke.a=_(Je,rt.a,$e,tt.a)):((Je=z(et,rt,tt))+($e=-z(et,ot,tt))<0&&(Je=-Je,$e=-$e),Ke.a=_(Je,rt.a,$e,ot.a)):Ke.a=(rt.a+tt.a)/2,g(Ke,_e.a)&&(Ke.b=_e.a.b,Ke.a=_e.a.a),et=g(Me,Ye)?Me:Ye,g(et,Ke)&&(Ke.b=et.b,Ke.a=et.a),y(Ke,Me)||y(Ke,Ye))return R(_e,xe),0;if(!y(Ze,_e.a)&&0<=b(Ze,_e.a,Ke)||!y(Qe,_e.a)&&b(Qe,_e.a,Ke)<=0){if(Qe===_e.a)w(Se.b),x(Te.b,Se),Se=B(xe=O(xe)).a,P(_e,B(xe),we),A(_e,xe,Se.b.e,Se,Se,!0);else{if(Ze!==_e.a)return 0<=b(Ze,_e.a,Ke)&&(G(xe).b=xe.b=!0,w(Se.b),Se.a.b=_e.a.b,Se.a.a=_e.a.a),void(b(Qe,_e.a,Ke)<=0&&(xe.b=we.b=!0,w(Te.b),Te.a.b=_e.a.b,Te.a.a=_e.a.a));for(w(Te.b),x(Se.e,Te.b.e),Ye=(Me=we=xe).a.b.a;(Me=G(Me)).a.b.a===Ye;);Me=B(xe=Me).a.b.c,we.a=Te.b.e,A(_e,xe,(Te=P(_e,we,null)).c,Se.b.c,Me,!0)}return 1}w(Se.b),w(Te.b),x(Te.b.e,Se),Se.a.b=Ke.b,Se.a.a=Ke.a,Se.a.h=ne(_e.e,Se.a),Se=Se.a,Te=[0,0,0,0],Ke=[Me.d,Ze.d,Ye.d,Qe.d],Se.g[0]=Se.g[1]=Se.g[2]=0,Z(Se,Me,Ze,Te,0),Z(Se,Ye,Qe,Te,2),Y(_e,Se,Ke,Te,!0),G(xe).b=xe.b=we.b=!0}}function J(_e,xe){for(var we=B(xe);;){for(;we.b;)we=B(xe=we);if(!xe.b&&(null===(xe=G(we=xe))||!xe.b))break;xe.b=!1;var Se=xe.a,Te=we.a;if(Me=Se.b.a!==Te.b.a)e:{var Me,Ye=B(Me=xe),Ze=Me.a,Qe=Ye.a,Ke=void 0;if(g(Ze.b.a,Qe.b.a)){if(b(Ze.b.a,Qe.b.a,Ze.a)<0){Me=!1;break e}G(Me).b=Me.b=!0,Ke=w(Ze),x(Qe.b,Ke),Ke.d.c=Me.d}else{if(0<b(Qe.b.a,Ze.b.a,Qe.a)){Me=!1;break e}Me.b=Ye.b=!0,Ke=w(Qe),x(Ze.e,Qe.b),Ke.b.d.c=Me.d}Me=!0}if(Me&&(we.c?(k(we),m(Te),Te=(we=B(xe)).a):xe.c&&(k(xe),m(Se),Se=(xe=G(we)).a)),Se.a!==Te.a)if(Se.b.a===Te.b.a||xe.c||we.c||Se.b.a!==_e.a&&Te.b.a!==_e.a)R(_e,xe);else if(Q(_e,xe))break;Se.a===Te.a&&Se.b.a===Te.b.a&&(E(Te,Se),k(xe),m(Se),xe=G(we))}}function K(_e,xe){var we=new N,Se=d(_e.b);Se.a.b=4e150,Se.a.a=xe,Se.b.a.b=-4e150,Se.b.a.a=xe,_e.a=Se.b.a,we.a=Se,we.f=0,we.d=!1,we.c=!1,we.h=!0,we.b=!1,Se=p(Se=_e.f,Se.a,we),we.e=Se}function $(xe){(this||_e).a=new ee,(this||_e).b=xe,(this||_e).c=h}function p(_e,xe,we){for(;null!==(xe=xe.c).b&&!_e.c(_e.b,xe.b,we););return _e=new ee(we,xe.a,xe),xe.a.c=_e,xe.a=_e}function ee(xe,we,Se){(this||_e).b=xe||null,(this||_e).a=we||this||_e,(this||_e).c=Se||this||_e}function r(){(this||_e).d=0,(this||_e).p=(this||_e).b=(this||_e).q=null,(this||_e).j=[0,0,0],(this||_e).s=100130,(this||_e).n=!1,(this||_e).o=(this||_e).a=(this||_e).e=(this||_e).f=null,(this||_e).m=!1,(this||_e).c=(this||_e).r=(this||_e).i=(this||_e).k=(this||_e).l=(this||_e).h=null}function I(_e,xe){if(_e.d!==xe)for(;_e.d!==xe;)if(_e.d<xe)switch(_e.d){case 0:l(_e,100151),_e.u(null);break;case 1:l(_e,100152),_e.t()}else switch(_e.d){case 2:l(_e,100154),_e.v();break;case 1:l(_e,100153),_e.w()}}function l(_e,xe){_e.p&&_e.p(xe,_e.c)}function te(xe,we){(this||_e).b=xe||this||_e,(this||_e).d=we||this||_e,(this||_e).a=null,(this||_e).c=!1}function u(){((this||_e).h=this||_e).i=(this||_e).d=(this||_e).a=(this||_e).e=(this||_e).c=(this||_e).b=null,(this||_e).f=0}function re(){(this||_e).c=new D,(this||_e).a=new te,(this||_e).b=new u,(this||_e).d=new u,(this||_e).b.b=(this||_e).d,(this||_e).d.b=(this||_e).b}function D(xe,we){(this||_e).e=xe||this||_e,(this||_e).f=we||this||_e,(this||_e).d=(this||_e).c=null,(this||_e).g=[0,0,0],(this||_e).h=(this||_e).a=(this||_e).b=0}function oe(){(this||_e).c=[],(this||_e).d=null,(this||_e).a=0,(this||_e).e=!1,(this||_e).b=new ie}function ne(_e,xe){var we,Se,Te;return _e.e?(2*(Se=++(we=_e.b).a)>we.f&&(we.f*=2,we.c=ae(we.c,we.f+1)),0===we.b?Te=Se:(Te=we.b,we.b=we.c[we.b]),we.e[Te]=xe,we.c[Te]=Se,we.d[Se]=Te,we.h&&ue(we,Se),Te):(we=_e.a++,_e.c[we]=xe,-(we+1))}function se(_e){if(0===_e.a)return le(_e.b);var xe=_e.c[_e.d[_e.a-1]];if(0!==_e.b.a&&g(F(_e.b),xe))return le(_e.b);for(;--_e.a,0<_e.a&&null===_e.c[_e.d[_e.a-1]];);return xe}function ie(){(this||_e).d=ae([0],33),(this||_e).e=[null,null],(this||_e).c=[0,0],(this||_e).a=0,(this||_e).f=32,(this||_e).b=0,(this||_e).h=!1,(this||_e).d[1]=1}function ae(_e,xe){for(var we=Array(xe),Se=0;Se<_e.length;Se++)we[Se]=_e[Se];for(;Se<xe;Se++)we[Se]=0;return we}function F(_e){return _e.e[_e.d[1]]}function le(_e){var xe=_e.d,we=_e.e,Se=_e.c,Te=xe[1],Me=we[Te];return 0<_e.a&&(xe[1]=xe[_e.a],Se[xe[1]]=1,we[Te]=null,Se[Te]=_e.b,_e.b=Te,0<--_e.a&&U(_e,1)),Me}function U(_e,xe){for(var we=_e.d,Se=_e.e,Te=_e.c,Me=xe,Ye=we[Me];;){var Ze=Me<<1,Qe=(Ze<_e.a&&g(Se[we[Ze+1]],Se[we[Ze]])&&(Ze+=1),we[Ze]);if(Ze>_e.a||g(Se[Ye],Se[Qe])){Te[we[Me]=Ye]=Me;break}Te[we[Me]=Qe]=Me,Me=Ze}}function ue(_e,xe){for(var we=_e.d,Se=_e.e,Te=_e.c,Me=xe,Ye=we[Me];;){var Ze=Me>>1,Qe=we[Ze];if(0==Ze||g(Se[Qe],Se[Ye])){Te[we[Me]=Ye]=Me;break}Te[we[Me]=Qe]=Me,Me=Ze}}function N(){(this||_e).e=(this||_e).a=null,(this||_e).f=0,(this||_e).c=(this||_e).b=(this||_e).h=(this||_e).d=!1}function B(_e){return _e.e.c.b}function G(_e){return _e.e.a.b}(Te=r.prototype).x=function(){I(this||_e,0)},Te.B=function(xe,we){switch(xe){case 100142:return;case 100140:switch(we){case 100130:case 100131:case 100132:case 100133:case 100134:return void((this||_e).s=we)}break;case 100141:return void((this||_e).m=!!we);default:return void l(this||_e,100900)}l(this||_e,100901)},Te.y=function(xe){switch(xe){case 100142:return 0;case 100140:return(this||_e).s;case 100141:return(this||_e).m;default:l(this||_e,100900)}return!1},Te.A=function(xe,we,Se){(this||_e).j[0]=xe,(this||_e).j[1]=we,(this||_e).j[2]=Se},Te.z=function(xe,we){var Se=we||null;switch(xe){case 100100:case 100106:(this||_e).h=Se;break;case 100104:case 100110:(this||_e).l=Se;break;case 100101:case 100107:(this||_e).k=Se;break;case 100102:case 100108:(this||_e).i=Se;break;case 100103:case 100109:(this||_e).p=Se;break;case 100105:case 100111:(this||_e).o=Se;break;case 100112:(this||_e).r=Se;break;default:l(this||_e,100900)}},Te.C=function(xe,we){var Se=!1,Te=[0,0,0];I(this||_e,2);for(var Me=0;Me<3;++Me){var Ye=xe[Me];Ye<-1e150&&(Ye=-1e150,Se=!0),1e150<Ye&&(Ye=1e150,Se=!0),Te[Me]=Ye}Se&&l(this||_e,100155),null===(Se=(this||_e).q)?x(Se=d((this||_e).b),Se.b):(w(Se),Se=Se.e),Se.a.d=we,Se.a.g[0]=Te[0],Se.a.g[1]=Te[1],Se.a.g[2]=Te[2],Se.f=1,Se.b.f=-1,(this||_e).q=Se},Te.u=function(xe){I(this||_e,0),(this||_e).d=1,(this||_e).b=new re,(this||_e).c=xe},Te.t=function(){I(this||_e,1),(this||_e).d=2,(this||_e).q=null},Te.v=function(){I(this||_e,2),(this||_e).d=1},Te.w=function(){I(this||_e,1),(this||_e).d=0;var xe,we,Se=(this||_e).j[0],Te=(this||_e).j[1],Me=(this||_e).j[2],Ye=!1,Ze=[Se,Te,Me];if(0===Se&&0===Te&&0===Me){Te=[-2e150,-2e150,-2e150];var Qe=[2e150,2e150,2e150],Ke=(Me=[],[]);for(Se=(Ye=(this||_e).b.c).e;Se!==Ye;Se=Se.e)for(var Je=0;Je<3;++Je){var $e=Se.g[Je];$e<Qe[Je]&&(Qe[Je]=$e,Ke[Je]=Se),$e>Te[Je]&&(Te[Je]=$e,Me[Je]=Se)}if(Te[1]-Qe[1]>Te[Se=0]-Qe[0]&&(Se=1),Qe[Se=Te[2]-Qe[2]>Te[Se]-Qe[Se]?2:Se]>=Te[Se])Ze[0]=0,Ze[1]=0,Ze[2]=1;else{for(Qe=Ke[Se],Me=Me[Se],Ke=[Te=0,0,0],Qe=[Qe.g[0]-Me.g[0],Qe.g[1]-Me.g[1],Qe.g[2]-Me.g[2]],Je=[0,0,0],Se=Ye.e;Se!==Ye;Se=Se.e)Je[0]=Se.g[0]-Me.g[0],Je[1]=Se.g[1]-Me.g[1],Je[2]=Se.g[2]-Me.g[2],Ke[0]=Qe[1]*Je[2]-Qe[2]*Je[1],Ke[1]=Qe[2]*Je[0]-Qe[0]*Je[2],Ke[2]=Qe[0]*Je[1]-Qe[1]*Je[0],Te<($e=Ke[0]*Ke[0]+Ke[1]*Ke[1]+Ke[2]*Ke[2])&&(Te=$e,Ze[0]=Ke[0],Ze[1]=Ke[1],Ze[2]=Ke[2]);Te<=0&&(Ze[0]=Ze[1]=Ze[2]=0,Ze[W(Qe)]=1)}Ye=!0}for(Ke=W(Ze),Se=(this||_e).b.c,Te=(Ke+1)%3,Me=(Ke+2)%3,Ke=0<Ze[Ke]?1:-1,Ze=Se.e;Ze!==Se;Ze=Ze.e)Ze.b=Ze.g[Te],Ze.a=Ke*Ze.g[Me];if(Ye){for(Ze=0,Se=(Ye=(this||_e).b.a).b;Se!==Ye;Se=Se.b)if(!((Te=Se.a).f<=0))for(;Ze+=(Te.a.b-Te.b.a.b)*(Te.a.a+Te.b.a.a),(Te=Te.e)!==Se.a;);if(Ze<0)for(Ye=(Ze=(this||_e).b.c).e;Ye!==Ze;Ye=Ye.e)Ye.a=-Ye.a}for((this||_e).n=!1,Ze=(this||_e).b.b,Se=Ze.h;Se!==Ze;Se=Ye)Ye=Se.h,Te=Se.e,y(Se.a,Se.b.a)&&Se.e.e!==Se&&(L(this||_e,Te,Se),m(Se),Te=(Se=Te).e),Te.e===Se&&(Te!==Se&&(Te!==Ye&&Te!==Ye.b||(Ye=Ye.h),m(Te)),Se!==Ye&&Se!==Ye.b||(Ye=Ye.h),m(Se));for((this||_e).e=Ze=new oe,Ye=(this||_e).b.c,Se=Ye.e;Se!==Ye;Se=Se.e)Se.h=ne(Ze,Se);var et=Ze;et.d=[];for(var tt=0;tt<et.a;tt++)et.d[tt]=tt;et.d.sort(function(_e){return function(xe,we){return g(_e[xe],_e[we])?1:-1}}(et.c)),et.e=!0;for(var rt=et.b,ot=rt.a;1<=ot;--ot)U(rt,ot);for(rt.h=!0,(this||_e).f=new $(this||_e),K(this||_e,-4e150),K(this||_e,4e150);null!==(Ze=se((this||_e).e));){for(;;){e:if(0===(Se=(this||_e).e).a)Ye=F(Se.b);else if(Ye=Se.c[Se.d[Se.a-1]],0!==Se.b.a&&g(Se=F(Se.b),Ye)){Ye=Se;break e}if(null===Ye||!y(Ye,Ze))break;Ye=se((this||_e).e),L(this||_e,Ze.c,Ye.c)}!function e(_e,xe){for(var we,Se=(_e.a=xe).c;null===Se.i;)if((Se=Se.c)===xe.c){Se=_e;var Te=xe;(Ke=new N).a=Te.c.b;for(var Me=(Ye=Se.f).a;null!==(Me=Me.a).b&&!Ye.c(Ye.b,Ke,Me.b););var Ye,Ze,Qe=B(Ye=Me.b),Ke=Ye.a;Me=Qe.a;return void(0===b(Ke.b.a,Te,Ke.a)?y((Ke=Ye.a).a,Te)||y(Ke.b.a,Te)||(w(Ke.b),Ye.c&&(m(Ke.c),Ye.c=!1),x(Te.c,Ke),e(Se,Te)):(Ze=g(Me.b.a,Ke.b.a)?Ye:Qe,Qe=void 0,Ye.d||Ze.c?(Qe=Ze===Ye?S(Te.c.b,Ke.e):S(Me.b.c.b,Te.c).b,Ze.c?C(Ze,Qe):((Ye=q(Ke=Se,Ye,Qe)).f=G(Ye).f+Ye.a.f,Ye.d=X(Ke,Ye.f)),e(Se,Te)):A(Se,Ye,Te.c,Te.c,null,!0)))}Ye=(Ke=B(Se=O(Se.i))).a,(Ke=P(_e,Ke,null)).c===Ye?(Ke=(Ye=Ke).c,Me=B(Se),Qe=Se.a,Ze=Me.a,we=!1,Qe.b.a!==Ze.b.a&&Q(_e,Se),y(Qe.a,_e.a)&&(x(Ke.b.e,Qe),Ke=B(Se=O(Se)).a,P(_e,B(Se),Me),we=!0),y(Ze.a,_e.a)&&(x(Ye,Ze.b.e),Ye=P(_e,Me,null),we=!0),we?A(_e,Se,Ye.c,Ke,Ke,!0):(Te=g(Ze.a,Qe.a)?Ze.b.e:Qe,A(_e,Se,Te=S(Ye.c.b,Te),Te.c,Te.c,!1),Te.b.i.c=!0,J(_e,Se))):A(_e,Se,Ke.c,Ye,Ye,!0)}(this||_e,Ze)}for((this||_e).a=(this||_e).f.a.a.b.a.a,Ze=0;null!==(Ye=(this||_e).f.a.a.b);)Ye.h||++Ze,k(Ye);for((this||_e).f=null,(Ze=(this||_e).e).b=null,Ze.d=null,(this||_e).e=Ze.c=null,Ze=(this||_e).b,Se=Ze.a.b;Se!==Ze.a;Se=Ye)Ye=Se.b,(Se=Se.a).e.e===Se&&(E(Se.c,Se),m(Se));if(!(this||_e).n){if(Ze=(this||_e).b,(this||_e).m)for(Se=Ze.b.h;Se!==Ze.b;Se=Ye)Ye=Se.h,Se.b.d.c!==Se.d.c?Se.f=Se.d.c?1:-1:m(Se);else for(Se=Ze.a.b;Se!==Ze.a;Se=Ye)if(Ye=Se.b,Se.c){for(Se=Se.a;g(Se.b.a,Se.a);Se=Se.c.b);for(;g(Se.a,Se.b.a);Se=Se.e);for(Te=Se.c.b,Me=void 0;Se.e!==Te;)if(g(Se.b.a,Te.a)){for(;Te.e!==Se&&(g((we=Te.e).b.a,we.a)||b(Te.a,Te.b.a,Te.e.b.a)<=0);)Te=(Me=S(Te.e,Te)).b;Te=Te.c.b}else{for(;Te.e!==Se&&(g((xe=Se.c.b).a,xe.b.a)||0<=b(Se.b.a,Se.a,Se.c.b.a));)Se=(Me=S(Se,Se.c.b)).b;Se=Se.e}for(;Te.e.e!==Se;)Me=S(Te.e,Te),Te=Me.b}if((this||_e).h||(this||_e).i||(this||_e).k||(this||_e).l)if((this||_e).m){for(Ye=(Ze=(this||_e).b).a.b;Ye!==Ze.a;Ye=Ye.b)if(Ye.c){for((this||_e).h&&this.h(2,(this||_e).c),Se=Ye.a;(this||_e).k&&this.k(Se.a.d,(this||_e).c),(Se=Se.e)!==Ye.a;);(this||_e).i&&this.i((this||_e).c)}}else{for(Ze=(this||_e).b,Ye=!!(this||_e).l,Se=!1,Te=-1,Me=Ze.a.d;Me!==Ze.a;Me=Me.d)if(Me.c)for(Se||((this||_e).h&&this.h(4,(this||_e).c),Se=!0),Ke=Me.a;Ye&&(Qe=Ke.b.d.c?0:1,Te!==Qe&&(Te=Qe,(this||_e).l&&this.l(!!Te,(this||_e).c))),(this||_e).k&&this.k(Ke.a.d,(this||_e).c),(Ke=Ke.e)!==Me.a;);Se&&(this||_e).i&&this.i((this||_e).c)}if((this||_e).r){for(Ze=(this||_e).b,Se=Ze.a.b;Se!==Ze.a;Se=Ye)if(Ye=Se.b,!Se.c){for(Me=(Te=Se.a).e,Ke=void 0;Me=(Ke=Me).e,(Ke.d=null)===Ke.b.d&&(Ke.c===Ke?M(Ke.a,null):(Ke.a.c=Ke.c,T(Ke,Ke.b.e)),(Qe=Ke.b).c===Qe?M(Qe.a,null):(Qe.a.c=Qe.c,T(Qe,Qe.b.e)),H(Ke)),Ke!==Te;);Te=Se.d,((Se=Se.b).d=Te).b=Se}return this.r((this||_e).b),void((this||_e).c=(this||_e).b=null)}}(this||_e).b=(this||_e).c=null},(this||_e).libtess={GluTesselator:r,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},r.prototype.gluDeleteTess=r.prototype.x,r.prototype.gluTessProperty=r.prototype.B,r.prototype.gluGetTessProperty=r.prototype.y,r.prototype.gluTessNormal=r.prototype.A,r.prototype.gluTessCallback=r.prototype.z,r.prototype.gluTessVertex=r.prototype.C,r.prototype.gluTessBeginPolygon=r.prototype.u,r.prototype.gluTessBeginContour=r.prototype.t,r.prototype.gluTessEndContour=r.prototype.v,r.prototype.gluTessEndPolygon=r.prototype.w,void 0!==we&&(we.exports=(this||_e).libtess)},{}],248:[function(xe,we,Se){function o(xe,we,Se,Te){var Me=0,Ye=void 0===(Te=void 0===Te?{}:Te).loop?null:Te.loop,Ze=void 0===Te.palette?null:Te.palette;if(we<=0||Se<=0||65535<we||65535<Se)throw new Error("Width/Height invalid.");function j(_e){_e=_e.length;if(_e<2||256<_e||_e&_e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return _e}xe[Me++]=71,xe[Me++]=73,xe[Me++]=70,xe[Me++]=56,xe[Me++]=57,xe[Me++]=97;var Qe=0,Ke=0;if(null!==Ze){for(var Je=j(Ze);Je>>=1;)++Qe;if(Je=1<<Qe,--Qe,void 0!==Te.background){if(Je<=(Ke=Te.background))throw new Error("Background index out of range.");if(0===Ke)throw new Error("Background index explicitly passed as 0.")}}if(xe[Me++]=255&we,xe[Me++]=we>>8&255,xe[Me++]=255&Se,xe[Me++]=Se>>8&255,xe[Me++]=(null!==Ze?128:0)|Qe,xe[Me++]=Ke,xe[Me++]=0,null!==Ze)for(var $e=0,et=Ze.length;$e<et;++$e){var tt=Ze[$e];xe[Me++]=tt>>16&255,xe[Me++]=tt>>8&255,xe[Me++]=255&tt}if(null!==Ye){if(Ye<0||65535<Ye)throw new Error("Loop count invalid.");xe[Me++]=33,xe[Me++]=255,xe[Me++]=11,xe[Me++]=78,xe[Me++]=69,xe[Me++]=84,xe[Me++]=83,xe[Me++]=67,xe[Me++]=65,xe[Me++]=80,xe[Me++]=69,xe[Me++]=50,xe[Me++]=46,xe[Me++]=48,xe[Me++]=3,xe[Me++]=1,xe[Me++]=255&Ye,xe[Me++]=Ye>>8&255,xe[Me++]=0}var rt=!1;(this||_e).addFrame=function(_e,we,Se,Te,Ye,Qe){if(!0===rt&&(--Me,rt=!1),Qe=void 0===Qe?{}:Qe,_e<0||we<0||65535<_e||65535<we)throw new Error("x/y invalid.");if(Se<=0||Te<=0||65535<Se||65535<Te)throw new Error("Width/Height invalid.");if(Ye.length<Se*Te)throw new Error("Not enough pixels for the frame size.");var Ke=!0,Je=Qe.palette;if(null==Je&&(Ke=!1,Je=Ze),null==Je)throw new Error("Must supply either a local or global palette.");for(var $e=j(Je),et=0;$e>>=1;)++et;$e=1<<et;var tt=void 0===Qe.delay?0:Qe.delay,ot=void 0===Qe.disposal?0:Qe.disposal;if(ot<0||3<ot)throw new Error("Disposal out of range.");var nt=!1,st=0;if(void 0!==Qe.transparent&&null!==Qe.transparent&&(nt=!0,(st=Qe.transparent)<0||$e<=st))throw new Error("Transparent color index.");if(0===ot&&!nt&&0===tt||(xe[Me++]=33,xe[Me++]=249,xe[Me++]=4,xe[Me++]=ot<<2|(!0===nt?1:0),xe[Me++]=255&tt,xe[Me++]=tt>>8&255,xe[Me++]=st,xe[Me++]=0),xe[Me++]=44,xe[Me++]=255&_e,xe[Me++]=_e>>8&255,xe[Me++]=255&we,xe[Me++]=we>>8&255,xe[Me++]=255&Se,xe[Me++]=Se>>8&255,xe[Me++]=255&Te,xe[Me++]=Te>>8&255,xe[Me++]=!0===Ke?128|et-1:0,!0===Ke)for(var it=0,dt=Je.length;it<dt;++it){var ht=Je[it];xe[Me++]=ht>>16&255,xe[Me++]=ht>>8&255,xe[Me++]=255&ht}return Me=function(_e,xe,we,Se){_e[xe++]=we;var Te=xe++,Me=1<<we,Ye=Me-1,Ze=1+Me,Qe=1+Ze,Ke=we+1,Je=0,$e=0;function h(we){for(;we<=Je;)_e[xe++]=255&$e,$e>>=8,Je-=8,xe===Te+256&&(_e[Te]=255,Te=xe++)}function f(_e){$e|=_e<<Je,Je+=Ke,h(8)}var et=Se[0]&Ye,tt={};f(Me);for(var rt=1,ot=Se.length;rt<ot;++rt){var nt=Se[rt]&Ye,st=et<<8|nt,it=tt[st];if(void 0===it){for($e|=et<<Je,Je+=Ke;8<=Je;)_e[xe++]=255&$e,$e>>=8,Je-=8,xe===Te+256&&(_e[Te]=255,Te=xe++);4096===Qe?(f(Me),Qe=1+Ze,Ke=we+1,tt={}):(1<<Ke<=Qe&&++Ke,tt[st]=Qe++),et=nt}else et=it}f(et),f(Ze),h(1),Te+1===xe?_e[Te]=0:(_e[Te]=xe-Te-1,_e[xe++]=0);return xe}(xe,Me,et<2?2:et,Ye)},(this||_e).end=function(){return!1===rt&&(xe[Me++]=59,rt=!0),Me},(this||_e).getOutputBuffer=function(){return xe},(this||_e).setOutputBuffer=function(_e){xe=_e},(this||_e).getOutputBufferPosition=function(){return Me},(this||_e).setOutputBufferPosition=function(_e){Me=_e}}function M(_e,xe,we,Se){for(var Te=_e[xe++],Me=1<<Te,Ye=1+Me,Ze=1+Ye,Qe=Te+1,Ke=(1<<Qe)-1,Je=0,$e=0,et=0,tt=_e[xe++],rt=new Int32Array(4096),ot=null;;){for(;Je<16&&0!==tt;)$e|=_e[xe++]<<Je,Je+=8,1===tt?tt=_e[xe++]:--tt;if(Je<Qe)break;var nt=$e&Ke;if($e>>=Qe,Je-=Qe,nt==Me)Ze=1+Ye,Ke=(1<<(Qe=Te+1))-1,ot=null;else{if(nt==Ye)break;for(var st=nt<Ze?nt:ot,it=0,dt=st;Me<dt;)dt=rt[dt]>>8,++it;var ht=dt;if(Se<et+it+(st!==nt?1:0))return void console.log("Warning, gif stream longer than expected.");we[et++]=ht;var ft=et+=it;for(st!==nt&&(we[et++]=ht),dt=st;it--;)dt=rt[dt],we[--ft]=255&dt,dt>>=8;null!==ot&&Ze<4096&&(rt[Ze++]=ot<<8|ht,Ke+1<=Ze&&Qe<12&&(++Qe,Ke=Ke<<1|1)),ot=nt}}et!==Se&&console.log("Warning, gif stream shorter than expected.")}try{Se.GifWriter=o,Se.GifReader=function(xe){var we=0;if(71!==xe[we++]||73!==xe[we++]||70!==xe[we++]||56!==xe[we++]||56!=(xe[we++]+1&253)||97!==xe[we++])throw new Error("Invalid GIF 87a/89a header.");var Se=xe[we++]|xe[we++]<<8,Te=xe[we++]|xe[we++]<<8,Me=xe[we++],Ye=1<<1+(7&Me),Ze=(xe[we++],xe[we++],null),Qe=null,Ke=(Me>>7&&(Ze=we,we+=3*(Qe=Ye)),!0),Je=[],$e=0,et=null,tt=0,rt=null;for((this||_e).width=Se,(this||_e).height=Te;Ke&&we<xe.length;)switch(xe[we++]){case 33:switch(xe[we++]){case 255:if(11!==xe[we]||78==xe[we+1]&&69==xe[we+2]&&84==xe[we+3]&&83==xe[we+4]&&67==xe[we+5]&&65==xe[we+6]&&80==xe[we+7]&&69==xe[we+8]&&50==xe[we+9]&&46==xe[we+10]&&48==xe[we+11]&&3==xe[we+12]&&1==xe[we+13]&&0==xe[we+16])we+=14,rt=xe[we++]|xe[we++]<<8,we++;else for(we+=12;;){if(!(0<=(nt=xe[we++])))throw Error("Invalid block size");if(0===nt)break;we+=nt}break;case 249:if(4!==xe[we++]||0!==xe[we+4])throw new Error("Invalid graphics extension block.");var ot=xe[we++];$e=xe[we++]|xe[we++]<<8,et=xe[we++];0==(1&ot)&&(et=null),tt=ot>>2&7,we++;break;case 254:for(;;){if(!(0<=(nt=xe[we++])))throw Error("Invalid block size");if(0===nt)break;we+=nt}break;default:throw new Error("Unknown graphic control label: 0x"+xe[we-1].toString(16))}break;case 44:var nt,st=xe[we++]|xe[we++]<<8,it=xe[we++]|xe[we++]<<8,dt=xe[we++]|xe[we++]<<8,ht=xe[we++]|xe[we++]<<8,ft=xe[we++],pt=ft>>6&1,mt=1<<1+(7&ft),yt=Ze,gt=Qe,wt=!1;ft=(ft>>7&&(wt=!0,yt=we,we+=3*(gt=mt)),we);for(we++;;){if(!(0<=(nt=xe[we++])))throw Error("Invalid block size");if(0===nt)break;we+=nt}Je.push({x:st,y:it,width:dt,height:ht,has_local_palette:wt,palette_offset:yt,palette_size:gt,data_offset:ft,data_length:we-ft,transparent_index:et,interlaced:!!pt,delay:$e,disposal:tt});break;case 59:Ke=!1;break;default:throw new Error("Unknown gif block: 0x"+xe[we-1].toString(16))}(this||_e).numFrames=function(){return Je.length},(this||_e).loopCount=function(){return rt},(this||_e).frameInfo=function(_e){if(_e<0||_e>=Je.length)throw new Error("Frame index out of range.");return Je[_e]},(this||_e).decodeAndBlitFrameBGRA=function(_e,we){_e=this.frameInfo(_e);for(var Te=_e.width*_e.height,Me=new Uint8Array(Te),Ye=(M(xe,_e.data_offset,Me,Te),_e.palette_offset),Ze=_e.transparent_index,Qe=(null===Ze&&(Ze=256),_e.width),Ke=Se-Qe,Je=Qe,$e=4*(_e.y*Se+_e.x),et=4*((_e.y+_e.height)*Se+_e.x),tt=$e,rt=4*Ke,ot=(!0===_e.interlaced&&(rt+=4*Se*7),8),nt=0,st=Me.length;nt<st;++nt){var it,dt,ht=Me[nt];0===Je&&(Je=Qe,et<=(tt+=rt)&&(rt=4*Ke+4*Se*(ot-1),tt=$e+(Qe+Ke)*(ot<<1),ot>>=1)),ht===Ze?tt+=4:(it=xe[Ye+3*ht],dt=xe[Ye+3*ht+1],ht=xe[Ye+3*ht+2],we[tt++]=ht,we[tt++]=dt,we[tt++]=it,we[tt++]=255),--Je}},(this||_e).decodeAndBlitFrameRGBA=function(_e,we){_e=this.frameInfo(_e);for(var Te=_e.width*_e.height,Me=new Uint8Array(Te),Ye=(M(xe,_e.data_offset,Me,Te),_e.palette_offset),Ze=_e.transparent_index,Qe=(null===Ze&&(Ze=256),_e.width),Ke=Se-Qe,Je=Qe,$e=4*(_e.y*Se+_e.x),et=4*((_e.y+_e.height)*Se+_e.x),tt=$e,rt=4*Ke,ot=(!0===_e.interlaced&&(rt+=4*Se*7),8),nt=0,st=Me.length;nt<st;++nt){var it,dt,ht=Me[nt];0===Je&&(Je=Qe,et<=(tt+=rt)&&(rt=4*Ke+4*Se*(ot-1),tt=$e+(Qe+Ke)*(ot<<1),ot>>=1)),ht===Ze?tt+=4:(it=xe[Ye+3*ht],dt=xe[Ye+3*ht+1],ht=xe[Ye+3*ht+2],we[tt++]=it,we[tt++]=dt,we[tt++]=ht,we[tt++]=255),--Je}}}}catch(xe){}},{}],249:[function(we,Se,Te){!function(Me){var Ye,Ze;Ye=this||_e,Ze=function(xe){function D(xe){if(null==(this||_e))throw TypeError();var we,Se=String(this||_e),Te=Se.length;xe=xe?Number(xe):0;if(!((xe=xe!=xe?0:xe)<0||Te<=xe))return 55296<=(we=Se.charCodeAt(xe))&&we<=56319&&xe+1<Te&&56320<=(Te=Se.charCodeAt(xe+1))&&Te<=57343?1024*(we-55296)+Te-56320+65536:we}String.prototype.codePointAt||((Se=function(){try{var _e={},xe=Object.defineProperty,we=xe(_e,_e,_e)&&xe}catch(_e){}return we}())?Se(String.prototype,"codePointAt",{value:D,configurable:!0,writable:!0}):String.prototype.codePointAt=D);var Se,Te=0,Ye=-3;function B(){(this||_e).table=new Uint16Array(16),(this||_e).trans=new Uint16Array(288)}function G(xe,we){(this||_e).source=xe,(this||_e).sourceIndex=0,(this||_e).tag=0,(this||_e).bitcount=0,(this||_e).dest=we,(this||_e).destLen=0,(this||_e).ltree=new B,(this||_e).dtree=new B}var Ze=new B,Qe=new B,Ke=new Uint8Array(30),Je=new Uint16Array(30),$e=new Uint8Array(30),et=new Uint16Array(30),tt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rt=new B,ot=new Uint8Array(320);function Q(_e,xe,we,Se){for(var Te,Me=0;Me<we;++Me)_e[Me]=0;for(Me=0;Me<30-we;++Me)_e[Me+we]=Me/we|0;for(Te=Se,Me=0;Me<30;++Me)xe[Me]=Te,Te+=1<<_e[Me]}var nt=new Uint16Array(16);function K(_e,xe,we,Se){for(var Te,Me=0;Me<16;++Me)_e.table[Me]=0;for(Me=0;Me<Se;++Me)_e.table[xe[we+Me]]++;for(Me=Te=_e.table[0]=0;Me<16;++Me)nt[Me]=Te,Te+=_e.table[Me];for(Me=0;Me<Se;++Me)xe[we+Me]&&(_e.trans[nt[xe[we+Me]]++]=Me)}function b(_e,xe,we){if(!xe)return we;for(;_e.bitcount<24;)_e.tag|=_e.source[_e.sourceIndex++]<<_e.bitcount,_e.bitcount+=8;var Se=_e.tag&65535>>>16-xe;return _e.tag>>>=xe,_e.bitcount-=xe,Se+we}function $(_e,xe){for(;_e.bitcount<24;)_e.tag|=_e.source[_e.sourceIndex++]<<_e.bitcount,_e.bitcount+=8;for(var we=0,Se=0,Te=0,Me=_e.tag;Se=2*Se+(1&Me),Me>>>=1,we+=xe.table[++Te],0<=(Se-=xe.table[Te]););return _e.tag=Me,_e.bitcount-=Te,xe.trans[we+Se]}function ee(_e,xe,we){for(;;){var Se=$(_e,xe);if(256===Se)return Te;if(Se<256)_e.dest[_e.destLen++]=Se;else for(var Me,Ye=b(_e,Ke[Se-=257],Je[Se]),Ze=(Se=$(_e,we),Me=_e.destLen-b(_e,$e[Se],et[Se]));Ze<Me+Ye;++Ze)_e.dest[_e.destLen++]=_e.dest[Ze]}}for(var st=Ze,it=Qe,dt=0;dt<7;++dt)st.table[dt]=0;for(st.table[7]=24,st.table[8]=152,st.table[9]=112,dt=0;dt<24;++dt)st.trans[dt]=256+dt;for(dt=0;dt<144;++dt)st.trans[24+dt]=dt;for(dt=0;dt<8;++dt)st.trans[168+dt]=280+dt;for(dt=0;dt<112;++dt)st.trans[176+dt]=144+dt;for(dt=0;dt<5;++dt)it.table[dt]=0;for(it.table[5]=32,dt=0;dt<32;++dt)it.trans[dt]=dt;Q(Ke,Je,4,3),Q($e,et,2,1),Ke[28]=0,Je[28]=258;var re=function(_e,xe){var we,Se,Me,Ke=new G(_e,xe);do{switch(Me=void 0,(Se=Ke).bitcount--||(Se.tag=Se.source[Se.sourceIndex++],Se.bitcount=7),Me=1&Se.tag,Se.tag>>>=1,Se=Me,b(Ke,2,0)){case 0:we=function(_e){for(var xe,we;8<_e.bitcount;)_e.sourceIndex--,_e.bitcount-=8;if((xe=256*_e.source[_e.sourceIndex+1]+_e.source[_e.sourceIndex])!==(65535&~(256*_e.source[_e.sourceIndex+3]+_e.source[_e.sourceIndex+2])))return Ye;for(_e.sourceIndex+=4,we=xe;we;--we)_e.dest[_e.destLen++]=_e.source[_e.sourceIndex++];return _e.bitcount=0,Te}(Ke);break;case 1:we=ee(Ke,Ze,Qe);break;case 2:mt=pt=ft=yt=Je=ht=dt=it=st=nt=et=$e=void 0;for(var Je,$e=Ke,et=Ke.ltree,nt=Ke.dtree,st=b($e,5,257),it=b($e,5,1),dt=b($e,4,4),ht=0;ht<19;++ht)ot[ht]=0;for(ht=0;ht<dt;++ht){var ft=b($e,3,0);ot[tt[ht]]=ft}for(K(rt,ot,0,19),Je=0;Je<st+it;){var pt=$($e,rt);switch(pt){case 16:for(var mt=ot[Je-1],yt=b($e,2,3);yt;--yt)ot[Je++]=mt;break;case 17:for(yt=b($e,3,3);yt;--yt)ot[Je++]=0;break;case 18:for(yt=b($e,7,11);yt;--yt)ot[Je++]=0;break;default:ot[Je++]=pt}}K(et,ot,0,st),K(nt,ot,st,it),we=ee(Ke,Ke.ltree,Ke.dtree);break;default:we=Ye}if(we!==Te)throw new Error("Data error")}while(!Se);return Ke.destLen<Ke.dest.length?"function"==typeof Ke.dest.slice?Ke.dest.slice(0,Ke.destLen):Ke.dest.subarray(0,Ke.destLen):Ke.dest};function g(_e,xe,we,Se,Te){return Math.pow(1-Te,3)*_e+3*Math.pow(1-Te,2)*Te*xe+3*(1-Te)*Math.pow(Te,2)*we+Math.pow(Te,3)*Se}function a(){(this||_e).x1=Number.NaN,(this||_e).y1=Number.NaN,(this||_e).x2=Number.NaN,(this||_e).y2=Number.NaN}function h(){(this||_e).commands=[],(this||_e).fill="black",(this||_e).stroke=null,(this||_e).strokeWidth=1}function oe(_e){throw new Error(_e)}function ne(_e,xe){_e||oe(xe)}a.prototype.isEmpty=function(){return isNaN((this||_e).x1)||isNaN((this||_e).y1)||isNaN((this||_e).x2)||isNaN((this||_e).y2)},a.prototype.addPoint=function(xe,we){"number"==typeof xe&&((isNaN((this||_e).x1)||isNaN((this||_e).x2))&&((this||_e).x1=xe,(this||_e).x2=xe),xe<(this||_e).x1&&((this||_e).x1=xe),xe>(this||_e).x2&&((this||_e).x2=xe)),"number"==typeof we&&((isNaN((this||_e).y1)||isNaN((this||_e).y2))&&((this||_e).y1=we,(this||_e).y2=we),we<(this||_e).y1&&((this||_e).y1=we),we>(this||_e).y2&&((this||_e).y2=we))},a.prototype.addX=function(_e){this.addPoint(_e,null)},a.prototype.addY=function(_e){this.addPoint(null,_e)},a.prototype.addBezier=function(_e,xe,we,Se,Te,Me,Ye,Ze){var Qe=[_e,xe],Ke=[we,Se],Je=[Te,Me],$e=[Ye,Ze];this.addPoint(_e,xe),this.addPoint(Ye,Ze);for(var et=0;et<=1;et++){var tt,rt=6*Qe[et]-12*Ke[et]+6*Je[et],ot=-3*Qe[et]+9*Ke[et]-9*Je[et]+3*$e[et],nt=3*Ke[et]-3*Qe[et];0==ot?0==rt||0<(tt=-nt/rt)&&tt<1&&(0===et&&this.addX(g(Qe[et],Ke[et],Je[et],$e[et],tt)),1===et&&this.addY(g(Qe[et],Ke[et],Je[et],$e[et],tt))):(tt=Math.pow(rt,2)-4*nt*ot)<0||(0<(nt=(-rt+Math.sqrt(tt))/(2*ot))&&nt<1&&(0===et&&this.addX(g(Qe[et],Ke[et],Je[et],$e[et],nt)),1===et&&this.addY(g(Qe[et],Ke[et],Je[et],$e[et],nt))),0<(nt=(-rt-Math.sqrt(tt))/(2*ot))&&nt<1&&(0===et&&this.addX(g(Qe[et],Ke[et],Je[et],$e[et],nt)),1===et&&this.addY(g(Qe[et],Ke[et],Je[et],$e[et],nt))))}},a.prototype.addQuad=function(_e,xe,we,Se,Te,Me){we=_e+2/3*(we-_e),Se=xe+2/3*(Se-xe);this.addBezier(_e,xe,we,Se,we+1/3*(Te-_e),Se+1/3*(Me-xe),Te,Me)},h.prototype.moveTo=function(xe,we){(this||_e).commands.push({type:"M",x:xe,y:we})},h.prototype.lineTo=function(xe,we){(this||_e).commands.push({type:"L",x:xe,y:we})},h.prototype.curveTo=h.prototype.bezierCurveTo=function(xe,we,Se,Te,Me,Ye){(this||_e).commands.push({type:"C",x1:xe,y1:we,x2:Se,y2:Te,x:Me,y:Ye})},h.prototype.quadTo=h.prototype.quadraticCurveTo=function(xe,we,Se,Te){(this||_e).commands.push({type:"Q",x1:xe,y1:we,x:Se,y:Te})},h.prototype.close=h.prototype.closePath=function(){(this||_e).commands.push({type:"Z"})},h.prototype.extend=function(xe){var we;if(xe.commands)xe=xe.commands;else if(xe instanceof a)return we=xe,this.moveTo(we.x1,we.y1),this.lineTo(we.x2,we.y1),this.lineTo(we.x2,we.y2),this.lineTo(we.x1,we.y2),void this.close();Array.prototype.push.apply((this||_e).commands,xe)},h.prototype.getBoundingBox=function(){for(var xe=new a,we=0,Se=0,Te=0,Me=0,Ye=0;Ye<(this||_e).commands.length;Ye++){var Ze=(this||_e).commands[Ye];switch(Ze.type){case"M":xe.addPoint(Ze.x,Ze.y),we=Te=Ze.x,Se=Me=Ze.y;break;case"L":xe.addPoint(Ze.x,Ze.y),Te=Ze.x,Me=Ze.y;break;case"Q":xe.addQuad(Te,Me,Ze.x1,Ze.y1,Ze.x,Ze.y),Te=Ze.x,Me=Ze.y;break;case"C":xe.addBezier(Te,Me,Ze.x1,Ze.y1,Ze.x2,Ze.y2,Ze.x,Ze.y),Te=Ze.x,Me=Ze.y;break;case"Z":Te=we,Me=Se;break;default:throw new Error("Unexpected path command "+Ze.type)}}return xe.isEmpty()&&xe.addPoint(0,0),xe},h.prototype.draw=function(xe){xe.beginPath();for(var we=0;we<(this||_e).commands.length;we+=1){var Se=(this||_e).commands[we];"M"===Se.type?xe.moveTo(Se.x,Se.y):"L"===Se.type?xe.lineTo(Se.x,Se.y):"C"===Se.type?xe.bezierCurveTo(Se.x1,Se.y1,Se.x2,Se.y2,Se.x,Se.y):"Q"===Se.type?xe.quadraticCurveTo(Se.x1,Se.y1,Se.x,Se.y):"Z"===Se.type&&xe.closePath()}(this||_e).fill&&(xe.fillStyle=(this||_e).fill,xe.fill()),(this||_e).stroke&&(xe.strokeStyle=(this||_e).stroke,xe.lineWidth=(this||_e).strokeWidth,xe.stroke())},h.prototype.toPathData=function(xe){function e(){for(var _e=arguments,we="",Se=0;Se<arguments.length;Se+=1){var Te=_e[Se];0<=Te&&0<Se&&(we+=" "),we+=(Te,Math.round(Te)===Te?""+Math.round(Te):Te.toFixed(xe))}return we}xe=void 0!==xe?xe:2;for(var we="",Se=0;Se<(this||_e).commands.length;Se+=1){var Te=(this||_e).commands[Se];"M"===Te.type?we+="M"+e(Te.x,Te.y):"L"===Te.type?we+="L"+e(Te.x,Te.y):"C"===Te.type?we+="C"+e(Te.x1,Te.y1,Te.x2,Te.y2,Te.x,Te.y):"Q"===Te.type?we+="Q"+e(Te.x1,Te.y1,Te.x,Te.y):"Z"===Te.type&&(we+="Z")}return we},h.prototype.toSVG=function(xe){var we=(we='<path d="')+this.toPathData(xe)+'"';return(this||_e).fill&&"black"!==(this||_e).fill&&(null===(this||_e).fill?we+=' fill="none"':we+=' fill="'+(this||_e).fill+'"'),(this||_e).stroke&&(we+=' stroke="'+(this||_e).stroke+'" stroke-width="'+(this||_e).strokeWidth+'"'),we+"/>"},h.prototype.toDOMElement=function(_e){_e=this.toPathData(_e);var xe=document.createElementNS("http://www.w3.org/2000/svg","path");return xe.setAttribute("d",_e),xe};var ht={fail:oe,argument:ne,assert:ne},ft={},pt={},mt={};function r(_e){return function(){return _e}}pt.BYTE=function(_e){return ht.argument(0<=_e&&_e<=255,"Byte value should be between 0 and 255."),[_e]},mt.BYTE=r(1),pt.CHAR=function(_e){return[_e.charCodeAt(0)]},mt.CHAR=r(1),pt.CHARARRAY=function(_e){for(var xe=[],we=0;we<_e.length;we+=1)xe[we]=_e.charCodeAt(we);return xe},mt.CHARARRAY=function(_e){return _e.length},pt.USHORT=function(_e){return[_e>>8&255,255&_e]},mt.USHORT=r(2),pt.SHORT=function(_e){return[(_e=32768<=_e?-(65536-_e):_e)>>8&255,255&_e]},mt.SHORT=r(2),pt.UINT24=function(_e){return[_e>>16&255,_e>>8&255,255&_e]},mt.UINT24=r(3),pt.ULONG=function(_e){return[_e>>24&255,_e>>16&255,_e>>8&255,255&_e]},mt.ULONG=r(4),pt.LONG=function(_e){return[(_e=2147483648<=_e?-(4294967296-_e):_e)>>24&255,_e>>16&255,_e>>8&255,255&_e]},mt.LONG=r(4),pt.FIXED=pt.ULONG,mt.FIXED=mt.ULONG,pt.FWORD=pt.SHORT,mt.FWORD=mt.SHORT,pt.UFWORD=pt.USHORT,mt.UFWORD=mt.USHORT,pt.LONGDATETIME=function(_e){return[0,0,0,0,_e>>24&255,_e>>16&255,_e>>8&255,255&_e]},mt.LONGDATETIME=r(8),pt.TAG=function(_e){return ht.argument(4===_e.length,"Tag should be exactly 4 ASCII characters."),[_e.charCodeAt(0),_e.charCodeAt(1),_e.charCodeAt(2),_e.charCodeAt(3)]},mt.TAG=r(4),pt.Card8=pt.BYTE,mt.Card8=mt.BYTE,pt.Card16=pt.USHORT,mt.Card16=mt.USHORT,pt.OffSize=pt.BYTE,mt.OffSize=mt.BYTE,pt.SID=pt.USHORT,mt.SID=mt.USHORT,pt.NUMBER=function(_e){return-107<=_e&&_e<=107?[_e+139]:108<=_e&&_e<=1131?[247+((_e-=108)>>8),255&_e]:-1131<=_e&&_e<=-108?[251+((_e=-_e-108)>>8),255&_e]:-32768<=_e&&_e<=32767?pt.NUMBER16(_e):pt.NUMBER32(_e)},mt.NUMBER=function(_e){return pt.NUMBER(_e).length},pt.NUMBER16=function(_e){return[28,_e>>8&255,255&_e]},mt.NUMBER16=r(3),pt.NUMBER32=function(_e){return[29,_e>>24&255,_e>>16&255,_e>>8&255,255&_e]},mt.NUMBER32=r(5),pt.REAL=function(_e){for(var xe=_e.toString(),we=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(xe),Se=(we&&(we=parseFloat("1e"+((we[2]?+we[2]:0)+we[1].length)),xe=(Math.round(_e*we)/we).toString()),""),Te=0,Me=xe.length;Te<Me;Te+=1){var Ye=xe[Te];Se+="e"===Ye?"-"===xe[++Te]?"c":"b":"."===Ye?"a":"-"===Ye?"e":Ye}for(var Ze=[30],Qe=0,Ke=(Se+=1&Se.length?"f":"ff").length;Qe<Ke;Qe+=2)Ze.push(parseInt(Se.substr(Qe,2),16));return Ze},mt.REAL=function(_e){return pt.REAL(_e).length},pt.NAME=pt.CHARARRAY,mt.NAME=mt.CHARARRAY,pt.STRING=pt.CHARARRAY,mt.STRING=mt.CHARARRAY,ft.UTF8=function(_e,xe,we){for(var Se=[],Te=we,Me=0;Me<Te;Me++,xe+=1)Se[Me]=_e.getUint8(xe);return String.fromCharCode.apply(null,Se)},ft.UTF16=function(_e,xe,we){for(var Se=[],Te=we/2,Me=0;Me<Te;Me++,xe+=2)Se[Me]=_e.getUint16(xe);return String.fromCharCode.apply(null,Se)},pt.UTF16=function(_e){for(var xe=[],we=0;we<_e.length;we+=1){var Se=_e.charCodeAt(we);xe[xe.length]=Se>>8&255,xe[xe.length]=255&Se}return xe},mt.UTF16=function(_e){return 2*_e.length};var yt,gt={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},wt=(ft.MACSTRING=function(_e,xe,we,Se){var Te=gt[Se];if(void 0!==Te){for(var Me="",Ye=0;Ye<we;Ye++){var Ze=_e.getUint8(xe+Ye);Me+=Ze<=127?String.fromCharCode(Ze):Te[127&Ze]}return Me}},"function"==typeof WeakMap&&new WeakMap);function le(_e){return-128<=_e&&_e<=127}pt.MACSTRING=function(_e,xe){var we=function(_e){if(!yt)for(var xe in yt={},gt)yt[xe]=new String(xe);var we=yt[_e];if(void 0!==we){if(wt){var Se=wt.get(we);if(void 0!==Se)return Se}var Te=gt[_e];if(void 0!==Te){for(var Me={},Ye=0;Ye<Te.length;Ye++)Me[Te.charCodeAt(Ye)]=Ye+128;return wt&&wt.set(we,Me),Me}}}(xe);if(void 0!==we){for(var Se=[],Te=0;Te<_e.length;Te++){var Me=_e.charCodeAt(Te);if(128<=Me&&void 0===(Me=we[Me]))return;Se[Te]=Me}return Se}},mt.MACSTRING=function(_e,xe){_e=pt.MACSTRING(_e,xe);return void 0!==_e?_e.length:0},pt.VARDELTAS=function(_e){for(var xe=0,we=[];xe<_e.length;){var Se=_e[xe];xe=(0===Se?function(_e,xe,we){for(var Se=0,Te=_e.length;xe<Te&&Se<64&&0===_e[xe];)++xe,++Se;return we.push(128|Se-1),xe}:-128<=Se&&Se<=127?function(_e,xe,we){for(var Se=0,Te=_e.length,Me=xe;Me<Te&&Se<64;){var Ye=_e[Me];if(!le(Ye))break;if(0===Ye&&Me+1<Te&&0===_e[Me+1])break;++Me,++Se}we.push(Se-1);for(var Ze=xe;Ze<Me;++Ze)we.push(_e[Ze]+256&255);return Me}:function(_e,xe,we){for(var Se=0,Te=_e.length,Me=xe;Me<Te&&Se<64;){var Ye=_e[Me];if(0===Ye)break;if(le(Ye)&&Me+1<Te&&le(_e[Me+1]))break;++Me,++Se}we.push(64|Se-1);for(var Ze=xe;Ze<Me;++Ze){var Qe=_e[Ze];we.push(Qe+65536>>8&255,Qe+256&255)}return Me})(_e,xe,we)}return we},pt.INDEX=function(_e){for(var xe=1,we=[xe],Se=[],Te=0;Te<_e.length;Te+=1){var Me=pt.OBJECT(_e[Te]);Array.prototype.push.apply(Se,Me),xe+=Me.length,we.push(xe)}if(0===Se.length)return[0,0];for(var Ye=[],Ze=1+Math.floor(Math.log(xe)/Math.log(2))/8|0,Qe=[void 0,pt.BYTE,pt.USHORT,pt.UINT24,pt.ULONG][Ze],Ke=0;Ke<we.length;Ke+=1){var Je=Qe(we[Ke]);Array.prototype.push.apply(Ye,Je)}return Array.prototype.concat(pt.Card16(_e.length),pt.OffSize(Ze),Ye,Se)},mt.INDEX=function(_e){return pt.INDEX(_e).length},pt.DICT=function(_e){for(var xe=[],we=Object.keys(_e),Se=we.length,Te=0;Te<Se;Te+=1){var Me=parseInt(we[Te],0),Ye=_e[Me];xe=(xe=xe.concat(pt.OPERAND(Ye.value,Ye.type))).concat(pt.OPERATOR(Me))}return xe},mt.DICT=function(_e){return pt.DICT(_e).length},pt.OPERATOR=function(_e){return _e<1200?[_e]:[12,_e-1200]},pt.OPERAND=function(_e,xe){var we=[];if(Array.isArray(xe))for(var Se=0;Se<xe.length;Se+=1)ht.argument(_e.length===xe.length,"Not enough arguments given for type"+xe),we=we.concat(pt.OPERAND(_e[Se],xe[Se]));else if("SID"===xe)we=we.concat(pt.NUMBER(_e));else if("offset"===xe)we=we.concat(pt.NUMBER32(_e));else if("number"===xe)we=we.concat(pt.NUMBER(_e));else{if("real"!==xe)throw new Error("Unknown operand type "+xe);we=we.concat(pt.REAL(_e))}return we},pt.OP=pt.BYTE,mt.OP=mt.BYTE;var Dt="function"==typeof WeakMap&&new WeakMap;function n(xe,we,Se){for(var Te=0;Te<we.length;Te+=1){var Me=we[Te];(this||_e)[Me.name]=Me.value}if((this||_e).tableName=xe,(this||_e).fields=we,Se)for(var Ye=Object.keys(Se),Ze=0;Ze<Ye.length;Ze+=1){var Qe=Ye[Ze],Ke=Se[Qe];void 0!==(this||_e)[Qe]&&((this||_e)[Qe]=Ke)}}function ce(_e,xe,we){void 0===we&&(we=xe.length);var Se=new Array(xe.length+1);Se[0]={name:_e+"Count",type:"USHORT",value:we};for(var Te=0;Te<xe.length;Te++)Se[Te+1]={name:_e+Te,type:"USHORT",value:xe[Te]};return Se}function de(_e,xe,we){var Se=xe.length,Te=new Array(Se+1);Te[0]={name:_e+"Count",type:"USHORT",value:Se};for(var Me=0;Me<Se;Me++)Te[Me+1]={name:_e+Me,type:"TABLE",value:we(xe[Me],Me)};return Te}function he(_e,xe,we){var Se=xe.length,Te=[];Te[0]={name:_e+"Count",type:"USHORT",value:Se};for(var Me=0;Me<Se;Me++)Te=Te.concat(we(xe[Me],Me));return Te}function fe(xe){1===xe.format?n.call(this||_e,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ce("glyph",xe.glyphs))):ht.assert(!1,"Can't create coverage table format 2 yet.")}function pe(xe){n.call(this||_e,"scriptListTable",he("scriptRecord",xe,(function(_e,xe){var we=_e.script,Se=we.defaultLangSys;return ht.assert(!!Se,"Unable to write GSUB: script "+_e.tag+" has no default language system."),[{name:"scriptTag"+xe,type:"TAG",value:_e.tag},{name:"script"+xe,type:"TABLE",value:new n("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new n("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Se.reqFeatureIndex}].concat(ce("featureIndex",Se.featureIndexes)))}].concat(he("langSys",we.langSysRecords,(function(_e,xe){var we=_e.langSys;return[{name:"langSysTag"+xe,type:"TAG",value:_e.tag},{name:"langSys"+xe,type:"TABLE",value:new n("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:we.reqFeatureIndex}].concat(ce("featureIndex",we.featureIndexes)))}]}))))}]})))}function me(xe){n.call(this||_e,"featureListTable",he("featureRecord",xe,(function(_e,xe){var we=_e.feature;return[{name:"featureTag"+xe,type:"TAG",value:_e.tag},{name:"feature"+xe,type:"TABLE",value:new n("featureTable",[{name:"featureParams",type:"USHORT",value:we.featureParams}].concat(ce("lookupListIndex",we.lookupListIndexes)))}]})))}function ye(xe,we){n.call(this||_e,"lookupListTable",de("lookup",xe,(function(_e){var xe=we[_e.lookupType];return ht.assert(!!xe,"Unable to write GSUB lookup type "+_e.lookupType+" tables."),new n("lookupTable",[{name:"lookupType",type:"USHORT",value:_e.lookupType},{name:"lookupFlag",type:"USHORT",value:_e.lookupFlag}].concat(de("subtable",_e.subtables,xe)))})))}pt.CHARSTRING=function(_e){if(Dt){var xe=Dt.get(_e);if(void 0!==xe)return xe}for(var we=[],Se=_e.length,Te=0;Te<Se;Te+=1){var Me=_e[Te];we=we.concat(pt[Me.type](Me.value))}return Dt&&Dt.set(_e,we),we},mt.CHARSTRING=function(_e){return pt.CHARSTRING(_e).length},pt.OBJECT=function(_e){var xe=pt[_e.type];return ht.argument(void 0!==xe,"No encoding function for type "+_e.type),xe(_e.value)},mt.OBJECT=function(_e){var xe=mt[_e.type];return ht.argument(void 0!==xe,"No sizeOf function for type "+_e.type),xe(_e.value)},pt.TABLE=function(_e){for(var xe=[],we=_e.fields.length,Se=[],Te=[],Me=0;Me<we;Me+=1){var Ye=_e.fields[Me],Ze=pt[Ye.type],Qe=(ht.argument(void 0!==Ze,"No encoding function for field type "+Ye.type+" ("+Ye.name+")"),_e[Ye.name]);Ze=Ze(Qe=void 0===Qe?Ye.value:Qe);"TABLE"===Ye.type?(Te.push(xe.length),xe=xe.concat([0,0]),Se.push(Ze)):xe=xe.concat(Ze)}for(var Ke=0;Ke<Se.length;Ke+=1){var Je=Te[Ke],$e=xe.length;ht.argument($e<65536,"Table "+_e.tableName+" too big."),xe[Je]=$e>>8,xe[Je+1]=255&$e,xe=xe.concat(Se[Ke])}return xe},mt.TABLE=function(_e){for(var xe=0,we=_e.fields.length,Se=0;Se<we;Se+=1){var Te=_e.fields[Se],Me=mt[Te.type],Ye=(ht.argument(void 0!==Me,"No sizeOf function for field type "+Te.type+" ("+Te.name+")"),_e[Te.name]);xe+=Me(Ye=void 0===Ye?Te.value:Ye),"TABLE"===Te.type&&(xe+=2)}return xe},pt.RECORD=pt.TABLE,mt.RECORD=mt.TABLE,pt.LITERAL=function(_e){return _e},mt.LITERAL=function(_e){return _e.length},n.prototype.encode=function(){return pt.TABLE(this||_e)},n.prototype.sizeOf=function(){return mt.TABLE(this||_e)};var Xt={Table:n,Record:n,Coverage:(fe.prototype=Object.create(n.prototype)).constructor=fe,ScriptList:(pe.prototype=Object.create(n.prototype)).constructor=pe,FeatureList:(me.prototype=Object.create(n.prototype)).constructor=me,LookupList:(ye.prototype=Object.create(n.prototype)).constructor=ye,ushortList:ce,tableList:de,recordList:he};function ge(_e,xe){return _e.getUint8(xe)}function ve(_e,xe){return _e.getUint16(xe,!1)}function be(_e,xe){return _e.getUint32(xe,!1)}function je(_e,xe){return _e.getInt16(xe,!1)+_e.getUint16(xe+2,!1)/65535}var Yt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function u(xe,we){(this||_e).data=xe,(this||_e).offset=we,(this||_e).relativeOffset=0}u.prototype.parseByte=function(){var xe=(this||_e).data.getUint8((this||_e).offset+(this||_e).relativeOffset);return(this||_e).relativeOffset+=1,xe},u.prototype.parseChar=function(){var xe=(this||_e).data.getInt8((this||_e).offset+(this||_e).relativeOffset);return(this||_e).relativeOffset+=1,xe},u.prototype.parseCard8=u.prototype.parseByte,u.prototype.parseCard16=u.prototype.parseUShort=function(){var xe=(this||_e).data.getUint16((this||_e).offset+(this||_e).relativeOffset);return(this||_e).relativeOffset+=2,xe},u.prototype.parseSID=u.prototype.parseUShort,u.prototype.parseOffset16=u.prototype.parseUShort,u.prototype.parseShort=function(){var xe=(this||_e).data.getInt16((this||_e).offset+(this||_e).relativeOffset);return(this||_e).relativeOffset+=2,xe},u.prototype.parseF2Dot14=function(){var xe=(this||_e).data.getInt16((this||_e).offset+(this||_e).relativeOffset)/16384;return(this||_e).relativeOffset+=2,xe},u.prototype.parseOffset32=u.prototype.parseULong=function(){var xe=be((this||_e).data,(this||_e).offset+(this||_e).relativeOffset);return(this||_e).relativeOffset+=4,xe},u.prototype.parseFixed=function(){var xe=je((this||_e).data,(this||_e).offset+(this||_e).relativeOffset);return(this||_e).relativeOffset+=4,xe},u.prototype.parseString=function(xe){var we=(this||_e).data,Se=(this||_e).offset+(this||_e).relativeOffset,Te="";(this||_e).relativeOffset+=xe;for(var Me=0;Me<xe;Me++)Te+=String.fromCharCode(we.getUint8(Se+Me));return Te},u.prototype.parseTag=function(){return this.parseString(4)},u.prototype.parseLongDateTime=function(){var xe=be((this||_e).data,(this||_e).offset+(this||_e).relativeOffset+4);return xe-=2082844800,(this||_e).relativeOffset+=8,xe},u.prototype.parseVersion=function(xe){var we=ve((this||_e).data,(this||_e).offset+(this||_e).relativeOffset),Se=ve((this||_e).data,(this||_e).offset+(this||_e).relativeOffset+2);return(this||_e).relativeOffset+=4,we+Se/(xe=void 0===xe?4096:xe)/10},u.prototype.skip=function(xe,we){(this||_e).relativeOffset+=Yt[xe]*(we=void 0===we?1:we)},u.prototype.parseULongList=function(xe){void 0===xe&&(xe=this.parseULong());for(var we=new Array(xe),Se=(this||_e).data,Te=(this||_e).offset+(this||_e).relativeOffset,Me=0;Me<xe;Me++)we[Me]=Se.getUint32(Te),Te+=4;return(this||_e).relativeOffset+=4*xe,we},u.prototype.parseOffset16List=u.prototype.parseUShortList=function(xe){void 0===xe&&(xe=this.parseUShort());for(var we=new Array(xe),Se=(this||_e).data,Te=(this||_e).offset+(this||_e).relativeOffset,Me=0;Me<xe;Me++)we[Me]=Se.getUint16(Te),Te+=2;return(this||_e).relativeOffset+=2*xe,we},u.prototype.parseShortList=function(xe){for(var we=new Array(xe),Se=(this||_e).data,Te=(this||_e).offset+(this||_e).relativeOffset,Me=0;Me<xe;Me++)we[Me]=Se.getInt16(Te),Te+=2;return(this||_e).relativeOffset+=2*xe,we},u.prototype.parseByteList=function(xe){for(var we=new Array(xe),Se=(this||_e).data,Te=(this||_e).offset+(this||_e).relativeOffset,Me=0;Me<xe;Me++)we[Me]=Se.getUint8(Te++);return(this||_e).relativeOffset+=xe,we},u.prototype.parseList=function(xe,we){we||(we=xe,xe=this.parseUShort());for(var Se=new Array(xe),Te=0;Te<xe;Te++)Se[Te]=we.call(this||_e);return Se},u.prototype.parseList32=function(xe,we){we||(we=xe,xe=this.parseULong());for(var Se=new Array(xe),Te=0;Te<xe;Te++)Se[Te]=we.call(this||_e);return Se},u.prototype.parseRecordList=function(xe,we){we||(we=xe,xe=this.parseUShort());for(var Se=new Array(xe),Te=Object.keys(we),Me=0;Me<xe;Me++){for(var Ye={},Ze=0;Ze<Te.length;Ze++){var Qe=Te[Ze],Ke=we[Qe];Ye[Qe]=Ke.call(this||_e)}Se[Me]=Ye}return Se},u.prototype.parseRecordList32=function(xe,we){we||(we=xe,xe=this.parseULong());for(var Se=new Array(xe),Te=Object.keys(we),Me=0;Me<xe;Me++){for(var Ye={},Ze=0;Ze<Te.length;Ze++){var Qe=Te[Ze],Ke=we[Qe];Ye[Qe]=Ke.call(this||_e)}Se[Me]=Ye}return Se},u.prototype.parseStruct=function(xe){if("function"==typeof xe)return xe.call(this||_e);for(var we=Object.keys(xe),Se={},Te=0;Te<we.length;Te++){var Me=we[Te],Ye=xe[Me];Se[Me]=Ye.call(this||_e)}return Se},u.prototype.parseValueRecord=function(_e){var xe;if(0!==(_e=void 0===_e?this.parseUShort():_e))return xe={},1&_e&&(xe.xPlacement=this.parseShort()),2&_e&&(xe.yPlacement=this.parseShort()),4&_e&&(xe.xAdvance=this.parseShort()),8&_e&&(xe.yAdvance=this.parseShort()),16&_e&&(xe.xPlaDevice=void 0,this.parseShort()),32&_e&&(xe.yPlaDevice=void 0,this.parseShort()),64&_e&&(xe.xAdvDevice=void 0,this.parseShort()),128&_e&&(xe.yAdvDevice=void 0,this.parseShort()),xe},u.prototype.parseValueRecordList=function(){for(var _e=this.parseUShort(),xe=this.parseUShort(),we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=this.parseValueRecord(_e);return we},u.prototype.parsePointer=function(xe){var we=this.parseOffset16();if(0<we)return new u((this||_e).data,(this||_e).offset+we).parseStruct(xe)},u.prototype.parsePointer32=function(xe){var we=this.parseOffset32();if(0<we)return new u((this||_e).data,(this||_e).offset+we).parseStruct(xe)},u.prototype.parseListOfLists=function(xe){for(var we=this.parseOffset16List(),Se=we.length,Te=(this||_e).relativeOffset,Me=new Array(Se),Ye=0;Ye<Se;Ye++){var Ze=we[Ye];if(0===Ze)Me[Ye]=void 0;else if((this||_e).relativeOffset=Ze,xe){for(var Qe=this.parseOffset16List(),Ke=new Array(Qe.length),Je=0;Je<Qe.length;Je++)(this||_e).relativeOffset=Ze+Qe[Je],Ke[Je]=xe.call(this||_e);Me[Ye]=Ke}else Me[Ye]=this.parseUShortList()}return(this||_e).relativeOffset=Te,Me},u.prototype.parseCoverage=function(){var xe=(this||_e).offset+(this||_e).relativeOffset,we=this.parseUShort(),Se=this.parseUShort();if(1===we)return{format:1,glyphs:this.parseUShortList(Se)};if(2!==we)throw new Error("0x"+xe.toString(16)+": Coverage format must be 1 or 2.");for(var Te=new Array(Se),Me=0;Me<Se;Me++)Te[Me]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:Te}},u.prototype.parseClassDef=function(){var xe=(this||_e).offset+(this||_e).relativeOffset,we=this.parseUShort();if(1===we)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===we)return{format:2,ranges:this.parseRecordList({start:u.uShort,end:u.uShort,classId:u.uShort})};throw new Error("0x"+xe.toString(16)+": ClassDef format must be 1 or 2.")},u.list=function(_e,xe){return function(){return this.parseList(_e,xe)}},u.list32=function(_e,xe){return function(){return this.parseList32(_e,xe)}},u.recordList=function(_e,xe){return function(){return this.parseRecordList(_e,xe)}},u.recordList32=function(_e,xe){return function(){return this.parseRecordList32(_e,xe)}},u.pointer=function(_e){return function(){return this.parsePointer(_e)}},u.pointer32=function(_e){return function(){return this.parsePointer32(_e)}},u.tag=u.prototype.parseTag,u.byte=u.prototype.parseByte,u.uShort=u.offset16=u.prototype.parseUShort,u.uShortList=u.prototype.parseUShortList,u.uLong=u.offset32=u.prototype.parseULong,u.uLongList=u.prototype.parseULongList,u.struct=u.prototype.parseStruct,u.coverage=u.prototype.parseCoverage,u.classDef=u.prototype.parseClassDef;var br={reserved:u.uShort,reqFeatureIndex:u.uShort,featureIndexes:u.uShortList},jr=(u.prototype.parseScriptList=function(){return this.parsePointer(u.recordList({tag:u.tag,script:u.pointer({defaultLangSys:u.pointer(br),langSysRecords:u.recordList({tag:u.tag,langSys:u.pointer(br)})})}))||[]},u.prototype.parseFeatureList=function(){return this.parsePointer(u.recordList({tag:u.tag,feature:u.pointer({featureParams:u.offset16,lookupListIndexes:u.uShortList})}))||[]},u.prototype.parseLookupList=function(_e){return this.parsePointer(u.list(u.pointer((function(){var xe=this.parseUShort(),we=(ht.argument(1<=xe&&xe<=9,"GPOS/GSUB lookup type "+xe+" unknown."),this.parseUShort()),Se=16&we;return{lookupType:xe,lookupFlag:we,subtables:this.parseList(u.pointer(_e[xe])),markFilteringSet:Se?this.parseUShort():void 0}}))))||[]},u.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var _e=this.parseUShort(),xe=this.parseUShort();return ht.argument(1===_e&&xe<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:u.offset32,featureTableSubstitutionOffset:u.offset32})}))||[]},{getByte:ge,getCard8:ge,getUShort:ve,getCard16:ve,getShort:function(_e,xe){return _e.getInt16(xe,!1)},getULong:be,getFixed:je,getTag:function(_e,xe){for(var we="",Se=xe;Se<xe+4;Se+=1)we+=String.fromCharCode(_e.getInt8(Se));return we},getOffset:function(_e,xe,we){for(var Se=0,Te=0;Te<we;Te+=1)Se=(Se<<=8)+_e.getUint8(xe+Te);return Se},getBytes:function(_e,xe,we){for(var Se=[],Te=xe;Te<we;Te+=1)Se.push(_e.getUint8(Te));return Se},bytesToString:function(_e){for(var xe="",we=0;we<_e.length;we+=1)xe+=String.fromCharCode(_e[we]);return xe},Parser:u});var xr={parse:function(_e,xe){for(var we={},Se=(we.version=jr.getUShort(_e,xe),ht.argument(0===we.version,"cmap table version should be 0."),we.numTables=jr.getUShort(_e,xe+2),-1),Te=we.numTables-1;0<=Te;--Te){var Me=jr.getUShort(_e,xe+4+8*Te),Ye=jr.getUShort(_e,xe+4+8*Te+2);if(3===Me&&(0===Ye||1===Ye||10===Ye)||0===Me&&(0===Ye||1===Ye||2===Ye||3===Ye||4===Ye)){Se=jr.getULong(_e,xe+4+8*Te+4);break}}if(-1===Se)throw new Error("No valid cmap sub-tables found.");var Ze=new jr.Parser(_e,xe+Se);if(we.format=Ze.parseUShort(),12===we.format){var Qe,Ke=we,Je=Ze;Je.parseUShort(),Ke.length=Je.parseULong(),Ke.language=Je.parseULong(),Ke.groupCount=Qe=Je.parseULong(),Ke.glyphIndexMap={};for(var $e=0;$e<Qe;$e+=1)for(var et=Je.parseULong(),tt=Je.parseULong(),rt=Je.parseULong(),ot=et;ot<=tt;ot+=1)Ke.glyphIndexMap[ot]=rt,rt++}else{if(4!==we.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+we.format+").");var nt=we,st=_e,it=xe,dt=Se;nt.length=Ze.parseUShort(),nt.language=Ze.parseUShort(),nt.segCount=ft=Ze.parseUShort()>>1,Ze.skip("uShort",3),nt.glyphIndexMap={};for(var ft,pt=new jr.Parser(st,it+dt+14),mt=new jr.Parser(st,it+dt+16+2*ft),yt=new jr.Parser(st,it+dt+16+4*ft),gt=new jr.Parser(st,it+dt+16+6*ft),wt=it+dt+16+8*ft,Dt=0;Dt<ft-1;Dt+=1)for(var Xt=void 0,Yt=pt.parseUShort(),br=mt.parseUShort(),xr=yt.parseShort(),wr=gt.parseUShort(),Sr=br;Sr<=Yt;Sr+=1)0!==wr?(wt=(wt=gt.offset+gt.relativeOffset-2)+wr+2*(Sr-br),0!==(Xt=jr.getUShort(st,wt))&&(Xt=Xt+xr&65535)):Xt=Sr+xr&65535,nt.glyphIndexMap[Sr]=Xt}return we},make:function(_e){for(var xe=!0,we=_e.length-1;0<we;--we)if(65535<_e.get(we).unicode){console.log("Adding CMAP format 12 (needed!)"),xe=!1;break}var Se,Te,Me=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:xe?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:xe?12:20}],Ye=(Me=(Me=xe?Me:Me.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Xt.Table("cmap",Me));for(Ye.segments=[],we=0;we<_e.length;we+=1){for(var Ze=_e.get(we),Qe=0;Qe<Ze.unicodes.length;Qe+=1)Se=Ze.unicodes[Qe],Te=we,Ye.segments.push({end:Se,start:Se,delta:-(Se-Te),offset:0,glyphIndex:Te});Ye.segments=Ye.segments.sort((function(_e,xe){return _e.start-xe.start}))}Ye.segments.push({end:65535,start:65535,delta:1,offset:0});var Ke=Ye.segments.length,Je=0,$e=[],et=[],tt=[],rt=[],ot=[],nt=[];for(we=0;we<Ke;we+=1){var st=Ye.segments[we];st.end<=65535&&st.start<=65535?($e=$e.concat({name:"end_"+we,type:"USHORT",value:st.end}),et=et.concat({name:"start_"+we,type:"USHORT",value:st.start}),tt=tt.concat({name:"idDelta_"+we,type:"SHORT",value:st.delta}),rt=rt.concat({name:"idRangeOffset_"+we,type:"USHORT",value:st.offset}),void 0!==st.glyphId&&(ot=ot.concat({name:"glyph_"+we,type:"USHORT",value:st.glyphId}))):Je+=1,xe||void 0===st.glyphIndex||(nt=(nt=(nt=nt.concat({name:"cmap12Start_"+we,type:"ULONG",value:st.start})).concat({name:"cmap12End_"+we,type:"ULONG",value:st.end})).concat({name:"cmap12Glyph_"+we,type:"ULONG",value:st.glyphIndex}))}return Ye.segCountX2=2*(Ke-Je),Ye.searchRange=2*Math.pow(2,Math.floor(Math.log(Ke-Je)/Math.log(2))),Ye.entrySelector=Math.log(Ye.searchRange/2)/Math.log(2),Ye.rangeShift=Ye.segCountX2-Ye.searchRange,Ye.fields=Ye.fields.concat($e),Ye.fields.push({name:"reservedPad",type:"USHORT",value:0}),Ye.fields=Ye.fields.concat(et),Ye.fields=Ye.fields.concat(tt),Ye.fields=Ye.fields.concat(rt),Ye.fields=Ye.fields.concat(ot),Ye.cmap4Length=14+2*$e.length+2+2*et.length+2*tt.length+2*rt.length+2*ot.length,xe||(Me=16+4*nt.length,Ye.cmap12Offset=20+Ye.cmap4Length,Ye.fields=Ye.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Me},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:nt.length/3}]),Ye.fields=Ye.fields.concat(nt)),Ye}},wr=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Sr=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Tr=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Mr=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ee(xe){(this||_e).font=xe}function ke(xe){(this||_e).cmap=xe}function Ce(xe,we){(this||_e).encoding=xe,(this||_e).charset=we}function Oe(xe){switch(xe.version){case 1:(this||_e).names=Mr.slice();break;case 2:(this||_e).names=new Array(xe.numberOfGlyphs);for(var we=0;we<xe.numberOfGlyphs;we++)xe.glyphNameIndex[we]<Mr.length?(this||_e).names[we]=Mr[xe.glyphNameIndex[we]]:(this||_e).names[we]=xe.names[xe.glyphNameIndex[we]-Mr.length];break;case 2.5:(this||_e).names=new Array(xe.numberOfGlyphs);for(var Se=0;Se<xe.numberOfGlyphs;Se++)(this||_e).names[Se]=Mr[Se+xe.glyphNameIndex[Se]];break;default:(this||_e).names=[]}}Ee.prototype.charToGlyphIndex=function(xe){var we=xe.codePointAt(0),Se=(this||_e).font.glyphs;if(Se)for(var Te=0;Te<Se.length;Te+=1)for(var Me=Se.get(Te),Ye=0;Ye<Me.unicodes.length;Ye+=1)if(Me.unicodes[Ye]===we)return Te;return null},ke.prototype.charToGlyphIndex=function(xe){return(this||_e).cmap.glyphIndexMap[xe.codePointAt(0)]||0},Ce.prototype.charToGlyphIndex=function(xe){xe=xe.codePointAt(0),xe=(this||_e).encoding[xe];return(this||_e).charset.indexOf(xe)},Oe.prototype.nameToGlyphIndex=function(xe){return(this||_e).names.indexOf(xe)},Oe.prototype.glyphIndexToName=function(xe){return(this||_e).names[xe]};var Pr={line:function(_e,xe,we,Se,Te){_e.beginPath(),_e.moveTo(xe,we),_e.lineTo(Se,Te),_e.stroke()}};function f(_e){this.bindConstructorValues(_e)}function Pe(_e,xe,we){Object.defineProperty(_e,xe,{get:function(){return _e.path,_e[we]},set:function(xe){_e[we]=xe},enumerable:!0,configurable:!0})}function Ae(xe,we){if((this||_e).font=xe,(this||_e).glyphs={},Array.isArray(we))for(var Se=0;Se<we.length;Se++)(this||_e).glyphs[Se]=we[Se];(this||_e).length=we&&we.length||0}f.prototype.bindConstructorValues=function(xe){var we;(this||_e).index=xe.index||0,(this||_e).name=xe.name||null,(this||_e).unicode=xe.unicode||void 0,(this||_e).unicodes=xe.unicodes||void 0!==xe.unicode?[xe.unicode]:[],xe.xMin&&((this||_e).xMin=xe.xMin),xe.yMin&&((this||_e).yMin=xe.yMin),xe.xMax&&((this||_e).xMax=xe.xMax),xe.yMax&&((this||_e).yMax=xe.yMax),xe.advanceWidth&&((this||_e).advanceWidth=xe.advanceWidth),Object.defineProperty(this||_e,"path",(xe=xe.path,we=xe||new h,{configurable:!0,get:function(){return we="function"==typeof we?we():we},set:function(_e){we=_e}}))},f.prototype.addUnicode=function(xe){0===(this||_e).unicodes.length&&((this||_e).unicode=xe),(this||_e).unicodes.push(xe)},f.prototype.getBoundingBox=function(){return(this||_e).path.getBoundingBox()},f.prototype.getPath=function(xe,we,Se,Te,Me){xe=void 0!==xe?xe:0,we=void 0!==we?we:0,Se=void 0!==Se?Se:72;for(var Ye,Ze,Qe=(Te=Te||{}).xScale,Ke=Te.yScale,Je=((Ye=Te.hinting&&Me&&Me.hinting?(this||_e).path&&Me.hinting.exec(this||_e,Se):Ye)?(Ze=Me.hinting.getCommands(Ye),xe=Math.round(xe),we=Math.round(we),Qe=Ke=1):(Ze=(this||_e).path.commands,Te=1/(this||_e).path.unitsPerEm*Se,void 0===Qe&&(Qe=Te),void 0===Ke&&(Ke=Te)),new h),$e=0;$e<Ze.length;$e+=1){var et=Ze[$e];"M"===et.type?Je.moveTo(xe+et.x*Qe,we+-et.y*Ke):"L"===et.type?Je.lineTo(xe+et.x*Qe,we+-et.y*Ke):"Q"===et.type?Je.quadraticCurveTo(xe+et.x1*Qe,we+-et.y1*Ke,xe+et.x*Qe,we+-et.y*Ke):"C"===et.type?Je.curveTo(xe+et.x1*Qe,we+-et.y1*Ke,xe+et.x2*Qe,we+-et.y2*Ke,xe+et.x*Qe,we+-et.y*Ke):"Z"===et.type&&Je.closePath()}return Je},f.prototype.getContours=function(){if(void 0===(this||_e).points)return[];for(var xe=[],we=[],Se=0;Se<(this||_e).points.length;Se+=1){var Te=(this||_e).points[Se];we.push(Te),Te.lastPointOfContour&&(xe.push(we),we=[])}return ht.argument(0===we.length,"There are still points left in the current contour."),xe},f.prototype.getMetrics=function(){for(var xe=(this||_e).path.commands,we=[],Se=[],Te=0;Te<xe.length;Te+=1){var Me=xe[Te];"Z"!==Me.type&&(we.push(Me.x),Se.push(Me.y)),"Q"!==Me.type&&"C"!==Me.type||(we.push(Me.x1),Se.push(Me.y1)),"C"===Me.type&&(we.push(Me.x2),Se.push(Me.y2))}var Ye={xMin:Math.min.apply(null,we),yMin:Math.min.apply(null,Se),xMax:Math.max.apply(null,we),yMax:Math.max.apply(null,Se),leftSideBearing:(this||_e).leftSideBearing};return isFinite(Ye.xMin)||(Ye.xMin=0),isFinite(Ye.xMax)||(Ye.xMax=(this||_e).advanceWidth),isFinite(Ye.yMin)||(Ye.yMin=0),isFinite(Ye.yMax)||(Ye.yMax=0),Ye.rightSideBearing=(this||_e).advanceWidth-Ye.leftSideBearing-(Ye.xMax-Ye.xMin),Ye},f.prototype.draw=function(_e,xe,we,Se,Te){this.getPath(xe,we,Se,Te).draw(_e)},f.prototype.drawPoints=function(xe,we,Se,Te){function o(_e,we,Se,Te){var Me=2*Math.PI;xe.beginPath();for(var Ye=0;Ye<_e.length;Ye+=1)xe.moveTo(we+_e[Ye].x*Te,Se+_e[Ye].y*Te),xe.arc(we+_e[Ye].x*Te,Se+_e[Ye].y*Te,2,0,Me,!1);xe.closePath(),xe.fill()}we=void 0!==we?we:0,Se=void 0!==Se?Se:0;Te=1/(this||_e).path.unitsPerEm*(Te=void 0!==Te?Te:24);for(var Me=[],Ye=[],Ze=(this||_e).path,Qe=0;Qe<Ze.commands.length;Qe+=1){var Ke=Ze.commands[Qe];void 0!==Ke.x&&Me.push({x:Ke.x,y:-Ke.y}),void 0!==Ke.x1&&Ye.push({x:Ke.x1,y:-Ke.y1}),void 0!==Ke.x2&&Ye.push({x:Ke.x2,y:-Ke.y2})}xe.fillStyle="blue",o(Me,we,Se,Te),xe.fillStyle="red",o(Ye,we,Se,Te)},f.prototype.drawMetrics=function(xe,we,Se,Te){we=void 0!==we?we:0,Se=void 0!==Se?Se:0,Te=1/(this||_e).path.unitsPerEm*(Te=void 0!==Te?Te:24),xe.lineWidth=1,xe.strokeStyle="black",Pr.line(xe,we,-1e4,we,1e4),Pr.line(xe,-1e4,Se,1e4,Se);var Me=(this||_e).xMin||0,Ye=(this||_e).yMin||0,Ze=(this||_e).xMax||0,Qe=(this||_e).yMax||0,Ke=(this||_e).advanceWidth||0;xe.strokeStyle="blue",Pr.line(xe,we+Me*Te,-1e4,we+Me*Te,1e4),Pr.line(xe,we+Ze*Te,-1e4,we+Ze*Te,1e4),Pr.line(xe,-1e4,Se+-Ye*Te,1e4,Se+-Ye*Te),Pr.line(xe,-1e4,Se+-Qe*Te,1e4,Se+-Qe*Te),xe.strokeStyle="green",Pr.line(xe,we+Ke*Te,-1e4,we+Ke*Te,1e4)},Ae.prototype.get=function(xe){return"function"==typeof(this||_e).glyphs[xe]&&((this||_e).glyphs[xe]=(this||_e).glyphs[xe]()),(this||_e).glyphs[xe]},Ae.prototype.push=function(xe,we){(this||_e).glyphs[xe]=we,(this||_e).length++};var Lr={GlyphSet:Ae,glyphLoader:function(_e,xe){return new f({index:xe,font:_e})},ttfGlyphLoader:function(_e,xe,we,Se,Te,Me){return function(){var Ye=new f({index:xe,font:_e});return Ye.path=function(){we(Ye,Se,Te);var xe=Me(_e.glyphs,Ye);return xe.unitsPerEm=_e.unitsPerEm,xe},Pe(Ye,"xMin","_xMin"),Pe(Ye,"xMax","_xMax"),Pe(Ye,"yMin","_yMin"),Pe(Ye,"yMax","_yMax"),Ye}},cffGlyphLoader:function(_e,xe,we,Se){return function(){var Te=new f({index:xe,font:_e});return Te.path=function(){var xe=we(_e,Te,Se);return xe.unitsPerEm=_e.unitsPerEm,xe},Te}}};function Le(_e){_e=_e.length<1240?107:_e.length<33900?1131:32768;return _e}function y(_e,xe,we){var Se,Te=[],Me=[],Ye=jr.getCard16(_e,xe);if(0!==Ye){for(var Ze=jr.getByte(_e,xe+2),Qe=xe+(Ye+1)*Ze+2,Ke=xe+3,Je=0;Je<Ye+1;Je+=1)Te.push(jr.getOffset(_e,Ke,Ze)),Ke+=Ze;Se=Qe+Te[Ye]}else Se=xe+2;for(var $e=0;$e<Te.length-1;$e+=1){var et=jr.getBytes(_e,Qe+Te[$e],Qe+Te[$e+1]);we&&(et=we(et)),Me.push(et)}return{objects:Me,startOffset:xe,endOffset:Se}}function Re(_e,xe){if(28===xe)return _e.parseByte()<<8|_e.parseByte();if(29===xe)return _e.parseByte()<<24|_e.parseByte()<<16|_e.parseByte()<<8|_e.parseByte();if(30===xe){for(var we=_e,Se="",Te=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Me=we.parseByte(),Ye=Me>>4;Me=15&Me;if(15==Ye)break;if(Se+=Te[Ye],15==Me)break;Se+=Te[Me]}return parseFloat(Se)}if(32<=xe&&xe<=246)return xe-139;if(247<=xe&&xe<=250)return 256*(xe-247)+_e.parseByte()+108;if(251<=xe&&xe<=254)return 256*-(xe-251)-_e.parseByte()-108;throw new Error("Invalid b0 "+xe)}function Ie(_e,xe,we){var Se=new jr.Parser(_e,xe=void 0!==xe?xe:0),Te=[],Me=[];for(we=void 0!==we?we:_e.length;Se.relativeOffset<we;){var Ye=Se.parseByte();Ye<=21?(12===Ye&&(Ye=1200+Se.parseByte()),Te.push([Ye,Me]),Me=[]):Me.push(Re(Se,Ye))}for(var Ze=Te,Qe={},Ke=0;Ke<Ze.length;Ke+=1){var Je=Ze[Ke][0],$e=Ze[Ke][1],et=void 0;et=1===$e.length?$e[0]:$e;if(Qe.hasOwnProperty(Je)&&!isNaN(Qe[Je]))throw new Error("Object "+Qe+" already has key "+Je);Qe[Je]=et}return Qe}function De(_e,xe){return xe<=390?wr[xe]:_e[xe-391]}function Fe(_e,xe,we){for(var Se,Te={},Me=0;Me<xe.length;Me+=1){var Ye=xe[Me];if(Array.isArray(Ye.type)){var Ze=[];Ze.length=Ye.type.length;for(var Qe=0;Qe<Ye.type.length;Qe++)void 0===(Se=void 0!==_e[Ye.op]?_e[Ye.op][Qe]:void 0)&&(Se=void 0!==Ye.value&&void 0!==Ye.value[Qe]?Ye.value[Qe]:null),"SID"===Ye.type[Qe]&&(Se=De(we,Se)),Ze[Qe]=Se;Te[Ye.name]=Ze}else void 0===(Se=_e[Ye.op])&&(Se=void 0!==Ye.value?Ye.value:null),"SID"===Ye.type&&(Se=De(we,Se)),Te[Ye.name]=Se}return Te}var Ar=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Rr=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Be(_e,xe,we,Se){return Fe(Ie(_e,xe,we),Rr,Se)}function Ge(_e,xe,we,Se){for(var Te=[],Me=0;Me<we.length;Me+=1){var Ye=new DataView(new Uint8Array(we[Me]).buffer),Ze=(Ye=(Ze=Se,Fe(Ie(Ye,0,Ye.byteLength),Ar,Ze)),Ye._subrs=[],Ye._subrsBias=0,Ye.private[0]),Qe=Ye.private[1];0!==Ze&&0!==Qe&&(Ze=Be(_e,Qe+xe,Ze,Se),Ye._defaultWidthX=Ze.defaultWidthX,Ye._nominalWidthX=Ze.nominalWidthX,0!==Ze.subrs&&(Qe=y(_e,Qe+Ze.subrs+xe),Ye._subrs=Qe.objects,Ye._subrsBias=Le(Ye._subrs)),Ye._privateDict=Ze),Te.push(Ye)}return Te}function Ve(_e,xe,we){var Se,Te,Me,Ye,Ze,Qe,Ke,Je,$e,et=new h,tt=[],rt=0,ot=!1,nt=!1,st=0,it=0,dt=($e=(_e.isCIDFont?(Ze=_e.tables.cff.topDict._fdSelect[xe.index],Ze=_e.tables.cff.topDict._fdArray[Ze],Qe=Ze._subrs,Ke=Ze._subrsBias,Je=Ze._defaultWidthX,Ze):(Qe=_e.tables.cff.topDict._subrs,Ke=_e.tables.cff.topDict._subrsBias,Je=_e.tables.cff.topDict._defaultWidthX,_e.tables.cff.topDict))._nominalWidthX,Je);function L(_e,xe){nt&&et.closePath(),et.moveTo(_e,xe),nt=!0}function R(){tt.length%2==0||ot||(dt=tt.shift()+$e),rt+=tt.length>>1,tt.length=0,ot=!0}return function e(we){for(var Ze,Je,ht,ft,pt,mt,yt,gt,wt,Dt,Xt,Yt,br=0;br<we.length;){var jr=we[br];switch(br+=1,jr){case 1:case 3:R();break;case 4:1<tt.length&&!ot&&(dt=tt.shift()+$e,ot=!0),it+=tt.pop(),L(st,it);break;case 5:for(;0<tt.length;)st+=tt.shift(),it+=tt.shift(),et.lineTo(st,it);break;case 6:for(;0<tt.length&&(st+=tt.shift(),et.lineTo(st,it),0!==tt.length);)it+=tt.shift(),et.lineTo(st,it);break;case 7:for(;0<tt.length&&(it+=tt.shift(),et.lineTo(st,it),0!==tt.length);)st+=tt.shift(),et.lineTo(st,it);break;case 8:for(;0<tt.length;)Se=st+tt.shift(),Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),st=Me+tt.shift(),it=Ye+tt.shift(),et.curveTo(Se,Te,Me,Ye,st,it);break;case 10:pt=tt.pop()+Ke,(mt=Qe[pt])&&e(mt);break;case 11:return;case 12:switch(jr=we[br],br+=1,jr){case 35:Se=st+tt.shift(),Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),yt=Me+tt.shift(),gt=Ye+tt.shift(),wt=yt+tt.shift(),Dt=gt+tt.shift(),Xt=wt+tt.shift(),Yt=Dt+tt.shift(),st=Xt+tt.shift(),it=Yt+tt.shift(),tt.shift(),et.curveTo(Se,Te,Me,Ye,yt,gt),et.curveTo(wt,Dt,Xt,Yt,st,it);break;case 34:Se=st+tt.shift(),Te=it,Me=Se+tt.shift(),Ye=Te+tt.shift(),yt=Me+tt.shift(),gt=Ye,wt=yt+tt.shift(),Dt=Ye,Xt=wt+tt.shift(),Yt=it,st=Xt+tt.shift(),et.curveTo(Se,Te,Me,Ye,yt,gt),et.curveTo(wt,Dt,Xt,Yt,st,it);break;case 36:Se=st+tt.shift(),Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),yt=Me+tt.shift(),gt=Ye,wt=yt+tt.shift(),Dt=Ye,Xt=wt+tt.shift(),Yt=Dt+tt.shift(),st=Xt+tt.shift(),et.curveTo(Se,Te,Me,Ye,yt,gt),et.curveTo(wt,Dt,Xt,Yt,st,it);break;case 37:Se=st+tt.shift(),Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),yt=Me+tt.shift(),gt=Ye+tt.shift(),wt=yt+tt.shift(),Dt=gt+tt.shift(),Xt=wt+tt.shift(),Yt=Dt+tt.shift(),Math.abs(Xt-st)>Math.abs(Yt-it)?st=Xt+tt.shift():it=Yt+tt.shift(),et.curveTo(Se,Te,Me,Ye,yt,gt),et.curveTo(wt,Dt,Xt,Yt,st,it);break;default:console.log("Glyph "+xe.index+": unknown operator 1200"+jr),tt.length=0}break;case 14:0<tt.length&&!ot&&(dt=tt.shift()+$e,ot=!0),nt&&(et.closePath(),nt=!1);break;case 18:R();break;case 19:case 20:R(),br+=rt+7>>3;break;case 21:2<tt.length&&!ot&&(dt=tt.shift()+$e,ot=!0),it+=tt.pop(),L(st+=tt.pop(),it);break;case 22:1<tt.length&&!ot&&(dt=tt.shift()+$e,ot=!0),L(st+=tt.pop(),it);break;case 23:R();break;case 24:for(;2<tt.length;)Se=st+tt.shift(),Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),st=Me+tt.shift(),it=Ye+tt.shift(),et.curveTo(Se,Te,Me,Ye,st,it);st+=tt.shift(),it+=tt.shift(),et.lineTo(st,it);break;case 25:for(;6<tt.length;)st+=tt.shift(),it+=tt.shift(),et.lineTo(st,it);Se=st+tt.shift(),Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),st=Me+tt.shift(),it=Ye+tt.shift(),et.curveTo(Se,Te,Me,Ye,st,it);break;case 26:for(tt.length%2&&(st+=tt.shift());0<tt.length;)Se=st,Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),st=Me,it=Ye+tt.shift(),et.curveTo(Se,Te,Me,Ye,st,it);break;case 27:for(tt.length%2&&(it+=tt.shift());0<tt.length;)Se=st+tt.shift(),Te=it,Me=Se+tt.shift(),Ye=Te+tt.shift(),st=Me+tt.shift(),it=Ye,et.curveTo(Se,Te,Me,Ye,st,it);break;case 28:Ze=we[br],Je=we[br+1],tt.push((Ze<<24|Je<<16)>>16),br+=2;break;case 29:pt=tt.pop()+_e.gsubrsBias,(mt=_e.gsubrs[pt])&&e(mt);break;case 30:for(;0<tt.length&&(Se=st,Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),st=Me+tt.shift(),it=Ye+(1===tt.length?tt.shift():0),et.curveTo(Se,Te,Me,Ye,st,it),0!==tt.length);)Se=st+tt.shift(),Te=it,Me=Se+tt.shift(),Ye=Te+tt.shift(),it=Ye+tt.shift(),st=Me+(1===tt.length?tt.shift():0),et.curveTo(Se,Te,Me,Ye,st,it);break;case 31:for(;0<tt.length&&(Se=st+tt.shift(),Te=it,Me=Se+tt.shift(),Ye=Te+tt.shift(),it=Ye+tt.shift(),st=Me+(1===tt.length?tt.shift():0),et.curveTo(Se,Te,Me,Ye,st,it),0!==tt.length);)Se=st,Te=it+tt.shift(),Me=Se+tt.shift(),Ye=Te+tt.shift(),st=Me+tt.shift(),it=Ye+(1===tt.length?tt.shift():0),et.curveTo(Se,Te,Me,Ye,st,it);break;default:jr<32?console.log("Glyph "+xe.index+": unknown operator "+jr):jr<247?tt.push(jr-139):jr<251?(Ze=we[br],br+=1,tt.push(256*(jr-247)+Ze+108)):jr<255?(Ze=we[br],br+=1,tt.push(256*-(jr-251)-Ze-108)):(Ze=we[br],Je=we[br+1],ht=we[br+2],ft=we[br+3],br+=4,tt.push((Ze<<24|Je<<16|ht<<8|ft)/65536))}}}(we),xe.advanceWidth=dt,et}function ze(_e,xe){var we,Se=wr.indexOf(_e);return 0<=Se&&(we=Se),0<=(Se=xe.indexOf(_e))?we=Se+wr.length:(we=wr.length+xe.length,xe.push(_e)),we}function He(_e,xe,we){for(var Se={},Te=0;Te<_e.length;Te+=1){var Me=_e[Te],Ye=xe[Me.name];void 0===Ye||function e(_e,xe){if(_e===xe)return 1;if(Array.isArray(_e)&&Array.isArray(xe)&&_e.length===xe.length){for(var we=0;we<_e.length;we+=1)if(!e(_e[we],xe[we]))return;return 1}}(Ye,Me.value)||("SID"===Me.type&&(Ye=ze(Ye,we)),Se[Me.op]={name:Me.name,type:Me.type,value:Ye})}return Se}function We(_e,xe){var we=new Xt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return we.dict=He(Ar,_e,xe),we}function qe(_e){var xe=new Xt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return xe.topDicts=[{name:"topDict_0",type:"TABLE",value:_e}],xe}function Xe(_e){for(var xe=new Xt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),we=0;we<_e.length;we+=1){var Se=_e.get(we),Te=function(_e){for(var xe=[],we=_e.path,Se=(xe.push({name:"width",type:"NUMBER",value:_e.advanceWidth}),0),Te=0,Me=0;Me<we.commands.length;Me+=1){var Ye,Ze,Qe,Ke,Je=void 0,$e=void 0,et=we.commands[Me];"M"===(et="Q"===et.type?{type:"C",x:et.x,y:et.y,x1:1/3*Se+2/3*et.x1,y1:1/3*Te+2/3*et.y1,x2:1/3*et.x+2/3*et.x1,y2:1/3*et.y+2/3*et.y1}:et).type?(Je=Math.round(et.x-Se),$e=Math.round(et.y-Te),xe.push({name:"dx",type:"NUMBER",value:Je}),xe.push({name:"dy",type:"NUMBER",value:$e}),xe.push({name:"rmoveto",type:"OP",value:21}),Se=Math.round(et.x),Te=Math.round(et.y)):"L"===et.type?(Je=Math.round(et.x-Se),$e=Math.round(et.y-Te),xe.push({name:"dx",type:"NUMBER",value:Je}),xe.push({name:"dy",type:"NUMBER",value:$e}),xe.push({name:"rlineto",type:"OP",value:5}),Se=Math.round(et.x),Te=Math.round(et.y)):"C"===et.type&&(Ye=Math.round(et.x1-Se),Ze=Math.round(et.y1-Te),Qe=Math.round(et.x2-et.x1),Ke=Math.round(et.y2-et.y1),Je=Math.round(et.x-et.x2),$e=Math.round(et.y-et.y2),xe.push({name:"dx1",type:"NUMBER",value:Ye}),xe.push({name:"dy1",type:"NUMBER",value:Ze}),xe.push({name:"dx2",type:"NUMBER",value:Qe}),xe.push({name:"dy2",type:"NUMBER",value:Ke}),xe.push({name:"dx",type:"NUMBER",value:Je}),xe.push({name:"dy",type:"NUMBER",value:$e}),xe.push({name:"rrcurveto",type:"OP",value:8}),Se=Math.round(et.x),Te=Math.round(et.y))}return xe.push({name:"endchar",type:"OP",value:14}),xe}(Se);xe.charStrings.push({name:Se.name,type:"CHARSTRING",value:Te})}return xe}var Ir={parse:function(_e,xe,we){we.tables.cff={},Se=_e,Te=xe,(Me={}).formatMajor=jr.getCard8(Se,Te),Me.formatMinor=jr.getCard8(Se,Te+1),Me.size=jr.getCard8(Se,Te+2),Me.offsetSize=jr.getCard8(Se,Te+3),Me.startOffset=Te,Me.endOffset=Te+4;var Se=y(_e,Me.endOffset,jr.bytesToString),Te=y(_e,Se.endOffset),Me=y(_e,Te.endOffset,jr.bytesToString);Se=y(_e,Me.endOffset);if(we.gsubrs=Se.objects,we.gsubrsBias=Le(we.gsubrs),1!==(Se=Ge(_e,xe,Te.objects,Me.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Se.length);if(Te=Se[0],(we.tables.cff.topDict=Te)._privateDict&&(we.defaultWidthX=Te._privateDict.defaultWidthX,we.nominalWidthX=Te._privateDict.nominalWidthX),void 0!==Te.ros[0]&&void 0!==Te.ros[1]&&(we.isCIDFont=!0),we.isCIDFont){Se=Te.fdArray;var Ye=Te.fdSelect;if(0===Se||0===Ye)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Se=Ge(_e,xe,y(_e,Se+=xe).objects,Me.objects);Te._fdArray=Se,Te._fdSelect=function(_e,xe,we,Se){var Te,Me=[],Ye=new jr.Parser(_e,xe);if(0===(_e=Ye.parseCard8()))for(var Ze=0;Ze<we;Ze++){if(Se<=(Te=Ye.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Te+" (FD count "+Se+")");Me.push(Te)}else{if(3!==_e)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+_e);var Qe,Ke=Ye.parseCard16(),Je=Ye.parseCard16();if(0!==Je)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Je);for(var $e=0;$e<Ke;$e++){if(Te=Ye.parseCard8(),Qe=Ye.parseCard16(),Se<=Te)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Te+" (FD count "+Se+")");if(we<Qe)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Qe);for(;Je<Qe;Je++)Me.push(Te);Je=Qe}if(Qe!==we)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Qe)}return Me}(_e,Ye+=xe,we.numGlyphs,Se.length)}Ye=xe+Te.private[1],Se=Be(_e,Ye,Te.private[0],Me.objects);var Ze=(we.defaultWidthX=Se.defaultWidthX,we.nominalWidthX=Se.nominalWidthX,0!==Se.subrs?(Ye=y(_e,Ye+Se.subrs),we.subrs=Ye.objects,we.subrsBias=Le(we.subrs)):(we.subrs=[],we.subrsBias=0),y(_e,xe+Te.charStrings));Se=(we.nGlyphs=Ze.objects.length,function(_e,xe,we,Se){var Te=new jr.Parser(_e,xe),Me=(--we,[".notdef"]);if(0===(_e=Te.parseCard8()))for(var Ye=0;Ye<we;Ye+=1)Ze=Te.parseSID(),Me.push(De(Se,Ze));else if(1===_e)for(;Me.length<=we;)for(var Ze=Te.parseSID(),Qe=Te.parseCard8(),Ke=0;Ke<=Qe;Ke+=1)Me.push(De(Se,Ze)),Ze+=1;else{if(2!==_e)throw new Error("Unknown charset format "+_e);for(;Me.length<=we;){Ze=Te.parseSID(),Qe=Te.parseCard16();for(var Je=0;Je<=Qe;Je+=1)Me.push(De(Se,Ze)),Ze+=1}}return Me}(_e,xe+Te.charset,we.nGlyphs,Me.objects));0===Te.encoding?we.cffEncoding=new Ce(Sr,Se):1===Te.encoding?we.cffEncoding=new Ce(Tr,Se):we.cffEncoding=function(_e,xe,we){var Se={},Te=new jr.Parser(_e,xe);if(0===(_e=Te.parseCard8()))for(var Me=Te.parseCard8(),Ye=0;Ye<Me;Ye+=1)Se[Qe=Te.parseCard8()]=Ye;else{if(1!==_e)throw new Error("Unknown encoding format "+_e);for(var Ze=Te.parseCard8(),Qe=1,Ke=0;Ke<Ze;Ke+=1)for(var Je=Te.parseCard8(),$e=Te.parseCard8(),et=Je;et<=Je+$e;et+=1)Se[et]=Qe,Qe+=1}return new Ce(Se,we)}(_e,xe+Te.encoding,Se),we.encoding=we.encoding||we.cffEncoding,we.glyphs=new Lr.GlyphSet(we);for(var Qe=0;Qe<we.nGlyphs;Qe+=1){var Ke=Ze.objects[Qe];we.glyphs.push(Qe,Lr.cffGlyphLoader(we,Qe,Ve,Ke))}},make:function(_e,xe){for(var we,Se=new Xt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Te=1/xe.unitsPerEm,Me=(Te={version:xe.version,fullName:xe.fullName,familyName:xe.familyName,weight:xe.weightName,fontBBox:xe.fontBBox||[0,0,0,0],fontMatrix:[Te,0,0,Te,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),Ye=1;Ye<_e.length;Ye+=1)we=_e.get(Ye),Me.push(we.name);var Ze,Qe,Ke=[],Je=(xe=(Se.header=new Xt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),Se.nameIndex=function(_e){var xe=new Xt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);xe.names=[];for(var we=0;we<_e.length;we+=1)xe.names.push({name:"name_"+we,type:"NAME",value:_e[we]});return xe}([xe.postScriptName]),We(Te,Ke)),Se.topDictIndex=qe(xe),Se.globalSubrIndex=new Xt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),Se.charsets=function(_e,xe){for(var we=new Xt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Se=0;Se<_e.length;Se+=1){var Te=ze(_e[Se],xe);we.fields.push({name:"glyph_"+Se,type:"SID",value:Te})}return we}(Me,Ke),Se.charStringsIndex=Xe(_e),Se.privateDict=(Je={},Ze=Ke,(Qe=new Xt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=He(Rr,Je,Ze),Qe),Se.stringIndex=function(_e){var xe=new Xt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);xe.strings=[];for(var we=0;we<_e.length;we+=1)xe.strings.push({name:"string_"+we,type:"STRING",value:_e[we]});return xe}(Ke),Se.header.sizeOf()+Se.nameIndex.sizeOf()+Se.topDictIndex.sizeOf()+Se.stringIndex.sizeOf()+Se.globalSubrIndex.sizeOf());return Te.charset=Je,Te.encoding=0,Te.charStrings=Te.charset+Se.charsets.sizeOf(),Te.private[1]=Te.charStrings+Se.charStringsIndex.sizeOf(),xe=We(Te,Ke),Se.topDictIndex=qe(xe),Se}};var Dr={parse:function(_e,xe){var we={};_e=new jr.Parser(_e,xe);return we.version=_e.parseVersion(),we.fontRevision=Math.round(1e3*_e.parseFixed())/1e3,we.checkSumAdjustment=_e.parseULong(),we.magicNumber=_e.parseULong(),ht.argument(1594834165===we.magicNumber,"Font header has wrong magic number."),we.flags=_e.parseUShort(),we.unitsPerEm=_e.parseUShort(),we.created=_e.parseLongDateTime(),we.modified=_e.parseLongDateTime(),we.xMin=_e.parseShort(),we.yMin=_e.parseShort(),we.xMax=_e.parseShort(),we.yMax=_e.parseShort(),we.macStyle=_e.parseUShort(),we.lowestRecPPEM=_e.parseUShort(),we.fontDirectionHint=_e.parseShort(),we.indexToLocFormat=_e.parseShort(),we.glyphDataFormat=_e.parseShort(),we},make:function(_e){var xe=Math.round((new Date).getTime()/1e3)+2082844800,we=xe;return _e.createdTimestamp&&(we=_e.createdTimestamp+2082844800),new Xt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:we},{name:"modified",type:"LONGDATETIME",value:xe},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],_e)}};var Fr={parse:function(_e,xe){var we={};_e=new jr.Parser(_e,xe);return we.version=_e.parseVersion(),we.ascender=_e.parseShort(),we.descender=_e.parseShort(),we.lineGap=_e.parseShort(),we.advanceWidthMax=_e.parseUShort(),we.minLeftSideBearing=_e.parseShort(),we.minRightSideBearing=_e.parseShort(),we.xMaxExtent=_e.parseShort(),we.caretSlopeRise=_e.parseShort(),we.caretSlopeRun=_e.parseShort(),we.caretOffset=_e.parseShort(),_e.relativeOffset+=8,we.metricDataFormat=_e.parseShort(),we.numberOfHMetrics=_e.parseUShort(),we},make:function(_e){return new Xt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],_e)}};var Ur={parse:function(_e,xe,we,Se,Te){for(var Me,Ye,Ze=new jr.Parser(_e,xe),Qe=0;Qe<Se;Qe+=1){Qe<we&&(Me=Ze.parseUShort(),Ye=Ze.parseShort());var Ke=Te.get(Qe);Ke.advanceWidth=Me,Ke.leftSideBearing=Ye}},make:function(_e){for(var xe=new Xt.Table("hmtx",[]),we=0;we<_e.length;we+=1){var Se=_e.get(we),Te=Se.advanceWidth||0;Se=Se.leftSideBearing||0;xe.fields.push({name:"advanceWidth_"+we,type:"USHORT",value:Te}),xe.fields.push({name:"leftSideBearing_"+we,type:"SHORT",value:Se})}return xe}};var Nr={make:function(_e){for(var xe=new Xt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:_e.length}]),we="",Se=12+4*_e.length,Te=0;Te<_e.length;++Te){var Me=we.indexOf(_e[Te]);Me<0&&(Me=we.length,we+=_e[Te]),xe.fields.push({name:"offset "+Te,type:"USHORT",value:Se+Me}),xe.fields.push({name:"length "+Te,type:"USHORT",value:_e[Te].length})}return xe.fields.push({name:"stringPool",type:"CHARARRAY",value:we}),xe},parse:function(_e,xe){for(var we=new jr.Parser(_e,xe),Se=we.parseULong(),Te=(ht.argument(1===Se,"Unsupported ltag table version."),we.skip("uLong",1),we.parseULong()),Me=[],Ye=0;Ye<Te;Ye++){for(var Ze="",Qe=xe+we.parseUShort(),Ke=we.parseUShort(),Je=Qe;Je<Qe+Ke;++Je)Ze+=String.fromCharCode(_e.getInt8(Je));Me.push(Ze)}return Me}};var Br={parse:function(_e,xe){var we={};_e=new jr.Parser(_e,xe);return we.version=_e.parseVersion(),we.numGlyphs=_e.parseUShort(),1===we.version&&(we.maxPoints=_e.parseUShort(),we.maxContours=_e.parseUShort(),we.maxCompositePoints=_e.parseUShort(),we.maxCompositeContours=_e.parseUShort(),we.maxZones=_e.parseUShort(),we.maxTwilightPoints=_e.parseUShort(),we.maxStorage=_e.parseUShort(),we.maxFunctionDefs=_e.parseUShort(),we.maxInstructionDefs=_e.parseUShort(),we.maxStackElements=_e.parseUShort(),we.maxSizeOfInstructions=_e.parseUShort(),we.maxComponentElements=_e.parseUShort(),we.maxComponentDepth=_e.parseUShort()),we},make:function(_e){return new Xt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:_e}])}},Gr=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Vr={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},zr={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Hr={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};var Wr="utf-16",qr={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Xr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function at(_e,xe,we){switch(_e){case 0:return Wr;case 1:return Xr[we]||qr[xe];case 3:if(1===xe||10===xe)return Wr}}function lt(_e){var xe,we={};for(xe in _e)we[_e[xe]]=parseInt(xe);return we}function ut(_e,xe,we,Se,Te,Me){return new Xt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:_e},{name:"encodingID",type:"USHORT",value:xe},{name:"languageID",type:"USHORT",value:we},{name:"nameID",type:"USHORT",value:Se},{name:"length",type:"USHORT",value:Te},{name:"offset",type:"USHORT",value:Me}])}function ct(_e,xe){if((we=function(_e,xe){var we=_e.length,Se=xe.length-we+1;e:for(var Te=0;Te<Se;Te++)for(;Te<Se;Te++){for(var Me=0;Me<we;Me++)if(xe[Te+Me]!==_e[Me])continue e;return Te}return-1}(_e,xe))<0)for(var we=xe.length,Se=0,Te=_e.length;Se<Te;++Se)xe.push(_e[Se]);return we}var Yr={parse:function(_e,xe,we){for(var Se={},Te=new jr.Parser(_e,xe),Me=(xe=Te.parseUShort(),Te.parseUShort()),Ye=Te.offset+Te.parseUShort(),Ze=0;Ze<Me;Ze++){var Qe=Te.parseUShort(),Ke=Te.parseUShort(),Je=Te.parseUShort(),$e=Te.parseUShort(),et=($e=Gr[$e]||$e,Te.parseUShort()),tt=Te.parseUShort(),rt=function(_e,xe,we){switch(_e){case 0:if(65535===xe)return"und";if(we)return we[xe];break;case 1:return Vr[xe];case 3:return Hr[xe]}}(Qe,Je,we);Qe=at(Qe,Ke,Je);void 0!==Qe&&void 0!==rt&&(Ke=void 0,(Ke=Qe===Wr?ft.UTF16(_e,Ye+tt,et):ft.MACSTRING(_e,Ye+tt,et,Qe))&&((Je=void 0===(Je=Se[$e])?Se[$e]={}:Je)[rt]=Ke))}return 1===xe&&Te.parseUShort(),Se},make:function(_e,xe){var we,Se=[],Te={},Me=lt(Gr);for(we in _e){var Ye=Me[we];if(void 0===Ye&&(Ye=we),et=parseInt(Ye),isNaN(et))throw new Error('Name table entry "'+we+'" does not exist, see nameTableNames for complete list.');Te[et]=_e[we],Se.push(et)}for(var Ze=lt(Vr),Qe=lt(Hr),Ke=[],Je=[],$e=0;$e<Se.length;$e++){var et,tt,rt=Te[et=Se[$e]];for(tt in rt){var ot=rt[tt],nt=1,st=Ze[tt],it=zr[st],dt=at(nt,it,st),ht=(dt=pt.MACSTRING(ot,dt),void 0===dt&&(nt=0,(st=xe.indexOf(tt))<0&&(st=xe.length,xe.push(tt)),it=4,dt=pt.UTF16(ot)),ct(dt,Je));nt=(Ke.push(ut(nt,it,st,et,dt.length,ht)),Qe[tt]);void 0!==nt&&(st=ct(it=pt.UTF16(ot),Je),Ke.push(ut(3,1,nt,et,it.length,st)))}}Ke.sort((function(_e,xe){return _e.platformID-xe.platformID||_e.encodingID-xe.encodingID||_e.languageID-xe.languageID||_e.nameID-xe.nameID}));for(var ft=new Xt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ke.length},{name:"stringOffset",type:"USHORT",value:6+12*Ke.length}]),mt=0;mt<Ke.length;mt++)ft.fields.push({name:"record_"+mt,type:"RECORD",value:Ke[mt]});return ft.fields.push({name:"strings",type:"LITERAL",value:Je}),ft}},Zr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var Qr={parse:function(_e,xe){var we={},Se=new jr.Parser(_e,xe);we.version=Se.parseUShort(),we.xAvgCharWidth=Se.parseShort(),we.usWeightClass=Se.parseUShort(),we.usWidthClass=Se.parseUShort(),we.fsType=Se.parseUShort(),we.ySubscriptXSize=Se.parseShort(),we.ySubscriptYSize=Se.parseShort(),we.ySubscriptXOffset=Se.parseShort(),we.ySubscriptYOffset=Se.parseShort(),we.ySuperscriptXSize=Se.parseShort(),we.ySuperscriptYSize=Se.parseShort(),we.ySuperscriptXOffset=Se.parseShort(),we.ySuperscriptYOffset=Se.parseShort(),we.yStrikeoutSize=Se.parseShort(),we.yStrikeoutPosition=Se.parseShort(),we.sFamilyClass=Se.parseShort(),we.panose=[];for(var Te=0;Te<10;Te++)we.panose[Te]=Se.parseByte();return we.ulUnicodeRange1=Se.parseULong(),we.ulUnicodeRange2=Se.parseULong(),we.ulUnicodeRange3=Se.parseULong(),we.ulUnicodeRange4=Se.parseULong(),we.achVendID=String.fromCharCode(Se.parseByte(),Se.parseByte(),Se.parseByte(),Se.parseByte()),we.fsSelection=Se.parseUShort(),we.usFirstCharIndex=Se.parseUShort(),we.usLastCharIndex=Se.parseUShort(),we.sTypoAscender=Se.parseShort(),we.sTypoDescender=Se.parseShort(),we.sTypoLineGap=Se.parseShort(),we.usWinAscent=Se.parseUShort(),we.usWinDescent=Se.parseUShort(),1<=we.version&&(we.ulCodePageRange1=Se.parseULong(),we.ulCodePageRange2=Se.parseULong()),2<=we.version&&(we.sxHeight=Se.parseShort(),we.sCapHeight=Se.parseShort(),we.usDefaultChar=Se.parseUShort(),we.usBreakChar=Se.parseUShort(),we.usMaxContent=Se.parseUShort()),we},make:function(_e){return new Xt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],_e)},unicodeRanges:Zr,getUnicodeRange:function(_e){for(var xe=0;xe<Zr.length;xe+=1){var we=Zr[xe];if(_e>=we.begin&&_e<we.end)return xe}return-1}};var Kr={parse:function(_e,xe){var we={},Se=new jr.Parser(_e,xe);switch(we.version=Se.parseVersion(),we.italicAngle=Se.parseFixed(),we.underlinePosition=Se.parseShort(),we.underlineThickness=Se.parseShort(),we.isFixedPitch=Se.parseULong(),we.minMemType42=Se.parseULong(),we.maxMemType42=Se.parseULong(),we.minMemType1=Se.parseULong(),we.maxMemType1=Se.parseULong(),we.version){case 1:we.names=Mr.slice();break;case 2:we.numberOfGlyphs=Se.parseUShort(),we.glyphNameIndex=new Array(we.numberOfGlyphs);for(var Te=0;Te<we.numberOfGlyphs;Te++)we.glyphNameIndex[Te]=Se.parseUShort();we.names=[];for(var Me,Ye=0;Ye<we.numberOfGlyphs;Ye++)we.glyphNameIndex[Ye]>=Mr.length&&(Me=Se.parseChar(),we.names.push(Se.parseString(Me)));break;case 2.5:we.numberOfGlyphs=Se.parseUShort(),we.offset=new Array(we.numberOfGlyphs);for(var Ze=0;Ze<we.numberOfGlyphs;Ze++)we.offset[Ze]=Se.parseChar()}return we},make:function(){return new Xt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Jr=new Array(9),$r=(Jr[1]=function(){var xe=(this||_e).offset+(this||_e).relativeOffset,we=this.parseUShort();return 1===we?{substFormat:1,coverage:this.parsePointer(u.coverage),deltaGlyphId:this.parseUShort()}:2===we?{substFormat:2,coverage:this.parsePointer(u.coverage),substitute:this.parseOffset16List()}:void ht.assert(!1,"0x"+xe.toString(16)+": lookup type 1 format must be 1 or 2.")},Jr[2]=function(){var _e=this.parseUShort();return ht.argument(1===_e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:_e,coverage:this.parsePointer(u.coverage),sequences:this.parseListOfLists()}},Jr[3]=function(){var _e=this.parseUShort();return ht.argument(1===_e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:_e,coverage:this.parsePointer(u.coverage),alternateSets:this.parseListOfLists()}},Jr[4]=function(){var _e=this.parseUShort();return ht.argument(1===_e,"GSUB ligature table identifier-format must be 1"),{substFormat:_e,coverage:this.parsePointer(u.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}},{sequenceIndex:u.uShort,lookupListIndex:u.uShort});Jr[5]=function(){var xe,we,Se=(this||_e).offset+(this||_e).relativeOffset,Te=this.parseUShort();return 1===Te?{substFormat:Te,coverage:this.parsePointer(u.coverage),ruleSets:this.parseListOfLists((function(){var _e=this.parseUShort(),xe=this.parseUShort();return{input:this.parseUShortList(_e-1),lookupRecords:this.parseRecordList(xe,$r)}}))}:2===Te?{substFormat:Te,coverage:this.parsePointer(u.coverage),classDef:this.parsePointer(u.classDef),classSets:this.parseListOfLists((function(){var _e=this.parseUShort(),xe=this.parseUShort();return{classes:this.parseUShortList(_e-1),lookupRecords:this.parseRecordList(xe,$r)}}))}:3===Te?(xe=this.parseUShort(),we=this.parseUShort(),{substFormat:Te,coverages:this.parseList(xe,u.pointer(u.coverage)),lookupRecords:this.parseRecordList(we,$r)}):void ht.assert(!1,"0x"+Se.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Jr[6]=function(){var xe=(this||_e).offset+(this||_e).relativeOffset,we=this.parseUShort();return 1===we?{substFormat:1,coverage:this.parsePointer(u.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($r)}}))}:2===we?{substFormat:2,coverage:this.parsePointer(u.coverage),backtrackClassDef:this.parsePointer(u.classDef),inputClassDef:this.parsePointer(u.classDef),lookaheadClassDef:this.parsePointer(u.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($r)}}))}:3===we?{substFormat:3,backtrackCoverage:this.parseList(u.pointer(u.coverage)),inputCoverage:this.parseList(u.pointer(u.coverage)),lookaheadCoverage:this.parseList(u.pointer(u.coverage)),lookupRecords:this.parseRecordList($r)}:void ht.assert(!1,"0x"+xe.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Jr[7]=function(){var xe=this.parseUShort(),we=(xe=(ht.argument(1===xe,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),new u((this||_e).data,(this||_e).offset+this.parseULong()));return{substFormat:1,lookupType:xe,extension:Jr[xe].call(we)}},Jr[8]=function(){var _e=this.parseUShort();return ht.argument(1===_e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:_e,coverage:this.parsePointer(u.coverage),backtrackCoverage:this.parseList(u.pointer(u.coverage)),lookaheadCoverage:this.parseList(u.pointer(u.coverage)),substitutes:this.parseUShortList()}};var eo=new Array(9);eo[1]=function(_e){return 1===_e.substFormat?new Xt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xt.Coverage(_e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:_e.deltaGlyphId}]):new Xt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Xt.Coverage(_e.coverage)}].concat(Xt.ushortList("substitute",_e.substitute)))},eo[3]=function(_e){return ht.assert(1===_e.substFormat,"Lookup type 3 substFormat must be 1."),new Xt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xt.Coverage(_e.coverage)}].concat(Xt.tableList("altSet",_e.alternateSets,(function(_e){return new Xt.Table("alternateSetTable",Xt.ushortList("alternate",_e))}))))},eo[4]=function(_e){return ht.assert(1===_e.substFormat,"Lookup type 4 substFormat must be 1."),new Xt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xt.Coverage(_e.coverage)}].concat(Xt.tableList("ligSet",_e.ligatureSets,(function(_e){return new Xt.Table("ligatureSetTable",Xt.tableList("ligature",_e,(function(_e){return new Xt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:_e.ligGlyph}].concat(Xt.ushortList("component",_e.components,_e.components.length+1)))})))}))))};var to={parse:function(_e,xe){return xe=(_e=new u(_e,xe=xe||0)).parseVersion(1),ht.argument(1===xe||1.1===xe,"Unsupported GSUB table version."),1===xe?{version:xe,scripts:_e.parseScriptList(),features:_e.parseFeatureList(),lookups:_e.parseLookupList(Jr)}:{version:xe,scripts:_e.parseScriptList(),features:_e.parseFeatureList(),lookups:_e.parseLookupList(Jr),variations:_e.parseFeatureVariationsList()}},make:function(_e){return new Xt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Xt.ScriptList(_e.scripts)},{name:"features",type:"TABLE",value:new Xt.FeatureList(_e.features)},{name:"lookups",type:"TABLE",value:new Xt.LookupList(_e.lookups,eo)}])}};var ro={parse:function(_e,xe){for(var we=new jr.Parser(_e,xe),Se=we.parseULong(),Te=(ht.argument(1===Se,"Unsupported META table version."),we.parseULong(),we.parseULong(),we.parseULong()),Me={},Ye=0;Ye<Te;Ye++){var Ze=we.parseTag(),Qe=we.parseULong(),Ke=we.parseULong();Qe=ft.UTF8(_e,xe+Qe,Ke);Me[Ze]=Qe}return Me},make:function(_e){var xe,we=Object.keys(_e).length,Se="",Te=16+12*we,Me=new Xt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Te},{name:"numTags",type:"ULONG",value:we}]);for(xe in _e){var Ye=Se.length;Se+=_e[xe],Me.fields.push({name:"tag "+xe,type:"TAG",value:xe}),Me.fields.push({name:"offset "+xe,type:"ULONG",value:Te+Ye}),Me.fields.push({name:"length "+xe,type:"ULONG",value:_e[xe].length})}return Me.fields.push({name:"stringPool",type:"CHARARRAY",value:Se}),Me}};function vt(_e){return Math.log(_e)/Math.log(2)|0}function bt(_e){for(;_e.length%4!=0;)_e.push(0);for(var xe=0,we=0;we<_e.length;we+=4)xe+=(_e[we]<<24)+(_e[we+1]<<16)+(_e[we+2]<<8)+_e[we+3];return xe%Math.pow(2,32)}function jt(_e,xe,we,Se){return new Xt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==_e?_e:""},{name:"checkSum",type:"ULONG",value:void 0!==xe?xe:0},{name:"offset",type:"ULONG",value:void 0!==we?we:0},{name:"length",type:"ULONG",value:void 0!==Se?Se:0}])}function _t(_e){for(var xe=new Xt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),we=(xe.tables=_e,xe.numTables=_e.length,Math.pow(2,vt(xe.numTables))),Se=(xe.searchRange=16*we,xe.entrySelector=vt(we),xe.rangeShift=16*xe.numTables-xe.searchRange,[]),Te=[],Me=xe.sizeOf()+jt().sizeOf()*xe.numTables;Me%4!=0;)Me+=1,Te.push({name:"padding",type:"BYTE",value:0});for(var Ye=0;Ye<_e.length;Ye+=1){var Ze=_e[Ye],Qe=(ht.argument(4===Ze.tableName.length,"Table name"+Ze.tableName+" is invalid."),Ze.sizeOf()),Ke=jt(Ze.tableName,bt(Ze.encode()),Me,Qe);for(Se.push({name:Ke.tag+" Table Record",type:"RECORD",value:Ke}),Te.push({name:Ze.tableName+" table",type:"RECORD",value:Ze}),Me+=Qe,ht.argument(!isNaN(Me),"Something went wrong calculating the offset.");Me%4!=0;)Me+=1,Te.push({name:"padding",type:"BYTE",value:0})}return Se.sort((function(_e,xe){return _e.value.tag>xe.value.tag?1:-1})),xe.fields=xe.fields.concat(Se),xe.fields=xe.fields.concat(Te),xe}function xt(_e,xe,we){for(var Se=0;Se<xe.length;Se+=1){var Te=_e.charToGlyphIndex(xe[Se]);if(0<Te)return _e.glyphs.get(Te).getMetrics()}return we}var oo={make:_t,fontToTable:function(_e){for(var xe,we=[],Se=[],Te=[],Me=[],Ye=[],Ze=[],Qe=[],Ke=0,Je=0,$e=0,et=0,tt=0,rt=0;rt<_e.glyphs.length;rt+=1){var ot=_e.glyphs.get(rt),nt=0|ot.unicode;if(isNaN(ot.advanceWidth))throw new Error("Glyph "+ot.name+" ("+rt+"): advanceWidth is not a number.");(nt<xe||void 0===xe)&&0<nt&&(xe=nt),Ke<nt&&(Ke=nt);nt=Qr.getUnicodeRange(nt);if(nt<32)Je|=1<<nt;else if(nt<64)$e|=1<<nt-32;else if(nt<96)et|=1<<nt-64;else{if(!(nt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");tt|=1<<nt-96}".notdef"!==ot.name&&(nt=ot.getMetrics(),we.push(nt.xMin),Se.push(nt.yMin),Te.push(nt.xMax),Me.push(nt.yMax),Ze.push(nt.leftSideBearing),Qe.push(nt.rightSideBearing),Ye.push(ot.advanceWidth))}var st,it={xMin:Math.min.apply(null,we),yMin:Math.min.apply(null,Se),xMax:Math.max.apply(null,Te),yMax:Math.max.apply(null,Me),advanceWidthMax:Math.max.apply(null,Ye),advanceWidthAvg:function(_e){for(var xe=0,we=0;we<_e.length;we+=1)xe+=_e[we];return xe/_e.length}(Ye),minLeftSideBearing:Math.min.apply(null,Ze),maxLeftSideBearing:Math.max.apply(null,Ze),minRightSideBearing:Math.min.apply(null,Qe)},dt=(it.ascender=_e.ascender,it.descender=_e.descender,Dr.make({flags:3,unitsPerEm:_e.unitsPerEm,xMin:it.xMin,yMin:it.yMin,xMax:it.xMax,yMax:it.yMax,lowestRecPPEM:3,createdTimestamp:_e.createdTimestamp})),ht=Fr.make({ascender:it.ascender,descender:it.descender,advanceWidthMax:it.advanceWidthMax,minLeftSideBearing:it.minLeftSideBearing,minRightSideBearing:it.minRightSideBearing,xMaxExtent:it.maxLeftSideBearing+(it.xMax-it.xMin),numberOfHMetrics:_e.glyphs.length}),ft=Br.make(_e.glyphs.length),pt=Qr.make({xAvgCharWidth:Math.round(it.advanceWidthAvg),usWeightClass:_e.tables.os2.usWeightClass,usWidthClass:_e.tables.os2.usWidthClass,usFirstCharIndex:xe,usLastCharIndex:Ke,ulUnicodeRange1:Je,ulUnicodeRange2:$e,ulUnicodeRange3:et,ulUnicodeRange4:tt,fsSelection:_e.tables.os2.fsSelection,sTypoAscender:it.ascender,sTypoDescender:it.descender,sTypoLineGap:0,usWinAscent:it.yMax,usWinDescent:Math.abs(it.yMin),ulCodePageRange1:1,sxHeight:xt(_e,"xyvw",{yMax:Math.round(it.ascender/2)}).yMax,sCapHeight:xt(_e,"HIKLEFJMNTZBDPRAGOQSUVWXY",it).yMax,usDefaultChar:_e.hasChar(" ")?32:0,usBreakChar:_e.hasChar(" ")?32:0}),mt=Ur.make(_e.glyphs),yt=xr.make(_e.glyphs),gt=_e.getEnglishName("fontFamily"),wt=_e.getEnglishName("fontSubfamily"),Dt=gt+" "+wt,Xt=(Xt=_e.getEnglishName("postScriptName"))||gt.replace(/\s/g,"")+"-"+wt,Yt={};for(st in _e.names)Yt[st]=_e.names[st];Yt.uniqueID||(Yt.uniqueID={en:_e.getEnglishName("manufacturer")+":"+Dt}),Yt.postScriptName||(Yt.postScriptName={en:Xt}),Yt.preferredFamily||(Yt.preferredFamily=_e.names.fontFamily),Yt.preferredSubfamily||(Yt.preferredSubfamily=_e.names.fontSubfamily);var br=[],jr=Yr.make(Yt,br),wr=(br=0<br.length?Nr.make(br):void 0,Kr.make());Dt=Ir.make(_e.glyphs,{version:_e.getEnglishName("version"),fullName:Dt,familyName:gt,weightName:wt,postScriptName:Xt,unitsPerEm:_e.unitsPerEm,fontBBox:[0,it.yMin,it.ascender,it.advanceWidthMax]}),gt=_e.metas&&0<Object.keys(_e.metas).length?ro.make(_e.metas):void 0,wt=[dt,ht,ft,pt,jr,yt,wr,Dt,mt];br&&wt.push(br),_e.tables.gsub&&wt.push(to.make(_e.tables.gsub)),gt&&wt.push(gt);for(var Sr=bt((Xt=_t(wt)).encode()),Tr=Xt.fields,Mr=!1,Pr=0;Pr<Tr.length;Pr+=1)if("head table"===Tr[Pr].name){Tr[Pr].value.checkSumAdjustment=2981146554-Sr,Mr=!0;break}if(Mr)return Xt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:bt};function St(_e,xe){for(var we=0,Se=_e.length-1;we<=Se;){var Te=we+Se>>>1,Me=_e[Te].tag;if(Me===xe)return Te;Me<xe?we=1+Te:Se=Te-1}return-we-1}function Tt(_e,xe){for(var we=0,Se=_e.length-1;we<=Se;){var Te=we+Se>>>1,Me=_e[Te];if(Me===xe)return Te;Me<xe?we=1+Te:Se=Te-1}return-we-1}function Mt(_e,xe){for(var we=0,Se=_e.length-1;we<=Se;){var Te,Me=we+Se>>>1,Ye=(Te=_e[Me]).start;if(Ye===xe)return Te;Ye<xe?we=1+Me:Se=Me-1}if(0<we)return xe>(Te=_e[we-1]).end?0:Te}function Et(xe,we){(this||_e).font=xe,(this||_e).tableName=we}function kt(xe){Et.call(this||_e,xe,"gpos")}function i(xe){Et.call(this||_e,xe,"gsub")}function Ct(_e,xe,we){for(var Se=_e.subtables,Te=0;Te<Se.length;Te++){var Me=Se[Te];if(Me.substFormat===xe)return Me}if(we)return Se.push(we),we}function Ot(_e){for(var xe=new ArrayBuffer(_e.length),we=new Uint8Array(xe),Se=0;Se<_e.length;++Se)we[Se]=_e[Se];return xe}function _(_e,xe){if(!_e)throw xe}function Pt(_e,xe,we,Se,Te){var Me=0<(xe&Se)?(Me=_e.parseByte(),we+(Me=0==(xe&Te)?-Me:Me)):0<(xe&Te)?we:we+_e.parseShort();return Me}function At(_e,xe,we){var Se,Te=new jr.Parser(xe,we);if(_e.numberOfContours=Te.parseShort(),_e._xMin=Te.parseShort(),_e._yMin=Te.parseShort(),_e._xMax=Te.parseShort(),_e._yMax=Te.parseShort(),0<_e.numberOfContours){for(var Me=_e.endPointIndices=[],Ye=0;Ye<_e.numberOfContours;Ye+=1)Me.push(Te.parseUShort());_e.instructionLength=Te.parseUShort(),_e.instructions=[];for(var Ze=0;Ze<_e.instructionLength;Ze+=1)_e.instructions.push(Te.parseByte());for(var Qe=Me[Me.length-1]+1,Ke=[],Je=0;Je<Qe;Je+=1)if(Se=Te.parseByte(),Ke.push(Se),0<(8&Se))for(var $e=Te.parseByte(),et=0;et<$e;et+=1)Ke.push(Se),Je+=1;if(ht.argument(Ke.length===Qe,"Bad flags."),0<Me.length){var tt,rt=[];if(0<Qe){for(var ot=0;ot<Qe;ot+=1)Se=Ke[ot],(tt={}).onCurve=!!(1&Se),tt.lastPointOfContour=0<=Me.indexOf(ot),rt.push(tt);for(var nt=0,st=0;st<Qe;st+=1)Se=Ke[st],(tt=rt[st]).x=Pt(Te,Se,nt,2,16),nt=tt.x;for(var it=0,dt=0;dt<Qe;dt+=1)Se=Ke[dt],(tt=rt[dt]).y=Pt(Te,Se,it,4,32),it=tt.y}_e.points=rt}else _e.points=[]}else if(0===_e.numberOfContours)_e.points=[];else{_e.isComposite=!0,_e.points=[],_e.components=[];for(var ft=!0;ft;){Ke=Te.parseUShort();var pt={glyphIndex:Te.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Ke)?0<(2&Ke)?(pt.dx=Te.parseShort(),pt.dy=Te.parseShort()):pt.matchedPoints=[Te.parseUShort(),Te.parseUShort()]:0<(2&Ke)?(pt.dx=Te.parseChar(),pt.dy=Te.parseChar()):pt.matchedPoints=[Te.parseByte(),Te.parseByte()],0<(8&Ke)?pt.xScale=pt.yScale=Te.parseF2Dot14():0<(64&Ke)?(pt.xScale=Te.parseF2Dot14(),pt.yScale=Te.parseF2Dot14()):0<(128&Ke)&&(pt.xScale=Te.parseF2Dot14(),pt.scale01=Te.parseF2Dot14(),pt.scale10=Te.parseF2Dot14(),pt.yScale=Te.parseF2Dot14()),_e.components.push(pt),ft=!!(32&Ke)}if(256&Ke){_e.instructionLength=Te.parseUShort(),_e.instructions=[];for(var mt=0;mt<_e.instructionLength;mt+=1)_e.instructions.push(Te.parseByte())}}}function Lt(_e,xe){for(var we=[],Se=0;Se<_e.length;Se+=1){var Te=_e[Se];Te={x:xe.xScale*Te.x+xe.scale01*Te.y+xe.dx,y:xe.scale10*Te.x+xe.yScale*Te.y+xe.dy,onCurve:Te.onCurve,lastPointOfContour:Te.lastPointOfContour};we.push(Te)}return we}function Rt(_e){var xe=new h;if(_e)for(var we=function(_e){for(var xe=[],we=[],Se=0;Se<_e.length;Se+=1){var Te=_e[Se];we.push(Te),Te.lastPointOfContour&&(xe.push(we),we=[])}return ht.argument(0===we.length,"There are still points left in the current contour."),xe}(_e),Se=0;Se<we.length;++Se){var Te,Me=we[Se],Ye=Me[Me.length-1],Ze=Me[0];Ye.onCurve?xe.moveTo(Ye.x,Ye.y):Ze.onCurve?xe.moveTo(Ze.x,Ze.y):(Te={x:.5*(Ye.x+Ze.x),y:.5*(Ye.y+Ze.y)},xe.moveTo(Te.x,Te.y));for(var Qe=0;Qe<Me.length;++Qe){var Ke,Je=Ye;Ye=Ze,Ze=Me[(Qe+1)%Me.length];Ye.onCurve?xe.lineTo(Ye.x,Ye.y):(Ke=Ze,Je.onCurve||(Ye.x,Je.x,Ye.y,Je.y),Ze.onCurve||(Ke={x:.5*(Ye.x+Ze.x),y:.5*(Ye.y+Ze.y)}),xe.quadraticCurveTo(Ye.x,Ye.y,Ke.x,Ke.y))}xe.closePath()}return xe}function It(_e,xe){if(xe.isComposite)for(var we=0;we<xe.components.length;we+=1){var Se=xe.components[we],Te=_e.get(Se.glyphIndex);if(Te.getPath(),Te.points){var Me=void 0;if(void 0===Se.matchedPoints)Me=Lt(Te.points,Se);else{if(Se.matchedPoints[0]>xe.points.length-1||Se.matchedPoints[1]>Te.points.length-1)throw Error("Matched points out of range in "+xe.name);var Ye=xe.points[Se.matchedPoints[0]],Ze=Te.points[Se.matchedPoints[1]];Se={xScale:Se.xScale,scale01:Se.scale01,scale10:Se.scale10,yScale:Se.yScale,dx:0,dy:0},Ze=Lt([Ze],Se)[0];Se.dx=Ye.x-Ze.x,Se.dy=Ye.y-Ze.y,Me=Lt(Te.points,Se)}xe.points=xe.points.concat(Me)}}return Rt(xe.points)}(kt.prototype=Et.prototype={searchTag:St,binSearch:Tt,getTable:function(xe){var we=(this||_e).font.tables[(this||_e).tableName];return!we&&xe?(this||_e).font.tables[(this||_e).tableName]=this.createDefaultTable():we},getScriptNames:function(){var _e=this.getTable();return _e?_e.scripts.map((function(_e){return _e.tag})):[]},getDefaultScriptName:function(){var _e=this.getTable();if(_e){for(var xe=!1,we=0;we<_e.scripts.length;we++){var Se=_e.scripts[we].tag;if("DFLT"===Se)return Se;"latn"===Se&&(xe=!0)}return xe?"latn":void 0}},getScriptTable:function(_e,xe){var we,Se=this.getTable(xe);if(Se)return we=Se.scripts,0<=(Se=St(Se.scripts,_e=_e||"DFLT"))?we[Se].script:xe?(we.splice(-1-Se,0,xe={tag:_e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),xe.script):void 0},getLangSysTable:function(_e,xe,we){var Se;_e=this.getScriptTable(_e,we);if(_e)return xe&&"dflt"!==xe&&"DFLT"!==xe?0<=(Se=St(_e.langSysRecords,xe))?_e.langSysRecords[Se].langSys:we?(_e.langSysRecords.splice(-1-Se,0,we={tag:xe,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),we.langSys):void 0:_e.defaultLangSys},getFeatureTable:function(xe,we,Se,Te){xe=this.getLangSysTable(xe,we,Te);if(xe){for(var Me,Ye=xe.featureIndexes,Ze=(this||_e).font.tables[(this||_e).tableName].features,Qe=0;Qe<Ye.length;Qe++)if((Me=Ze[Ye[Qe]]).tag===Se)return Me.feature;if(Te)return we=Ze.length,ht.assert(0===we||Se>=Ze[we-1].tag,"Features must be added in alphabetical order."),Ze.push(Me={tag:Se,feature:{params:0,lookupListIndexes:[]}}),Ye.push(we),Me.feature}},getLookupTables:function(xe,we,Se,Te,Me){xe=this.getFeatureTable(xe,we,Se,Me);var Ye=[];if(xe){for(var Ze,Qe=xe.lookupListIndexes,Ke=(this||_e).font.tables[(this||_e).tableName].lookups,Je=0;Je<Qe.length;Je++)(Ze=Ke[Qe[Je]]).lookupType===Te&&Ye.push(Ze);if(0===Ye.length&&Me)return we=Ke.length,Ke.push(Ze={lookupType:Te,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Qe.push(we),[Ze]}return Ye},getGlyphClass:function(_e,xe){switch(_e.format){case 1:return _e.startGlyph<=xe&&xe<_e.startGlyph+_e.classes.length?_e.classes[xe-_e.startGlyph]:0;case 2:var we=Mt(_e.ranges,xe);return we?we.classId:0}},getCoverageIndex:function(_e,xe){switch(_e.format){case 1:var we=Tt(_e.glyphs,xe);return 0<=we?we:-1;case 2:we=Mt(_e.ranges,xe);return we?we.index+xe-we.start:-1}},expandCoverage:function(_e){if(1===_e.format)return _e.glyphs;for(var xe=[],we=_e.ranges,Se=0;Se<we.length;Se++)for(var Te=we[Se],Me=Te.start,Ye=Te.end,Ze=Me;Ze<=Ye;Ze++)xe.push(Ze);return xe}}).init=function(){var xe=this.getDefaultScriptName();(this||_e).defaultKerningTables=this.getKerningTables(xe)},kt.prototype.getKerningValue=function(_e,xe,we){for(var Se=0;Se<_e.length;Se++)for(var Te=_e[Se].subtables,Me=0;Me<Te.length;Me++){var Ye=Te[Me],Ze=this.getCoverageIndex(Ye.coverage,xe);if(!(Ze<0))switch(Ye.posFormat){case 1:for(var Qe=Ye.pairSets[Ze],Ke=0;Ke<Qe.length;Ke++){var Je=Qe[Ke];if(Je.secondGlyph===we)return Je.value1&&Je.value1.xAdvance||0}break;case 2:var $e=this.getGlyphClass(Ye.classDef1,xe),et=this.getGlyphClass(Ye.classDef2,we);$e=Ye.classRecords[$e][et];return $e.value1&&$e.value1.xAdvance||0}}return 0},kt.prototype.getKerningTables=function(xe,we){if((this||_e).font.tables.gpos)return this.getLookupTables(xe,we,"kern",2)},(i.prototype=Et.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},i.prototype.getSingle=function(_e,xe,we){for(var Se=[],Te=this.getLookupTables(xe,we,_e,1),Me=0;Me<Te.length;Me++)for(var Ye=Te[Me].subtables,Ze=0;Ze<Ye.length;Ze++){var Qe=Ye[Ze],Ke=this.expandCoverage(Qe.coverage),Je=void 0;if(1===Qe.substFormat){var $e=Qe.deltaGlyphId;for(Je=0;Je<Ke.length;Je++){var et=Ke[Je];Se.push({sub:et,by:et+$e})}}else{var tt=Qe.substitute;for(Je=0;Je<Ke.length;Je++)Se.push({sub:Ke[Je],by:tt[Je]})}}return Se},i.prototype.getAlternates=function(_e,xe,we){for(var Se=[],Te=this.getLookupTables(xe,we,_e,3),Me=0;Me<Te.length;Me++)for(var Ye=Te[Me].subtables,Ze=0;Ze<Ye.length;Ze++)for(var Qe=Ye[Ze],Ke=this.expandCoverage(Qe.coverage),Je=Qe.alternateSets,$e=0;$e<Ke.length;$e++)Se.push({sub:Ke[$e],by:Je[$e]});return Se},i.prototype.getLigatures=function(_e,xe,we){for(var Se=[],Te=this.getLookupTables(xe,we,_e,4),Me=0;Me<Te.length;Me++)for(var Ye=Te[Me].subtables,Ze=0;Ze<Ye.length;Ze++)for(var Qe=Ye[Ze],Ke=this.expandCoverage(Qe.coverage),Je=Qe.ligatureSets,$e=0;$e<Ke.length;$e++)for(var et=Ke[$e],tt=Je[$e],rt=0;rt<tt.length;rt++){var ot=tt[rt];Se.push({sub:[et].concat(ot.components),by:ot.ligGlyph})}return Se},i.prototype.addSingle=function(_e,xe,we,Se){we=Ct(this.getLookupTables(we,Se,_e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),ht.assert(1===we.coverage.format,"Ligature: unable to modify coverage table format "+we.coverage.format),Se=xe.sub,_e=this.binSearch(we.coverage.glyphs,Se);_e<0&&(we.coverage.glyphs.splice(_e=-1-_e,0,Se),we.substitute.splice(_e,0,0)),we.substitute[_e]=xe.by},i.prototype.addAlternate=function(_e,xe,we,Se){we=Ct(this.getLookupTables(we,Se,_e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),ht.assert(1===we.coverage.format,"Ligature: unable to modify coverage table format "+we.coverage.format),Se=xe.sub,_e=this.binSearch(we.coverage.glyphs,Se);_e<0&&(we.coverage.glyphs.splice(_e=-1-_e,0,Se),we.alternateSets.splice(_e,0,0)),we.alternateSets[_e]=xe.by},i.prototype.addLigature=function(_e,xe,we,Se){we=this.getLookupTables(we,Se,_e,4,!0)[0],Se=we.subtables[0],_e=(Se||(we.subtables[0]=Se={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),ht.assert(1===Se.coverage.format,"Ligature: unable to modify coverage table format "+Se.coverage.format),xe.sub[0]);var Te=xe.sub.slice(1);we={ligGlyph:xe.by,components:Te},xe=this.binSearch(Se.coverage.glyphs,_e);if(0<=xe){for(var Me=Se.ligatureSets[xe],Ye=0;Ye<Me.length;Ye++)if(function(_e,xe){var we=_e.length;if(we===xe.length){for(var Se=0;Se<we;Se++)if(_e[Se]!==xe[Se])return;return 1}}(Me[Ye].components,Te))return;Me.push(we)}else Se.coverage.glyphs.splice(xe=-1-xe,0,_e),Se.ligatureSets.splice(xe,0,[we])},i.prototype.getFeature=function(_e,xe,we){if(/ss\d\d/.test(_e))return this.getSingle(_e,xe,we);switch(_e){case"aalt":case"salt":return this.getSingle(_e,xe,we).concat(this.getAlternates(_e,xe,we));case"dlig":case"liga":case"rlig":return this.getLigatures(_e,xe,we)}},i.prototype.add=function(_e,xe,we,Se){if(/ss\d\d/.test(_e))return this.addSingle(_e,xe,we,Se);switch(_e){case"aalt":case"salt":return"number"==typeof xe.by?this.addSingle(_e,xe,we,Se):this.addAlternate(_e,xe,we,Se);case"dlig":case"liga":case"rlig":return this.addLigature(_e,xe,we,Se)}};var no={getPath:Rt,parse:function(_e,xe,we,Se){for(var Te=new Lr.GlyphSet(Se),Me=0;Me<we.length-1;Me+=1){var Ye=we[Me];Ye!==we[Me+1]?Te.push(Me,Lr.ttfGlyphLoader(Se,Me,At,_e,xe+Ye,It)):Te.push(Me,Lr.glyphLoader(Se,Me))}return Te}};function Ft(xe){(this||_e).font=xe,(this||_e).getCommands=function(_e){return no.getPath(_e).commands},(this||_e)._fpgmState=(this||_e)._prepState=void 0,(this||_e)._errorState=0}function Ut(_e){return _e}function Nt(_e){return Math.sign(_e)*Math.round(Math.abs(_e))}function Bt(_e){return Math.sign(_e)*Math.round(Math.abs(2*_e))/2}function Gt(_e){return Math.sign(_e)*(Math.round(Math.abs(_e)+.5)-.5)}function Vt(_e){return Math.sign(_e)*Math.ceil(Math.abs(_e))}function zt(_e){return Math.sign(_e)*Math.floor(Math.abs(_e))}function Ht(xe){var we=(this||_e).srPeriod,Se=(this||_e).srPhase,Te=1;return xe<0&&(xe=-xe,Te=-1),xe+=(this||_e).srThreshold-Se,xe=Math.trunc(xe/we)*we,(xe+=Se)<0?Se*Te:xe*Te}var so={x:1,y:0,axis:"x",distance:function(_e,xe,we,Se){return(we?_e.xo:_e.x)-(Se?xe.xo:xe.x)},interpolate:function(xe,we,Se,Te){var Me,Ye,Ze,Qe,Ke,Je,$e;if(!Te||Te===(this||_e))return Me=xe.xo-we.xo,Ye=xe.xo-Se.xo,Ke=we.x-we.xo,Je=Se.x-Se.xo,0===($e=(Ze=Math.abs(Me))+(Qe=Math.abs(Ye)))?void(xe.x=xe.xo+(Ke+Je)/2):void(xe.x=xe.xo+(Ke*Qe+Je*Ze)/$e);Me=Te.distance(xe,we,!0,!0),Ye=Te.distance(xe,Se,!0,!0),Ke=Te.distance(we,we,!1,!0),Je=Te.distance(Se,Se,!1,!0),0===($e=(Ze=Math.abs(Me))+(Qe=Math.abs(Ye)))?so.setRelative(xe,xe,(Ke+Je)/2,Te,!0):so.setRelative(xe,xe,(Ke*Qe+Je*Ze)/$e,Te,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(xe,we,Se,Te,Me){var Ye,Ze;Te&&Te!==(this||_e)?(Ye=Me?we.xo:we.x,Ze=Me?we.yo:we.y,Ye+=Se*Te.x,Ze+=Se*Te.y,xe.x=Ye+(xe.y-Ze)/Te.normalSlope):xe.x=(Me?we.xo:we.x)+Se},slope:0,touch:function(_e){_e.xTouched=!0},touched:function(_e){return _e.xTouched},untouch:function(_e){_e.xTouched=!1}},io={x:0,y:1,axis:"y",distance:function(_e,xe,we,Se){return(we?_e.yo:_e.y)-(Se?xe.yo:xe.y)},interpolate:function(xe,we,Se,Te){var Me,Ye,Ze,Qe,Ke,Je,$e;if(!Te||Te===(this||_e))return Me=xe.yo-we.yo,Ye=xe.yo-Se.yo,Ke=we.y-we.yo,Je=Se.y-Se.yo,0===($e=(Ze=Math.abs(Me))+(Qe=Math.abs(Ye)))?void(xe.y=xe.yo+(Ke+Je)/2):void(xe.y=xe.yo+(Ke*Qe+Je*Ze)/$e);Me=Te.distance(xe,we,!0,!0),Ye=Te.distance(xe,Se,!0,!0),Ke=Te.distance(we,we,!1,!0),Je=Te.distance(Se,Se,!1,!0),0===($e=(Ze=Math.abs(Me))+(Qe=Math.abs(Ye)))?io.setRelative(xe,xe,(Ke+Je)/2,Te,!0):io.setRelative(xe,xe,(Ke*Qe+Je*Ze)/$e,Te,!0)},normalSlope:0,setRelative:function(xe,we,Se,Te,Me){var Ye,Ze;Te&&Te!==(this||_e)?(Ye=Me?we.xo:we.x,Ze=Me?we.yo:we.y,Ye+=Se*Te.x,Ze+=Se*Te.y,xe.y=Ze+Te.normalSlope*(xe.x-Ye)):xe.y=(Me?we.yo:we.y)+Se},slope:Number.POSITIVE_INFINITY,touch:function(_e){_e.yTouched=!0},touched:function(_e){return _e.yTouched},untouch:function(_e){_e.yTouched=!1}};function Wt(xe,we){(this||_e).x=xe,(this||_e).y=we,(this||_e).axis=void 0,(this||_e).slope=we/xe,(this||_e).normalSlope=-xe/we,Object.freeze(this||_e)}function qt(_e,xe){var we=Math.sqrt(_e*_e+xe*xe);return xe/=we,1===(_e/=we)&&0===xe?so:0===_e&&1===xe?io:new Wt(_e,xe)}function M(xe,we,Se,Te){(this||_e).x=(this||_e).xo=Math.round(64*xe)/64,(this||_e).y=(this||_e).yo=Math.round(64*we)/64,(this||_e).lastPointOfContour=Se,(this||_e).onCurve=Te,(this||_e).prevPointOnContour=void 0,(this||_e).nextPointOnContour=void 0,(this||_e).xTouched=!1,(this||_e).yTouched=!1,Object.preventExtensions(this||_e)}Object.freeze(so),Object.freeze(io),Wt.prototype.distance=function(xe,we,Se,Te){return(this||_e).x*so.distance(xe,we,Se,Te)+(this||_e).y*io.distance(xe,we,Se,Te)},Wt.prototype.interpolate=function(_e,xe,we,Se){var Te=Se.distance(_e,xe,!0,!0),Me=Se.distance(_e,we,!0,!0),Ye=(xe=Se.distance(xe,xe,!1,!0),we=Se.distance(we,we,!1,!0),Te=Math.abs(Te),Me=Math.abs(Me),Te+Me);0===Ye?this.setRelative(_e,_e,(xe+we)/2,Se,!0):this.setRelative(_e,_e,(xe*Me+we*Te)/Ye,Se,!0)},Wt.prototype.setRelative=function(xe,we,Se,Te,Me){var Ye=Me?we.xo:we.x,Ze=(Me=Me?we.yo:we.y,we=Ye+Se*(Te=Te||this||_e).x,Ye=Me+Se*Te.y,Me=Te.normalSlope,Se=(this||_e).slope,Te=xe.x,xe.y);xe.x=(Se*Te-Me*we+Ye-Ze)/(Se-Me),xe.y=Se*(xe.x-Te)+Ze},Wt.prototype.touch=function(_e){_e.xTouched=!0,_e.yTouched=!0},M.prototype.nextTouched=function(xe){for(var we=(this||_e).nextPointOnContour;!xe.touched(we)&&we!==(this||_e);)we=we.nextPointOnContour;return we},M.prototype.prevTouched=function(xe){for(var we=(this||_e).prevPointOnContour;!xe.touched(we)&&we!==(this||_e);)we=we.prevPointOnContour;return we};var ao=Object.freeze(new M(0,0)),lo={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function E(xe,we){switch((this||_e).env=xe,(this||_e).stack=[],(this||_e).prog=we,xe){case"glyf":(this||_e).zp0=(this||_e).zp1=(this||_e).zp2=1,(this||_e).rp0=(this||_e).rp1=(this||_e).rp2=0;case"prep":(this||_e).fv=(this||_e).pv=(this||_e).dpv=so,(this||_e).round=Nt}}function Zt(_e){for(var xe=_e.tZone=new Array(_e.gZone.length),we=0;we<xe.length;we++)xe[we]=new M(0,0)}function Qt(_e,xe){var we,Se=_e.prog,Te=_e.ip,Me=1;do{if(88===(we=Se[++Te]))Me++;else if(89===we)Me--;else if(64===we)Te+=Se[Te+1]+1;else if(65===we)Te+=2*Se[Te+1]+1;else if(176<=we&&we<=183)Te+=we-176+1;else if(184<=we&&we<=191)Te+=2*(we-184+1);else if(xe&&1===Me&&27===we)break}while(0<Me);_e.ip=Te}function Jt(_e,we){xe.DEBUG&&console.log(we.step,"SVTCA["+_e.axis+"]"),we.fv=we.pv=we.dpv=_e}function Kt(_e,we){xe.DEBUG&&console.log(we.step,"SPVTCA["+_e.axis+"]"),we.pv=we.dpv=_e}function $t(_e,we){xe.DEBUG&&console.log(we.step,"SFVTCA["+_e.axis+"]"),we.fv=_e}function er(_e,we){var Se,Te=we.stack,Me=Te.pop(),Ye=(Te=Te.pop(),we.z2[Me]),Ze=we.z1[Te];xe.DEBUG&&console.log("SPVTL["+_e+"]",Me,Te),Me=_e?(Se=Ye.y-Ze.y,Ze.x-Ye.x):(Se=Ze.x-Ye.x,Ze.y-Ye.y),we.pv=we.dpv=qt(Se,Me)}function tr(_e,we){var Se,Te=we.stack,Me=Te.pop(),Ye=(Te=Te.pop(),we.z2[Me]),Ze=we.z1[Te];xe.DEBUG&&console.log("SFVTL["+_e+"]",Me,Te),Me=_e?(Se=Ye.y-Ze.y,Ze.x-Ye.x):(Se=Ze.x-Ye.x,Ze.y-Ye.y),we.fv=qt(Se,Me)}function rr(_e){xe.DEBUG&&console.log(_e.step,"POP[]"),_e.stack.pop()}function or(_e,we){var Se=we.stack.pop(),Te=we.z0[Se],Me=we.fv,Ye=we.pv,Ze=(xe.DEBUG&&console.log(we.step,"MDAP["+_e+"]",Se),Ye.distance(Te,ao));_e&&(Ze=we.round(Ze)),Me.setRelative(Te,ao,Ze,Ye),Me.touch(Te),we.rp0=we.rp1=Se}function nr(_e,we){var Se,Te,Me,Ye=we.z2,Ze=Ye.length-2;xe.DEBUG&&console.log(we.step,"IUP["+_e.axis+"]");for(var Qe=0;Qe<Ze;Qe++)Se=Ye[Qe],_e.touched(Se)||(Te=Se.prevTouched(_e))!==Se&&(Te===(Me=Se.nextTouched(_e))&&_e.setRelative(Se,Se,_e.distance(Te,Te,!1,!0),_e,!0),_e.interpolate(Se,Te,Me,_e))}function sr(_e,we){for(var Se=we.stack,Te=_e?we.rp1:we.rp2,Me=(_e?we.z0:we.z1)[Te],Ye=we.fv,Ze=we.pv,Qe=we.loop,Ke=we.z2;Qe--;){var Je=Se.pop(),$e=Ke[Je],et=Ze.distance(Me,Me,!1,!0);Ye.setRelative($e,$e,et,Ze),Ye.touch($e),xe.DEBUG&&console.log(we.step,(1<we.loop?"loop "+(we.loop-Qe)+": ":"")+"SHP["+(_e?"rp1":"rp2")+"]",Je)}we.loop=1}function ir(_e,we){for(var Se=we.stack,Te=_e?we.rp1:we.rp2,Me=(_e?we.z0:we.z1)[Te],Ye=we.fv,Ze=we.pv,Qe=(Te=Se.pop(),we.z2[we.contours[Te]]),Ke=Qe,Je=(xe.DEBUG&&console.log(we.step,"SHC["+_e+"]",Te),Ze.distance(Me,Me,!1,!0));Ke!==Me&&Ye.setRelative(Ke,Ke,Je,Ze),(Ke=Ke.nextPointOnContour)!==Qe;);}function ar(_e,we){var Se,Te,Me=we.stack,Ye=_e?we.rp1:we.rp2,Ze=(Ye=(_e?we.z0:we.z1)[Ye],we.fv),Qe=we.pv;Me=Me.pop();switch(xe.DEBUG&&console.log(we.step,"SHZ["+_e+"]",Me),Me){case 0:Se=we.tZone;break;case 1:Se=we.gZone;break;default:throw new Error("Invalid zone")}for(var Ke=Qe.distance(Ye,Ye,!1,!0),Je=Se.length-2,$e=0;$e<Je;$e++)Te=Se[$e],Ze.setRelative(Te,Te,Ke,Qe)}function lr(_e,we){var Se=we.stack,Te=Se.pop()/64,Me=(Se=Se.pop(),we.z1[Se]),Ye=we.z0[we.rp0],Ze=we.fv,Qe=we.pv;Ze.setRelative(Me,Ye,Te,Qe),Ze.touch(Me),xe.DEBUG&&console.log(we.step,"MSIRP["+_e+"]",Te,Se),we.rp1=we.rp0,we.rp2=Se,_e&&(we.rp0=Se)}function ur(_e,we){var Se=we.stack,Te=Se.pop(),Me=(Se=Se.pop(),we.z0[Se]),Ye=we.fv,Ze=we.pv,Qe=we.cvt[Te];Te=(xe.DEBUG&&console.log(we.step,"MIAP["+_e+"]",Te,"(",Qe,")",Se),Ze.distance(Me,ao));_e&&(Math.abs(Te-Qe)<we.cvCutIn&&(Te=Qe),Te=we.round(Te)),Ye.setRelative(Me,ao,Te,Ze),0===we.zp0&&(Me.xo=Me.x,Me.yo=Me.y),Ye.touch(Me),we.rp0=we.rp1=Se}function cr(_e,we){var Se=we.stack,Te=Se.pop(),Me=we.z2[Te];xe.DEBUG&&console.log(we.step,"GC["+_e+"]",Te),Se.push(64*we.dpv.distance(Me,ao,_e,!1))}function dr(_e,we){var Se=we.stack,Te=Se.pop(),Me=(Se=Se.pop(),we.z1[Te]),Ye=we.z0[Se];Ye=we.dpv.distance(Ye,Me,_e,_e);xe.DEBUG&&console.log(we.step,"MD["+_e+"]",Te,Se,"->",Ye),we.stack.push(Math.round(64*Ye))}function hr(_e,we){var Se=we.stack,Te=Se.pop(),Me=we.fv,Ye=we.pv,Ze=we.ppem,Qe=we.deltaBase+16*(_e-1),Ke=we.deltaShift,Je=we.z0;xe.DEBUG&&console.log(we.step,"DELTAP["+_e+"]",Te,Se);for(var $e=0;$e<Te;$e++){var et=Se.pop(),tt=Se.pop();Qe+((240&tt)>>4)===Ze&&(0<=(tt=(15&tt)-8)&&tt++,xe.DEBUG&&console.log(we.step,"DELTAPFIX",et,"by",tt*Ke),et=Je[et],Me.setRelative(et,et,tt*Ke,Ye))}}function fr(_e,we){var Se=we.stack,Te=Se.pop();xe.DEBUG&&console.log(we.step,"ROUND[]"),Se.push(64*we.round(Te/64))}function pr(_e,we){var Se=we.stack,Te=Se.pop(),Me=we.ppem,Ye=we.deltaBase+16*(_e-1),Ze=we.deltaShift;xe.DEBUG&&console.log(we.step,"DELTAC["+_e+"]",Te,Se);for(var Qe=0;Qe<Te;Qe++){var Ke=Se.pop(),Je=Se.pop();Ye+((240&Je)>>4)===Me&&(0<=(Je=(15&Je)-8)&&Je++,Je*=Ze,xe.DEBUG&&console.log(we.step,"DELTACFIX",Ke,"by",Je),we.cvt[Ke]+=Je)}}function mr(_e,we){var Se,Te=we.stack,Me=Te.pop(),Ye=(Te=Te.pop(),we.z2[Me]),Ze=we.z1[Te];xe.DEBUG&&console.log(we.step,"SDPVTL["+_e+"]",Me,Te),Me=_e?(Se=Ye.y-Ze.y,Ze.x-Ye.x):(Se=Ze.x-Ye.x,Ze.y-Ye.y),we.dpv=qt(Se,Me)}function k(_e,we){var Se=we.stack,Te=we.prog,Me=we.ip;xe.DEBUG&&console.log(we.step,"PUSHB["+_e+"]");for(var Ye=0;Ye<_e;Ye++)Se.push(Te[++Me]);we.ip=Me}function C(_e,we){var Se=we.ip,Te=we.prog,Me=we.stack;xe.DEBUG&&console.log(we.ip,"PUSHW["+_e+"]");for(var Ye=0;Ye<_e;Ye++){var Ze=Te[++Se]<<8|Te[++Se];32768&Ze&&(Ze=-(1+(65535^Ze))),Me.push(Ze)}we.ip=Se}function O(_e,we,Se,Te,Me,Ye){var Ze,Qe,Ke=Ye.stack,Je=_e&&Ke.pop(),$e=(Ke=Ke.pop(),Ye.rp0),et=($e=Ye.z0[$e],Ye.z1[Ke]),tt=Ye.minDis,rt=Ye.fv,ot=Ye.dpv,nt=Ze=ot.distance(et,$e,!0,!0),st=0<=nt?1:-1;nt=Math.abs(nt),_e&&(Qe=Ye.cvt[Je],Te&&Math.abs(nt-Qe)<Ye.cvCutIn&&(nt=Qe)),Se&&nt<tt&&(nt=tt),Te&&(nt=Ye.round(nt)),rt.setRelative(et,$e,st*nt,ot),rt.touch(et),xe.DEBUG&&console.log(Ye.step,(_e?"MIRP[":"MDRP[")+(we?"M":"m")+(Se?">":"_")+(Te?"R":"_")+(0===Me?"Gr":1===Me?"Bl":2===Me?"Wh":"")+"]",_e?Je+"("+Ye.cvt[Je]+","+Qe+")":"",Ke,"(d =",Ze,"->",st*nt,")"),Ye.rp1=Ye.rp0,Ye.rp2=Ke,we&&(Ye.rp0=Ke)}Ft.prototype.exec=function(we,Se){if("number"!=typeof Se)throw new Error("Point size is not a number!");if(!(2<(this||_e)._errorState)){var Te=(this||_e).font,Me=(this||_e)._prepState;if(!Me||Me.ppem!==Se){var Ye=(this||_e)._fpgmState;if(!Ye){E.prototype=lo,(Ye=(this||_e)._fpgmState=new E("fpgm",Te.tables.fpgm)).funcs=[],Ye.font=Te,xe.DEBUG&&(console.log("---EXEC FPGM---"),Ye.step=-1);try{vr(Ye)}catch(we){return console.log("Hinting error in FPGM:"+we),void((this||_e)._errorState=3)}}E.prototype=Ye,(Me=(this||_e)._prepState=new E("prep",Te.tables.prep)).ppem=Se;var Ze=Te.tables.cvt;if(Ze)for(var Qe=Me.cvt=new Array(Ze.length),Ke=Se/Te.unitsPerEm,Je=0;Je<Ze.length;Je++)Qe[Je]=Ze[Je]*Ke;else Me.cvt=[];xe.DEBUG&&(console.log("---EXEC PREP---"),Me.step=-1);try{vr(Me)}catch(we){(this||_e)._errorState<2&&console.log("Hinting error in PREP:"+we),(this||_e)._errorState=2}}if(!(1<(this||_e)._errorState))try{return yr(we,Me)}catch(we){(this||_e)._errorState<1&&(console.log("Hinting error:"+we),console.log("Note: further hinting errors are silenced")),(this||_e)._errorState=1}}};var yr=function(_e,we){var Se=we.ppem/we.font.unitsPerEm,Te=Se,Me=_e.components;if(E.prototype=we,Me){for(var Ye=we.font,Ze=[],Qe=[],Ke=0;Ke<Me.length;Ke++){var Je=Me[Ke],$e=Ye.glyphs.get(Je.glyphIndex),et=new E("glyf",$e.instructions);xe.DEBUG&&(console.log("---EXEC COMP "+Ke+"---"),et.step=-1),gr($e,et,Se,Te);for(var tt=Math.round(Je.dx*Se),rt=Math.round(Je.dy*Te),ot=et.gZone,nt=et.contours,st=0;st<ot.length;st++){var it=ot[st];it.xTouched=it.yTouched=!1,it.xo=it.x=it.x+tt,it.yo=it.y=it.y+rt}var dt=Ze.length;Ze.push.apply(Ze,ot);for(var ht=0;ht<nt.length;ht++)Qe.push(nt[ht]+dt)}_e.instructions&&!et.inhibitGridFit&&((et=new E("glyf",_e.instructions)).gZone=et.z0=et.z1=et.z2=Ze,et.contours=Qe,Ze.push(new M(0,0),new M(Math.round(_e.advanceWidth*Se),0)),xe.DEBUG&&(console.log("---EXEC COMPOSITE---"),et.step=-1),vr(et),Ze.length-=2)}else et=new E("glyf",_e.instructions),xe.DEBUG&&(console.log("---EXEC GLYPH---"),et.step=-1),gr(_e,et,Se,Te),Ze=et.gZone;return Ze},gr=function(_e,we,Se,Te){for(var Me,Ye,Ze,Qe=_e.points||[],Ke=Qe.length,Je=we.gZone=we.z0=we.z1=we.z2=[],$e=we.contours=[],et=0;et<Ke;et++)Me=Qe[et],Je[et]=new M(Me.x*Se,Me.y*Te,Me.lastPointOfContour,Me.onCurve);for(var tt=0;tt<Ke;tt++)Me=Je[tt],Ye||(Ye=Me,$e.push(tt)),Me.lastPointOfContour?((Me.nextPointOnContour=Ye).prevPointOnContour=Me,Ye=void 0):(Ze=Je[tt+1],(Me.nextPointOnContour=Ze).prevPointOnContour=Me);if(!we.inhibitGridFit){if(xe.DEBUG){console.log("PROCESSING GLYPH",we.stack);for(var rt=0;rt<Ke;rt++)console.log(rt,Je[rt].x,Je[rt].y)}if(Je.push(new M(0,0),new M(Math.round(_e.advanceWidth*Se),0)),vr(we),Je.length-=2,xe.DEBUG){console.log("FINISHED GLYPH",we.stack);for(var ot=0;ot<Ke;ot++)console.log(ot,Je[ot].x,Je[ot].y)}}},vr=function(_e){var we=_e.prog;if(we){var Se,Te=we.length;for(_e.ip=0;_e.ip<Te;_e.ip++){if(xe.DEBUG&&_e.step++,!(Se=uo[we[_e.ip]]))throw new Error("unknown instruction: 0x"+Number(we[_e.ip]).toString(16));Se(_e)}}},uo=[Jt.bind(void 0,io),Jt.bind(void 0,so),Kt.bind(void 0,io),Kt.bind(void 0,so),$t.bind(void 0,io),$t.bind(void 0,so),er.bind(void 0,0),er.bind(void 0,1),tr.bind(void 0,0),tr.bind(void 0,1),function(_e){var we=(Se=_e.stack).pop(),Se=Se.pop();xe.DEBUG&&console.log(_e.step,"SPVFS[]",we,Se),_e.pv=_e.dpv=qt(Se,we)},function(_e){var we=(Se=_e.stack).pop(),Se=Se.pop();xe.DEBUG&&console.log(_e.step,"SPVFS[]",we,Se),_e.fv=qt(Se,we)},function(_e){var we=_e.stack,Se=_e.pv;xe.DEBUG&&console.log(_e.step,"GPV[]"),we.push(16384*Se.x),we.push(16384*Se.y)},function(_e){var we=_e.stack,Se=_e.fv;xe.DEBUG&&console.log(_e.step,"GFV[]"),we.push(16384*Se.x),we.push(16384*Se.y)},function(_e){_e.fv=_e.pv,xe.DEBUG&&console.log(_e.step,"SFVTPV[]")},function(_e){var we=(Ye=_e.stack).pop(),Se=Ye.pop(),Te=Ye.pop(),Me=Ye.pop(),Ye=Ye.pop(),Ze=_e.z0,Qe=_e.z1,Ke=Ze[we],Je=(Ze=Ze[Se],Qe[Te]),$e=(Qe=Qe[Me],_e=_e.z2[Ye],we=(xe.DEBUG&&console.log("ISECT[], ",we,Se,Te,Me,Ye),Ke.x),Se=Ke.y,Te=Ze.x,Me=Ze.y,Ye=Je.x,Ke=Je.y,Ze=Qe.x,Je=Qe.y,Qe=(we-Te)*(Ke-Je)-(Se-Me)*(Ye-Ze),we*Me-Se*Te),et=Ye*Je-Ke*Ze;_e.x=($e*(Ye-Ze)-et*(we-Te))/Qe,_e.y=($e*(Ke-Je)-et*(Se-Me))/Qe},function(_e){_e.rp0=_e.stack.pop(),xe.DEBUG&&console.log(_e.step,"SRP0[]",_e.rp0)},function(_e){_e.rp1=_e.stack.pop(),xe.DEBUG&&console.log(_e.step,"SRP1[]",_e.rp1)},function(_e){_e.rp2=_e.stack.pop(),xe.DEBUG&&console.log(_e.step,"SRP2[]",_e.rp2)},function(_e){var we=_e.stack.pop();switch(xe.DEBUG&&console.log(_e.step,"SZP0[]",we),_e.zp0=we){case 0:_e.tZone||Zt(_e),_e.z0=_e.tZone;break;case 1:_e.z0=_e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_e){var we=_e.stack.pop();switch(xe.DEBUG&&console.log(_e.step,"SZP1[]",we),_e.zp1=we){case 0:_e.tZone||Zt(_e),_e.z1=_e.tZone;break;case 1:_e.z1=_e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_e){var we=_e.stack.pop();switch(xe.DEBUG&&console.log(_e.step,"SZP2[]",we),_e.zp2=we){case 0:_e.tZone||Zt(_e),_e.z2=_e.tZone;break;case 1:_e.z2=_e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_e){var we=_e.stack.pop();switch(xe.DEBUG&&console.log(_e.step,"SZPS[]",we),_e.zp0=_e.zp1=_e.zp2=we){case 0:_e.tZone||Zt(_e),_e.z0=_e.z1=_e.z2=_e.tZone;break;case 1:_e.z0=_e.z1=_e.z2=_e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_e){_e.loop=_e.stack.pop(),xe.DEBUG&&console.log(_e.step,"SLOOP[]",_e.loop)},function(_e){xe.DEBUG&&console.log(_e.step,"RTG[]"),_e.round=Nt},function(_e){xe.DEBUG&&console.log(_e.step,"RTHG[]"),_e.round=Gt},function(_e){var we=_e.stack.pop();xe.DEBUG&&console.log(_e.step,"SMD[]",we),_e.minDis=we/64},function(_e){xe.DEBUG&&console.log(_e.step,"ELSE[]"),Qt(_e,!1)},function(_e){var we=_e.stack.pop();xe.DEBUG&&console.log(_e.step,"JMPR[]",we),_e.ip+=we-1},function(_e){var we=_e.stack.pop();xe.DEBUG&&console.log(_e.step,"SCVTCI[]",we),_e.cvCutIn=we/64},void 0,void 0,function(_e){var we=_e.stack;xe.DEBUG&&console.log(_e.step,"DUP[]"),we.push(we[we.length-1])},rr,function(_e){xe.DEBUG&&console.log(_e.step,"CLEAR[]"),_e.stack.length=0},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"SWAP[]"),we.push(Se),we.push(Te)},function(_e){var we=_e.stack;xe.DEBUG&&console.log(_e.step,"DEPTH[]"),we.push(we.length)},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"CINDEX[]",Se),we.push(we[we.length-Se])},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"MINDEX[]",Se),we.push(we.splice(we.length-Se,1)[0])},void 0,void 0,void 0,function(_e){var we=(Te=_e.stack).pop(),Se=Te.pop(),Te=(xe.DEBUG&&console.log(_e.step,"LOOPCALL[]",we,Se),_e.ip),Me=_e.prog;_e.prog=_e.funcs[we];for(var Ye=0;Ye<Se;Ye++)vr(_e),xe.DEBUG&&console.log(++_e.step,Ye+1<Se?"next loopcall":"done loopcall",Ye);_e.ip=Te,_e.prog=Me},function(_e){var we=_e.stack.pop(),Se=(xe.DEBUG&&console.log(_e.step,"CALL[]",we),_e.ip),Te=_e.prog;_e.prog=_e.funcs[we],vr(_e),_e.ip=Se,_e.prog=Te,xe.DEBUG&&console.log(++_e.step,"returning from",we)},function(_e){if("fpgm"!==_e.env)throw new Error("FDEF not allowed here");var we=_e.stack,Se=_e.prog,Te=_e.ip,Me=(we=we.pop(),Te);for(xe.DEBUG&&console.log(_e.step,"FDEF[]",we);45!==Se[++Te];);_e.ip=Te,_e.funcs[we]=Se.slice(Me+1,Te)},void 0,or.bind(void 0,0),or.bind(void 0,1),nr.bind(void 0,io),nr.bind(void 0,so),sr.bind(void 0,0),sr.bind(void 0,1),ir.bind(void 0,0),ir.bind(void 0,1),ar.bind(void 0,0),ar.bind(void 0,1),function(_e){for(var we=_e.stack,Se=_e.loop,Te=_e.fv,Me=we.pop()/64,Ye=_e.z2;Se--;){var Ze=we.pop(),Qe=Ye[Ze];xe.DEBUG&&console.log(_e.step,(1<_e.loop?"loop "+(_e.loop-Se)+": ":"")+"SHPIX[]",Ze,Me),Te.setRelative(Qe,Qe,Me),Te.touch(Qe)}_e.loop=1},function(_e){for(var we=_e.stack,Se=_e.rp1,Te=_e.rp2,Me=_e.loop,Ye=_e.z0[Se],Ze=_e.z1[Te],Qe=_e.fv,Ke=_e.dpv,Je=_e.z2;Me--;){var $e=we.pop(),et=Je[$e];xe.DEBUG&&console.log(_e.step,(1<_e.loop?"loop "+(_e.loop-Me)+": ":"")+"IP[]",$e,Se,"<->",Te),Qe.interpolate(et,Ye,Ze,Ke),Qe.touch(et)}_e.loop=1},lr.bind(void 0,0),lr.bind(void 0,1),function(_e){for(var we=_e.stack,Se=_e.rp0,Te=_e.z0[Se],Me=_e.loop,Ye=_e.fv,Ze=_e.pv,Qe=_e.z1;Me--;){var Ke=we.pop(),Je=Qe[Ke];xe.DEBUG&&console.log(_e.step,(1<_e.loop?"loop "+(_e.loop-Me)+": ":"")+"ALIGNRP[]",Ke),Ye.setRelative(Je,Te,0,Ze),Ye.touch(Je)}_e.loop=1},function(_e){xe.DEBUG&&console.log(_e.step,"RTDG[]"),_e.round=Bt},ur.bind(void 0,0),ur.bind(void 0,1),function(_e){var we=_e.prog,Se=_e.ip,Te=_e.stack,Me=we[++Se];xe.DEBUG&&console.log(_e.step,"NPUSHB[]",Me);for(var Ye=0;Ye<Me;Ye++)Te.push(we[++Se]);_e.ip=Se},function(_e){var we=_e.ip,Se=_e.prog,Te=_e.stack,Me=Se[++we];xe.DEBUG&&console.log(_e.step,"NPUSHW[]",Me);for(var Ye=0;Ye<Me;Ye++){var Ze=Se[++we]<<8|Se[++we];32768&Ze&&(Ze=-(1+(65535^Ze))),Te.push(Ze)}_e.ip=we},function(_e){var we=_e.stack,Se=(Se=_e.store)||(_e.store=[]),Te=we.pop();we=we.pop();xe.DEBUG&&console.log(_e.step,"WS",Te,we),Se[we]=Te},function(_e){var we=_e.stack,Se=_e.store,Te=we.pop();_e=(xe.DEBUG&&console.log(_e.step,"RS",Te),Se&&Se[Te]||0);we.push(_e)},function(_e){var we=(Se=_e.stack).pop(),Se=Se.pop();xe.DEBUG&&console.log(_e.step,"WCVTP",we,Se),_e.cvt[Se]=we/64},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"RCVT",Se),we.push(64*_e.cvt[Se])},cr.bind(void 0,0),cr.bind(void 0,1),void 0,dr.bind(void 0,0),dr.bind(void 0,1),function(_e){xe.DEBUG&&console.log(_e.step,"MPPEM[]"),_e.stack.push(_e.ppem)},void 0,function(_e){xe.DEBUG&&console.log(_e.step,"FLIPON[]"),_e.autoFlip=!0},void 0,void 0,function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"LT[]",Se,Te),we.push(Te<Se?1:0)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"LTEQ[]",Se,Te),we.push(Te<=Se?1:0)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"GT[]",Se,Te),we.push(Se<Te?1:0)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"GTEQ[]",Se,Te),we.push(Se<=Te?1:0)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"EQ[]",Se,Te),we.push(Se===Te?1:0)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"NEQ[]",Se,Te),we.push(Se!==Te?1:0)},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"ODD[]",Se),we.push(Math.trunc(Se)%2?1:0)},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"EVEN[]",Se),we.push(Math.trunc(Se)%2?0:1)},function(_e){var we=_e.stack.pop();xe.DEBUG&&console.log(_e.step,"IF[]",we),we||(Qt(_e,!0),xe.DEBUG&&console.log(_e.step,"EIF[]"))},function(_e){xe.DEBUG&&console.log(_e.step,"EIF[]")},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"AND[]",Se,Te),we.push(Se&&Te?1:0)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"OR[]",Se,Te),we.push(Se||Te?1:0)},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"NOT[]",Se),we.push(Se?0:1)},hr.bind(void 0,1),function(_e){var we=_e.stack.pop();xe.DEBUG&&console.log(_e.step,"SDB[]",we),_e.deltaBase=we},function(_e){var we=_e.stack.pop();xe.DEBUG&&console.log(_e.step,"SDS[]",we),_e.deltaShift=Math.pow(.5,we)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"ADD[]",Se,Te),we.push(Te+Se)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"SUB[]",Se,Te),we.push(Te-Se)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"DIV[]",Se,Te),we.push(64*Te/Se)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"MUL[]",Se,Te),we.push(Te*Se/64)},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"ABS[]",Se),we.push(Math.abs(Se))},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"NEG[]",Se),we.push(-Se)},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"FLOOR[]",Se),we.push(64*Math.floor(Se/64))},function(_e){var we=_e.stack,Se=we.pop();xe.DEBUG&&console.log(_e.step,"CEILING[]",Se),we.push(64*Math.ceil(Se/64))},fr.bind(void 0,0),fr.bind(void 0,1),fr.bind(void 0,2),fr.bind(void 0,3),void 0,void 0,void 0,void 0,function(_e){var we=(Se=_e.stack).pop(),Se=Se.pop();xe.DEBUG&&console.log(_e.step,"WCVTF[]",we,Se),_e.cvt[Se]=we*_e.ppem/_e.font.unitsPerEm},hr.bind(void 0,2),hr.bind(void 0,3),pr.bind(void 0,1),pr.bind(void 0,2),pr.bind(void 0,3),function(_e){var we,Se=_e.stack.pop();switch(xe.DEBUG&&console.log(_e.step,"SROUND[]",Se),_e.round=Ht,192&Se){case 0:we=.5;break;case 64:we=1;break;case 128:we=2;break;default:throw new Error("invalid SROUND value")}switch(_e.srPeriod=we,48&Se){case 0:_e.srPhase=0;break;case 16:_e.srPhase=.25*we;break;case 32:_e.srPhase=.5*we;break;case 48:_e.srPhase=.75*we;break;default:throw new Error("invalid SROUND value")}_e.srThreshold=0===(Se&=15)?0:(Se/8-.5)*we},function(_e){var we,Se=_e.stack.pop();switch(xe.DEBUG&&console.log(_e.step,"S45ROUND[]",Se),_e.round=Ht,192&Se){case 0:we=Math.sqrt(2)/2;break;case 64:we=Math.sqrt(2);break;case 128:we=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(_e.srPeriod=we,48&Se){case 0:_e.srPhase=0;break;case 16:_e.srPhase=.25*we;break;case 32:_e.srPhase=.5*we;break;case 48:_e.srPhase=.75*we;break;default:throw new Error("invalid S45ROUND value")}_e.srThreshold=0===(Se&=15)?0:(Se/8-.5)*we},void 0,void 0,function(_e){xe.DEBUG&&console.log(_e.step,"ROFF[]"),_e.round=Ut},void 0,function(_e){xe.DEBUG&&console.log(_e.step,"RUTG[]"),_e.round=Vt},function(_e){xe.DEBUG&&console.log(_e.step,"RDTG[]"),_e.round=zt},rr,rr,void 0,void 0,void 0,void 0,void 0,function(_e){var we=_e.stack.pop();xe.DEBUG&&console.log(_e.step,"SCANCTRL[]",we)},mr.bind(void 0,0),mr.bind(void 0,1),function(_e){var we=_e.stack,Se=we.pop(),Te=0;xe.DEBUG&&console.log(_e.step,"GETINFO[]",Se),1&Se&&(Te=35),32&Se&&(Te|=4096),we.push(Te)},void 0,function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop(),Me=we.pop();xe.DEBUG&&console.log(_e.step,"ROLL[]"),we.push(Te),we.push(Se),we.push(Me)},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"MAX[]",Se,Te),we.push(Math.max(Te,Se))},function(_e){var we=_e.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(_e.step,"MIN[]",Se,Te),we.push(Math.min(Te,Se))},function(_e){var we=_e.stack.pop();xe.DEBUG&&console.log(_e.step,"SCANTYPE[]",we)},function(_e){var we=_e.stack.pop(),Se=_e.stack.pop();switch(xe.DEBUG&&console.log(_e.step,"INSTCTRL[]",we,Se),we){case 1:return void(_e.inhibitGridFit=!!Se);case 2:return void(_e.ignoreCvt=!!Se);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,k.bind(void 0,1),k.bind(void 0,2),k.bind(void 0,3),k.bind(void 0,4),k.bind(void 0,5),k.bind(void 0,6),k.bind(void 0,7),k.bind(void 0,8),C.bind(void 0,1),C.bind(void 0,2),C.bind(void 0,3),C.bind(void 0,4),C.bind(void 0,5),C.bind(void 0,6),C.bind(void 0,7),C.bind(void 0,8),O.bind(void 0,0,0,0,0,0),O.bind(void 0,0,0,0,0,1),O.bind(void 0,0,0,0,0,2),O.bind(void 0,0,0,0,0,3),O.bind(void 0,0,0,0,1,0),O.bind(void 0,0,0,0,1,1),O.bind(void 0,0,0,0,1,2),O.bind(void 0,0,0,0,1,3),O.bind(void 0,0,0,1,0,0),O.bind(void 0,0,0,1,0,1),O.bind(void 0,0,0,1,0,2),O.bind(void 0,0,0,1,0,3),O.bind(void 0,0,0,1,1,0),O.bind(void 0,0,0,1,1,1),O.bind(void 0,0,0,1,1,2),O.bind(void 0,0,0,1,1,3),O.bind(void 0,0,1,0,0,0),O.bind(void 0,0,1,0,0,1),O.bind(void 0,0,1,0,0,2),O.bind(void 0,0,1,0,0,3),O.bind(void 0,0,1,0,1,0),O.bind(void 0,0,1,0,1,1),O.bind(void 0,0,1,0,1,2),O.bind(void 0,0,1,0,1,3),O.bind(void 0,0,1,1,0,0),O.bind(void 0,0,1,1,0,1),O.bind(void 0,0,1,1,0,2),O.bind(void 0,0,1,1,0,3),O.bind(void 0,0,1,1,1,0),O.bind(void 0,0,1,1,1,1),O.bind(void 0,0,1,1,1,2),O.bind(void 0,0,1,1,1,3),O.bind(void 0,1,0,0,0,0),O.bind(void 0,1,0,0,0,1),O.bind(void 0,1,0,0,0,2),O.bind(void 0,1,0,0,0,3),O.bind(void 0,1,0,0,1,0),O.bind(void 0,1,0,0,1,1),O.bind(void 0,1,0,0,1,2),O.bind(void 0,1,0,0,1,3),O.bind(void 0,1,0,1,0,0),O.bind(void 0,1,0,1,0,1),O.bind(void 0,1,0,1,0,2),O.bind(void 0,1,0,1,0,3),O.bind(void 0,1,0,1,1,0),O.bind(void 0,1,0,1,1,1),O.bind(void 0,1,0,1,1,2),O.bind(void 0,1,0,1,1,3),O.bind(void 0,1,1,0,0,0),O.bind(void 0,1,1,0,0,1),O.bind(void 0,1,1,0,0,2),O.bind(void 0,1,1,0,0,3),O.bind(void 0,1,1,0,1,0),O.bind(void 0,1,1,0,1,1),O.bind(void 0,1,1,0,1,2),O.bind(void 0,1,1,0,1,3),O.bind(void 0,1,1,1,0,0),O.bind(void 0,1,1,1,0,1),O.bind(void 0,1,1,1,0,2),O.bind(void 0,1,1,1,0,3),O.bind(void 0,1,1,1,1,0),O.bind(void 0,1,1,1,1,1),O.bind(void 0,1,1,1,1,2),O.bind(void 0,1,1,1,1,3)],co=Array.from||function(_e){return _e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function P(xe){(xe=xe||{}).empty||(_(xe.familyName,"When creating a new Font object, familyName is required."),_(xe.styleName,"When creating a new Font object, styleName is required."),_(xe.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),_(xe.ascender,"When creating a new Font object, ascender is required."),_(xe.descender,"When creating a new Font object, descender is required."),_(xe.descender<0,"Descender should be negative (e.g. -512)."),(this||_e).names={fontFamily:{en:xe.familyName||" "},fontSubfamily:{en:xe.styleName||" "},fullName:{en:xe.fullName||xe.familyName+" "+xe.styleName},postScriptName:{en:xe.postScriptName||(xe.familyName+xe.styleName).replace(/\s/g,"")},designer:{en:xe.designer||" "},designerURL:{en:xe.designerURL||" "},manufacturer:{en:xe.manufacturer||" "},manufacturerURL:{en:xe.manufacturerURL||" "},license:{en:xe.license||" "},licenseURL:{en:xe.licenseURL||" "},version:{en:xe.version||"Version 0.1"},description:{en:xe.description||" "},copyright:{en:xe.copyright||" "},trademark:{en:xe.trademark||" "}},(this||_e).unitsPerEm=xe.unitsPerEm||1e3,(this||_e).ascender=xe.ascender,(this||_e).descender=xe.descender,(this||_e).createdTimestamp=xe.createdTimestamp,(this||_e).tables={os2:{usWeightClass:xe.weightClass||(this||_e).usWeightClasses.MEDIUM,usWidthClass:xe.widthClass||(this||_e).usWidthClasses.MEDIUM,fsSelection:xe.fsSelection||(this||_e).fsSelectionValues.REGULAR}}),(this||_e).supported=!0,(this||_e).glyphs=new Lr.GlyphSet(this||_e,xe.glyphs||[]),(this||_e).encoding=new Ee(this||_e),(this||_e).position=new kt(this||_e),(this||_e).substitution=new i(this||_e),(this||_e).tables=(this||_e).tables||{},Object.defineProperty(this||_e,"hinting",{get:function(){return(this||_e)._hinting||("truetype"===(this||_e).outlinesFormat?(this||_e)._hinting=new Ft(this||_e):void 0)}})}function _r(_e,xe){var we,Se=JSON.stringify(_e),Te=256;for(we in xe){var Me=parseInt(we);if(Me&&!(Me<256)){if(JSON.stringify(xe[we])===Se)return Me;Te<=Me&&(Te=Me+1)}}return xe[Te]=_e,Te}P.prototype.hasChar=function(xe){return null!==(this||_e).encoding.charToGlyphIndex(xe)},P.prototype.charToGlyphIndex=function(xe){return(this||_e).encoding.charToGlyphIndex(xe)},P.prototype.charToGlyph=function(xe){xe=this.charToGlyphIndex(xe);return(this||_e).glyphs.get(xe)||(this||_e).glyphs.get(0)},P.prototype.stringToGlyphs=function(xe,we){we=we||(this||_e).defaultRenderOptions;for(var Se=co(xe),Te=[],Me=0;Me<Se.length;Me+=1){var Ye=Se[Me];Te.push(this.charToGlyphIndex(Ye))}var Ze=Te.length;if(we.features){xe=we.script||(this||_e).substitution.getDefaultScriptName();var Qe=[];we.features.liga&&(Qe=Qe.concat((this||_e).substitution.getFeature("liga",xe,we.language))),we.features.rlig&&(Qe=Qe.concat((this||_e).substitution.getFeature("rlig",xe,we.language)));for(var Ke=0;Ke<Ze;Ke+=1)for(var Je=0;Je<Qe.length;Je++){for(var $e=Qe[Je],et=$e.sub,tt=et.length,rt=0;rt<tt&&et[rt]===Te[Ke+rt];)rt++;rt===tt&&(Te.splice(Ke,tt,$e.by),Ze=Ze-tt+1)}}for(var ot=new Array(Ze),nt=(this||_e).glyphs.get(0),st=0;st<Ze;st+=1)ot[st]=(this||_e).glyphs.get(Te[st])||nt;return ot},P.prototype.nameToGlyphIndex=function(xe){return(this||_e).glyphNames.nameToGlyphIndex(xe)},P.prototype.nameToGlyph=function(xe){xe=this.nameToGlyphIndex(xe);return(this||_e).glyphs.get(xe)||(this||_e).glyphs.get(0)},P.prototype.glyphIndexToName=function(xe){return(this||_e).glyphNames.glyphIndexToName?(this||_e).glyphNames.glyphIndexToName(xe):""},P.prototype.getKerningValue=function(xe,we){xe=xe.index||xe,we=we.index||we;var Se=(this||_e).position.defaultKerningTables;return Se?(this||_e).position.getKerningValue(Se,xe,we):(this||_e).kerningPairs[xe+","+we]||0},P.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},P.prototype.forEachGlyph=function(xe,we,Se,Te,Me,Ye){we=void 0!==we?we:0,Se=void 0!==Se?Se:0,Me=Me||(this||_e).defaultRenderOptions;var Ze,Qe=1/(this||_e).unitsPerEm*(Te=void 0!==Te?Te:72),Ke=this.stringToGlyphs(xe,Me);Me.kerning&&(xe=Me.script||(this||_e).position.getDefaultScriptName(),Ze=(this||_e).position.getKerningTables(xe,Me.language));for(var Je=0;Je<Ke.length;Je+=1){var $e=Ke[Je];Ye.call(this||_e,$e,we,Se,Te,Me),$e.advanceWidth&&(we+=$e.advanceWidth*Qe),Me.kerning&&Je<Ke.length-1&&(we+=(Ze?(this||_e).position.getKerningValue(Ze,$e.index,Ke[Je+1].index):this.getKerningValue($e,Ke[Je+1]))*Qe),Me.letterSpacing?we+=Me.letterSpacing*Te:Me.tracking&&(we+=Me.tracking/1e3*Te)}return we},P.prototype.getPath=function(xe,we,Se,Te,Me){var Ye=new h;return this.forEachGlyph(xe,we,Se,Te,Me,(function(xe,we,Se,Te){xe=xe.getPath(we,Se,Te,Me,this||_e);Ye.extend(xe)})),Ye},P.prototype.getPaths=function(xe,we,Se,Te,Me){var Ye=[];return this.forEachGlyph(xe,we,Se,Te,Me,(function(xe,we,Se,Te){xe=xe.getPath(we,Se,Te,Me,this||_e);Ye.push(xe)})),Ye},P.prototype.getAdvanceWidth=function(_e,xe,we){return this.forEachGlyph(_e,0,0,xe,we,(function(){}))},P.prototype.draw=function(_e,xe,we,Se,Te,Me){this.getPath(xe,we,Se,Te,Me).draw(_e)},P.prototype.drawPoints=function(_e,xe,we,Se,Te,Me){this.forEachGlyph(xe,we,Se,Te,Me,(function(xe,we,Se,Te){xe.drawPoints(_e,we,Se,Te)}))},P.prototype.drawMetrics=function(_e,xe,we,Se,Te,Me){this.forEachGlyph(xe,we,Se,Te,Me,(function(xe,we,Se,Te){xe.drawMetrics(_e,we,Se,Te)}))},P.prototype.getEnglishName=function(xe){xe=(this||_e).names[xe];if(xe)return xe.en},P.prototype.validate=function(){var xe=this||_e;function e(_e){_e=xe.getEnglishName(_e);_e&&_e.trim().length}e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),(this||_e).unitsPerEm},P.prototype.toTables=function(){return oo.fontToTable(this||_e)},P.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},P.prototype.toArrayBuffer=function(){for(var _e=this.toTables().encode(),xe=new ArrayBuffer(_e.length),we=new Uint8Array(xe),Se=0;Se<_e.length;Se++)we[Se]=_e[Se];return xe},P.prototype.download=function(_e){var xe=this.getEnglishName("fontFamily"),Se=this.getEnglishName("fontSubfamily"),Te=(_e=_e||xe.replace(/\s/g,"")+"-"+Se+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,Te.byteLength,(function(xe){xe.root.getFile(_e,{create:!0},(function(_e){_e.createWriter((function(xe){var we=new DataView(Te);we=new Blob([we],{type:"font/opentype"});xe.write(we),xe.addEventListener("writeend",(function(){location.href=_e.toURL()}),!1)}))}))}),(function(_e){throw new Error(_e.name+": "+_e.message)}))):(xe=we("fs"),Se=function(_e){for(var xe=new Me(_e.byteLength),we=new Uint8Array(_e),Se=0;Se<xe.length;++Se)xe[Se]=we[Se];return xe}(Te),xe.writeFileSync(_e,Se))},P.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},P.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},P.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var ho={make:function(_e,xe){var we=new Xt.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:_e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:_e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*_e.axes.length}]);we.offsetToData=we.sizeOf();for(var Se,Te,Me,Ye=0;Ye<_e.axes.length;Ye++)we.fields=we.fields.concat((Se=Ye,Te=_e.axes[Ye],Me=xe,Me=_r(Te.name,xe),[{name:"tag_"+Se,type:"TAG",value:Te.tag},{name:"minValue_"+Se,type:"FIXED",value:Te.minValue<<16},{name:"defaultValue_"+Se,type:"FIXED",value:Te.defaultValue<<16},{name:"maxValue_"+Se,type:"FIXED",value:Te.maxValue<<16},{name:"flags_"+Se,type:"USHORT",value:0},{name:"nameID_"+Se,type:"USHORT",value:Me}]));for(var Ze=0;Ze<_e.instances.length;Ze++)we.fields=we.fields.concat(function(_e,xe,we,Se){for(var Te=[{name:"nameID_"+_e,type:"USHORT",value:_r(xe.name,Se)},{name:"flags_"+_e,type:"USHORT",value:0}],Me=0;Me<we.length;++Me){var Ye=we[Me].tag;Te.push({name:"axis_"+_e+" "+Ye,type:"FIXED",value:xe.coordinates[Ye]<<16})}return Te}(Ze,_e.instances[Ze],_e.axes,xe));return we},parse:function(_e,xe,we){for(var Se,Te,Me,Ye,Ze=new jr.Parser(_e,xe),Qe=Ze.parseULong(),Ke=(ht.argument(65536===Qe,"Unsupported fvar table version."),Ze.parseOffset16()),Je=(Ze.skip("uShort",1),Ze.parseUShort()),$e=Ze.parseUShort(),et=Ze.parseUShort(),tt=Ze.parseUShort(),rt=[],ot=0;ot<Je;ot++)rt.push((Se=_e,Te=xe+Ke+ot*$e,Me=we,void 0,Ye={},Se=new jr.Parser(Se,Te),Ye.tag=Se.parseTag(),Ye.minValue=Se.parseFixed(),Ye.defaultValue=Se.parseFixed(),Ye.maxValue=Se.parseFixed(),Se.skip("uShort",1),Ye.name=Me[Se.parseUShort()]||{},Ye));for(var nt=[],st=xe+Ke+Je*$e,it=0;it<et;it++)nt.push(function(_e,xe,we,Se){var Te={},Me=new jr.Parser(_e,xe);Te.name=Se[Me.parseUShort()]||{},Me.skip("uShort",1),Te.coordinates={};for(var Ye=0;Ye<we.length;++Ye)Te.coordinates[we[Ye].tag]=Me.parseFixed();return Te}(_e,st+it*tt,rt,we));return{axes:rt,instances:nt}}},fo=new Array(10);fo[1]=function(){var xe=(this||_e).offset+(this||_e).relativeOffset,we=this.parseUShort();return 1===we?{posFormat:1,coverage:this.parsePointer(u.coverage),value:this.parseValueRecord()}:2===we?{posFormat:2,coverage:this.parsePointer(u.coverage),values:this.parseValueRecordList()}:void ht.assert(!1,"0x"+xe.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},fo[2]=function(){var xe,we,Se,Te,Me=(this||_e).offset+(this||_e).relativeOffset,Ye=this.parseUShort(),Ze=(Me=(ht.assert(1===Ye||2===Ye,"0x"+Me.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(u.coverage)),this.parseUShort()),Qe=this.parseUShort();return 1===Ye?{posFormat:Ye,coverage:Me,valueFormat1:Ze,valueFormat2:Qe,pairSets:this.parseList(u.pointer(u.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Ze),value2:this.parseValueRecord(Qe)}}))))}:2===Ye?(xe=this.parsePointer(u.classDef),we=this.parsePointer(u.classDef),Se=this.parseUShort(),Te=this.parseUShort(),{posFormat:Ye,coverage:Me,valueFormat1:Ze,valueFormat2:Qe,classDef1:xe,classDef2:we,class1Count:Se,class2Count:Te,classRecords:this.parseList(Se,u.list(Te,(function(){return{value1:this.parseValueRecord(Ze),value2:this.parseValueRecord(Qe)}})))}):void 0},fo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},fo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},fo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},fo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},fo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},fo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},fo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var po=new Array(10);var mo={parse:function(_e,xe){return xe=(_e=new u(_e,xe=xe||0)).parseVersion(1),ht.argument(1===xe||1.1===xe,"Unsupported GPOS table version "+xe),1===xe?{version:xe,scripts:_e.parseScriptList(),features:_e.parseFeatureList(),lookups:_e.parseLookupList(fo)}:{version:xe,scripts:_e.parseScriptList(),features:_e.parseFeatureList(),lookups:_e.parseLookupList(fo),variations:_e.parseFeatureVariationsList()}},make:function(_e){return new Xt.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Xt.ScriptList(_e.scripts)},{name:"features",type:"TABLE",value:new Xt.FeatureList(_e.features)},{name:"lookups",type:"TABLE",value:new Xt.LookupList(_e.lookups,po)}])}};var yo={parse:function(_e,xe){if(_e=new jr.Parser(_e,xe),0===(xe=_e.parseUShort())){var we=_e,Se={},Te=(we.skip("uShort"),we.parseUShort()),Me=(ht.argument(0===Te,"Unsupported kern sub-table version."),we.skip("uShort",2),we.parseUShort());we.skip("uShort",3);for(var Ye=0;Ye<Me;Ye+=1){var Ze=we.parseUShort(),Qe=we.parseUShort(),Ke=we.parseShort();Se[Ze+","+Qe]=Ke}return Se}if(1!==xe)throw new Error("Unsupported kern table version ("+xe+").");var Je=_e,$e={};Te=(Je.skip("uShort"),1<Je.parseULong()&&console.warn("Only the first kern subtable is supported."),Je.skip("uLong"),255&Je.parseUShort());if(Je.skip("uShort"),0==Te){var et=Je.parseUShort();Je.skip("uShort",3);for(var tt=0;tt<et;tt+=1){var rt=Je.parseUShort(),ot=Je.parseUShort(),nt=Je.parseShort();$e[rt+","+ot]=nt}}return $e}};var go={parse:function(_e,xe,we,Se){for(var Te=new jr.Parser(_e,xe),Me=Se?Te.parseUShort:Te.parseULong,Ye=[],Ze=0;Ze<we+1;Ze+=1){var Qe=Me.call(Te);Se&&(Qe*=2),Ye.push(Qe)}return Ye}};function Er(_e,xe){we("fs").readFile(_e,(function(_e,we){if(_e)return xe(_e.message);xe(null,Ot(we))}))}function kr(_e,xe){var we=new XMLHttpRequest;we.open("get",_e,!0),we.responseType="arraybuffer",we.onload=function(){return we.response?xe(null,we.response):xe("Font could not be loaded: "+we.statusText)},we.onerror=function(){xe("Font could not be loaded")},we.send()}function Cr(_e,xe){for(var we=[],Se=12,Te=0;Te<xe;Te+=1){var Me=jr.getTag(_e,Se),Ye=jr.getULong(_e,Se+4),Ze=jr.getULong(_e,Se+8),Qe=jr.getULong(_e,Se+12);we.push({tag:Me,checksum:Ye,offset:Ze,length:Qe,compression:!1}),Se+=16}return we}function I(_e,xe){if("WOFF"!==xe.compression)return{data:_e,offset:xe.offset};_e=new Uint8Array(_e.buffer,xe.offset+2,xe.compressedLength-2);var we=new Uint8Array(xe.length);if(re(_e,we),we.byteLength!==xe.length)throw new Error("Decompression error: "+xe.tag+" decompressed length doesn't match recorded length");return{data:new DataView(we.buffer,0),offset:0}}function Or(_e){var xe,we,Se,Te,Me,Ye,Ze,Qe,Ke,Je,$e,et,tt,rt,ot=new P({empty:!0}),nt=new DataView(_e,0),st=[];_e=jr.getTag(nt,0);if(_e===String.fromCharCode(0,1,0,0)||"true"===_e||"typ1"===_e)ot.outlinesFormat="truetype",st=Cr(nt,Se=jr.getUShort(nt,4));else if("OTTO"===_e)ot.outlinesFormat="cff",st=Cr(nt,Se=jr.getUShort(nt,4));else{if("wOFF"!==_e)throw new Error("Unsupported OpenType signature "+_e);var it=jr.getTag(nt,4);if(it===String.fromCharCode(0,1,0,0))ot.outlinesFormat="truetype";else{if("OTTO"!==it)throw new Error("Unsupported OpenType flavor "+_e);ot.outlinesFormat="cff"}st=function(_e,xe){for(var we=[],Se=44,Te=0;Te<xe;Te+=1){var Me=jr.getTag(_e,Se),Ye=jr.getULong(_e,Se+4),Ze=jr.getULong(_e,Se+8),Qe=jr.getULong(_e,Se+12),Ke=void 0;Ke=Ze<Qe&&"WOFF";we.push({tag:Me,offset:Ye,compression:Ke,compressedLength:Ze,length:Qe}),Se+=20}return we}(nt,Se=jr.getUShort(nt,12))}for(var dt=0;dt<Se;dt+=1){var ht=st[dt],ft=void 0;switch(ht.tag){case"cmap":ft=I(nt,ht),ot.tables.cmap=xr.parse(ft.data,ft.offset),ot.encoding=new ke(ot.tables.cmap);break;case"cvt ":ft=I(nt,ht),rt=new jr.Parser(ft.data,ft.offset),ot.tables.cvt=rt.parseShortList(ht.length/2);break;case"fvar":Me=ht;break;case"fpgm":ft=I(nt,ht),rt=new jr.Parser(ft.data,ft.offset),ot.tables.fpgm=rt.parseByteList(ht.length);break;case"head":ft=I(nt,ht),ot.tables.head=Dr.parse(ft.data,ft.offset),ot.unitsPerEm=ot.tables.head.unitsPerEm,xe=ot.tables.head.indexToLocFormat;break;case"hhea":ft=I(nt,ht),ot.tables.hhea=Fr.parse(ft.data,ft.offset),ot.ascender=ot.tables.hhea.ascender,ot.descender=ot.tables.hhea.descender,ot.numberOfHMetrics=ot.tables.hhea.numberOfHMetrics;break;case"hmtx":Ke=ht;break;case"ltag":ft=I(nt,ht),we=Nr.parse(ft.data,ft.offset);break;case"maxp":ft=I(nt,ht),ot.tables.maxp=Br.parse(ft.data,ft.offset),ot.numGlyphs=ot.tables.maxp.numGlyphs;break;case"name":et=ht;break;case"OS/2":ft=I(nt,ht),ot.tables.os2=Qr.parse(ft.data,ft.offset);break;case"post":ft=I(nt,ht),ot.tables.post=Kr.parse(ft.data,ft.offset),ot.glyphNames=new Oe(ot.tables.post);break;case"prep":ft=I(nt,ht),rt=new jr.Parser(ft.data,ft.offset),ot.tables.prep=rt.parseByteList(ht.length);break;case"glyf":Ye=ht;break;case"loca":$e=ht;break;case"CFF ":Te=ht;break;case"kern":Je=ht;break;case"GPOS":Ze=ht;break;case"GSUB":Qe=ht;break;case"meta":tt=ht}}it=I(nt,et);if(ot.tables.name=Yr.parse(it.data,it.offset,we),ot.names=ot.tables.name,Ye&&$e){_e=0===xe,it=I(nt,$e),it=go.parse(it.data,it.offset,ot.numGlyphs,_e),_e=I(nt,Ye);ot.glyphs=no.parse(_e.data,_e.offset,it,ot)}else{if(!Te)throw new Error("Font doesn't contain TrueType or CFF outlines.");_e=I(nt,Te);Ir.parse(_e.data,_e.offset,ot)}it=I(nt,Ke);for(var pt=(Ur.parse(it.data,it.offset,ot.numberOfHMetrics,ot.numGlyphs,ot.glyphs),ot),mt=pt.tables.cmap.glyphIndexMap,yt=Object.keys(mt),gt=0;gt<yt.length;gt+=1){var wt,Dt=yt[gt],Xt=mt[Dt];(wt=pt.glyphs.get(Xt)).addUnicode(parseInt(Dt))}for(var Yt=0;Yt<pt.glyphs.length;Yt+=1)wt=pt.glyphs.get(Yt),pt.cffEncoding?pt.isCIDFont?wt.name="gid"+Yt:wt.name=pt.cffEncoding.charset[Yt]:pt.glyphNames.names&&(wt.name=pt.glyphNames.glyphIndexToName(Yt));return Je?(_e=I(nt,Je),ot.kerningPairs=yo.parse(_e.data,_e.offset)):ot.kerningPairs={},Ze&&(it=I(nt,Ze),ot.tables.gpos=mo.parse(it.data,it.offset),ot.position.init()),Qe&&(_e=I(nt,Qe),ot.tables.gsub=to.parse(_e.data,_e.offset)),Me&&(it=I(nt,Me),ot.tables.fvar=ho.parse(it.data,it.offset,ot.names)),tt&&(_e=I(nt,tt),ot.tables.meta=ro.parse(_e.data,_e.offset),ot.metas=ot.tables.meta),ot}xe.Font=P,xe.Glyph=f,xe.Path=h,xe.BoundingBox=a,xe._parse=jr,xe.parse=Or,xe.load=function(_e,xe){("undefined"==typeof window?Er:kr)(_e,(function(_e,we){if(_e)return xe(_e);var Se;try{Se=Or(we)}catch(_e){return xe(_e,null)}return xe(null,Se)}))},xe.loadSync=function(_e){return Or(Ot(we("fs").readFileSync(_e)))},Object.defineProperty(xe,"__esModule",{value:!0})},"object"==typeof Te&&void 0!==Se?Ze(Te):"function"==typeof xe&&xe.amd?xe(["exports"],Ze):Ze(Ye.opentype={})}.call(this||_e,we("buffer").Buffer)},{buffer:4,fs:2}],250:[function(xe,we,Se){!function(_e){function s(_e,xe){for(var we=0,Se=_e.length-1;0<=Se;Se--){var Te=_e[Se];"."===Te?_e.splice(Se,1):".."===Te?(_e.splice(Se,1),we++):we&&(_e.splice(Se,1),we--)}if(xe)for(;we--;)_e.unshift("..");return _e}function i(_e,xe){if(_e.filter)return _e.filter(xe);for(var we=[],Se=0;Se<_e.length;Se++)xe(_e[Se],Se,_e)&&we.push(_e[Se]);return we}Se.resolve=function(){for(var xe="",we=!1,Se=arguments.length-1;-1<=Se&&!we;Se--){var Te=0<=Se?arguments[Se]:_e.cwd();if("string"!=typeof Te)throw new TypeError("Arguments to path.resolve must be strings");Te&&(xe=Te+"/"+xe,we="/"===Te.charAt(0))}return(we?"/":"")+(xe=s(i(xe.split("/"),(function(_e){return!!_e})),!we).join("/"))||"."},Se.normalize=function(_e){var we=Se.isAbsolute(_e),Te="/"===xe(_e,-1);return(_e=(_e=s(i(_e.split("/"),(function(_e){return!!_e})),!we).join("/"))||we?_e:".")&&Te&&(_e+="/"),(we?"/":"")+_e},Se.isAbsolute=function(_e){return"/"===_e.charAt(0)},Se.join=function(){var _e=Array.prototype.slice.call(arguments,0);return Se.normalize(i(_e,(function(_e,xe){if("string"!=typeof _e)throw new TypeError("Arguments to path.join must be strings");return _e})).join("/"))},Se.relative=function(_e,xe){function r(_e){for(var xe=0;xe<_e.length&&""===_e[xe];xe++);for(var we=_e.length-1;0<=we&&""===_e[we];we--);return we<xe?[]:_e.slice(xe,we-xe+1)}_e=Se.resolve(_e).substr(1),xe=Se.resolve(xe).substr(1);for(var we=r(_e.split("/")),Te=r(xe.split("/")),Me=Math.min(we.length,Te.length),Ye=Me,Ze=0;Ze<Me;Ze++)if(we[Ze]!==Te[Ze]){Ye=Ze;break}var Qe=[];for(Ze=Ye;Ze<we.length;Ze++)Qe.push("..");return(Qe=Qe.concat(Te.slice(Ye))).join("/")},Se.sep="/",Se.delimiter=":",Se.dirname=function(_e){if("string"!=typeof _e&&(_e+=""),0===_e.length)return".";for(var xe=47===_e.charCodeAt(0),we=-1,Se=!0,Te=_e.length-1;1<=Te;--Te)if(47===_e.charCodeAt(Te)){if(!Se){we=Te;break}}else Se=!1;return-1===we?xe?"/":".":xe&&1===we?"/":_e.slice(0,we)},Se.basename=function(_e,xe){_e=function(_e){"string"!=typeof _e&&(_e+="");for(var xe=0,we=-1,Se=!0,Te=_e.length-1;0<=Te;--Te)if(47===_e.charCodeAt(Te)){if(!Se){xe=Te+1;break}}else-1===we&&(Se=!1,we=Te+1);return-1===we?"":_e.slice(xe,we)}(_e);return xe&&_e.substr(-1*xe.length)===xe?_e.substr(0,_e.length-xe.length):_e},Se.extname=function(_e){"string"!=typeof _e&&(_e+="");for(var xe=-1,we=0,Se=-1,Te=!0,Me=0,Ye=_e.length-1;0<=Ye;--Ye){var Ze=_e.charCodeAt(Ye);if(47===Ze){if(Te)continue;we=Ye+1;break}-1===Se&&(Te=!1,Se=Ye+1),46===Ze?-1===xe?xe=Ye:1!==Me&&(Me=1):-1!==xe&&(Me=-1)}return-1===xe||-1===Se||0===Me||1===Me&&xe===Se-1&&xe===we+1?"":_e.slice(xe,Se)};var xe="b"==="ab".substr(-1)?function(_e,xe,we){return _e.substr(xe,we)}:function(_e,xe,we){return xe<0&&(xe=_e.length+xe),_e.substr(xe,we)}}.call(this||_e,xe("_process"))},{_process:251}],251:[function(xe,we,Se){var Te,Me;we=we.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}try{Te="function"==typeof setTimeout?setTimeout:s}catch(xe){Te=s}try{Me="function"==typeof clearTimeout?clearTimeout:i}catch(xe){Me=i}function a(xe){if(Te===setTimeout)return setTimeout(xe,0);if((Te===s||!Te)&&setTimeout)return(Te=setTimeout)(xe,0);try{return Te(xe,0)}catch(we){try{return Te.call(null,xe,0)}catch(we){return Te.call(this||_e,xe,0)}}}var Ye,Ze=[],Qe=!1,Ke=-1;function h(){Qe&&Ye&&(Qe=!1,Ye.length?Ze=Ye.concat(Ze):Ke=-1,Ze.length&&f())}function f(){if(!Qe){for(var xe=a(h),we=(Qe=!0,Ze.length);we;){for(Ye=Ze,Ze=[];++Ke<we;)Ye&&Ye[Ke].run();Ke=-1,we=Ze.length}Ye=null,Qe=!1,!function(xe){if(Me===clearTimeout)return clearTimeout(xe);if((Me===i||!Me)&&clearTimeout)return(Me=clearTimeout)(xe);try{Me(xe)}catch(we){try{return Me.call(null,xe)}catch(we){return Me.call(this||_e,xe)}}}(xe)}}function p(xe,we){(this||_e).fun=xe,(this||_e).array=we}function m(){}we.nextTick=function(_e){var xe=new Array(arguments.length-1);if(1<arguments.length)for(var we=1;we<arguments.length;we++)xe[we-1]=arguments[we];Ze.push(new p(_e,xe)),1!==Ze.length||Qe||a(f)},p.prototype.run=function(){(this||_e).fun.apply(null,(this||_e).array)},we.title="browser",we.browser=!0,we.env={},we.argv=[],we.version="",we.versions={},we.on=m,we.addListener=m,we.once=m,we.off=m,we.removeListener=m,we.removeAllListeners=m,we.emit=m,we.prependListener=m,we.prependOnceListener=m,we.listeners=function(_e){return[]},we.binding=function(_e){throw new Error("process.binding is not supported")},we.cwd=function(){return"/"},we.chdir=function(_e){throw new Error("process.chdir is not supported")},we.umask=function(){return 0}},{}],252:[function(xe,we,Se){we=function(xe){var we,Se=Object.prototype,Te=Se.hasOwnProperty,Me="function"==typeof Symbol?Symbol:{},Ye=Me.iterator||"@@iterator",Ze=Me.asyncIterator||"@@asyncIterator",Qe=Me.toStringTag||"@@toStringTag";function i(_e,xe,Se,Te){var Me,Ye,Ze,Qe;xe=xe&&xe.prototype instanceof y?xe:y,xe=Object.create(xe.prototype),Te=new S(Te||[]);return xe._invoke=(Me=_e,Ye=Se,Ze=Te,Qe=Ke,function(_e,xe){if(Qe===$e)throw new Error("Generator is already running");if(Qe===et){if("throw"===_e)throw xe;return M()}for(Ze.method=_e,Ze.arg=xe;;){var Se=Ze.delegate;if(Se){Se=function e(_e,xe){var Se=_e.iterator[xe.method];if(Se===we){if(xe.delegate=null,"throw"===xe.method){if(_e.iterator.return&&(xe.method="return",xe.arg=we,e(_e,xe),"throw"===xe.method))return tt;xe.method="throw",xe.arg=new TypeError("The iterator does not provide a 'throw' method")}return tt}Se=c(Se,_e.iterator,xe.arg);if("throw"===Se.type)return xe.method="throw",xe.arg=Se.arg,xe.delegate=null,tt;Se=Se.arg;if(!Se)return xe.method="throw",xe.arg=new TypeError("iterator result is not an object"),xe.delegate=null,tt;if(!Se.done)return Se;xe[_e.resultName]=Se.value,xe.next=_e.nextLoc,"return"!==xe.method&&(xe.method="next",xe.arg=we);xe.delegate=null;return tt}(Se,Ze);if(Se){if(Se===tt)continue;return Se}}if("next"===Ze.method)Ze.sent=Ze._sent=Ze.arg;else if("throw"===Ze.method){if(Qe===Ke)throw Qe=et,Ze.arg;Ze.dispatchException(Ze.arg)}else"return"===Ze.method&&Ze.abrupt("return",Ze.arg);Qe=$e;Se=c(Me,Ye,Ze);if("normal"===Se.type){if(Qe=Ze.done?et:Je,Se.arg!==tt)return{value:Se.arg,done:Ze.done}}else"throw"===Se.type&&(Qe=et,Ze.method="throw",Ze.arg=Se.arg)}}),xe}function c(_e,xe,we){try{return{type:"normal",arg:_e.call(xe,we)}}catch(_e){return{type:"throw",arg:_e}}}xe.wrap=i;var Ke="suspendedStart",Je="suspendedYield",$e="executing",et="completed",tt={};function y(){}function a(){}function g(){}Me={};var rt=(Me[Ye]=function(){return this||_e},Object.getPrototypeOf),ot=(rt=rt&&rt(rt(T([]))),rt&&rt!==Se&&Te.call(rt,Ye)&&(Me=rt),g.prototype=y.prototype=Object.create(Me));function j(_e){["next","throw","return"].forEach((function(xe){_e[xe]=function(_e){return this._invoke(xe,_e)}}))}function _(xe){var we;(this||_e)._invoke=function(_e,Se){function e(){return new Promise((function(we,Me){!function t(_e,we,Se,Me){var Ye;_e=c(xe[_e],xe,we);if("throw"!==_e.type)return(we=(Ye=_e.arg).value)&&"object"==typeof we&&Te.call(we,"__await")?Promise.resolve(we.__await).then((function(_e){t("next",_e,Se,Me)}),(function(_e){t("throw",_e,Se,Me)})):Promise.resolve(we).then((function(_e){Ye.value=_e,Se(Ye)}),(function(_e){return t("throw",_e,Se,Me)}));Me(_e.arg)}(_e,Se,we,Me)}))}return we=we?we.then(e,e):e()}}function x(xe){var we={tryLoc:xe[0]};1 in xe&&(we.catchLoc=xe[1]),2 in xe&&(we.finallyLoc=xe[2],we.afterLoc=xe[3]),(this||_e).tryEntries.push(we)}function w(_e){var xe=_e.completion||{};xe.type="normal",delete xe.arg,_e.completion=xe}function S(xe){(this||_e).tryEntries=[{tryLoc:"root"}],xe.forEach(x,this||_e),this.reset(!0)}function T(_e){if(_e){var xe,Se=_e[Ye];if(Se)return Se.call(_e);if("function"==typeof _e.next)return _e;if(!isNaN(_e.length))return xe=-1,(Se=function e(){for(;++xe<_e.length;)if(Te.call(_e,xe))return e.value=_e[xe],e.done=!1,e;return e.value=we,e.done=!0,e}).next=Se}return{next:M}}function M(){return{value:we,done:!0}}return(a.prototype=ot.constructor=g).constructor=a,g[Qe]=a.displayName="GeneratorFunction",xe.isGeneratorFunction=function(_e){_e="function"==typeof _e&&_e.constructor;return!!_e&&(_e===a||"GeneratorFunction"===(_e.displayName||_e.name))},xe.mark=function(_e){return Object.setPrototypeOf?Object.setPrototypeOf(_e,g):(_e.__proto__=g,Qe in _e||(_e[Qe]="GeneratorFunction")),_e.prototype=Object.create(ot),_e},xe.awrap=function(_e){return{__await:_e}},j(_.prototype),_.prototype[Ze]=function(){return this||_e},xe.AsyncIterator=_,xe.async=function(_e,we,Se,Te){var Me=new _(i(_e,we,Se,Te));return xe.isGeneratorFunction(we)?Me:Me.next().then((function(_e){return _e.done?_e.value:Me.next()}))},j(ot),ot[Qe]="Generator",ot[Ye]=function(){return this||_e},ot.toString=function(){return"[object Generator]"},xe.keys=function(_e){var xe,we=[];for(xe in _e)we.push(xe);return we.reverse(),function e(){for(;we.length;){var xe=we.pop();if(xe in _e)return e.value=xe,e.done=!1,e}return e.done=!0,e}},xe.values=T,S.prototype={constructor:S,reset:function(xe){if((this||_e).prev=0,(this||_e).next=0,(this||_e).sent=(this||_e)._sent=we,(this||_e).done=!1,(this||_e).delegate=null,(this||_e).method="next",(this||_e).arg=we,(this||_e).tryEntries.forEach(w),!xe)for(var Se in this||_e)"t"===Se.charAt(0)&&Te.call(this||_e,Se)&&!isNaN(+Se.slice(1))&&((this||_e)[Se]=we)},stop:function(){(this||_e).done=!0;var xe=(this||_e).tryEntries[0].completion;if("throw"===xe.type)throw xe.arg;return(this||_e).rval},dispatchException:function(xe){if((this||_e).done)throw xe;var Se=this||_e;function e(_e,Te){return Ze.type="throw",Ze.arg=xe,Se.next=_e,Te&&(Se.method="next",Se.arg=we),!!Te}for(var Me=(this||_e).tryEntries.length-1;0<=Me;--Me){var Ye=(this||_e).tryEntries[Me],Ze=Ye.completion;if("root"===Ye.tryLoc)return e("end");if(Ye.tryLoc<=(this||_e).prev){var Qe=Te.call(Ye,"catchLoc"),Ke=Te.call(Ye,"finallyLoc");if(Qe&&Ke){if((this||_e).prev<Ye.catchLoc)return e(Ye.catchLoc,!0);if((this||_e).prev<Ye.finallyLoc)return e(Ye.finallyLoc)}else if(Qe){if((this||_e).prev<Ye.catchLoc)return e(Ye.catchLoc,!0)}else{if(!Ke)throw new Error("try statement without catch or finally");if((this||_e).prev<Ye.finallyLoc)return e(Ye.finallyLoc)}}}},abrupt:function(xe,we){for(var Se=(this||_e).tryEntries.length-1;0<=Se;--Se){var Me=(this||_e).tryEntries[Se];if(Me.tryLoc<=(this||_e).prev&&Te.call(Me,"finallyLoc")&&(this||_e).prev<Me.finallyLoc){var Ye=Me;break}}var Ze=(Ye=Ye&&("break"===xe||"continue"===xe)&&Ye.tryLoc<=we&&we<=Ye.finallyLoc?null:Ye)?Ye.completion:{};return Ze.type=xe,Ze.arg=we,Ye?((this||_e).method="next",(this||_e).next=Ye.finallyLoc,tt):this.complete(Ze)},complete:function(xe,we){if("throw"===xe.type)throw xe.arg;return"break"===xe.type||"continue"===xe.type?(this||_e).next=xe.arg:"return"===xe.type?((this||_e).rval=(this||_e).arg=xe.arg,(this||_e).method="return",(this||_e).next="end"):"normal"===xe.type&&we&&((this||_e).next=we),tt},finish:function(xe){for(var we=(this||_e).tryEntries.length-1;0<=we;--we){var Se=(this||_e).tryEntries[we];if(Se.finallyLoc===xe)return this.complete(Se.completion,Se.afterLoc),w(Se),tt}},catch:function(xe){for(var we=(this||_e).tryEntries.length-1;0<=we;--we){var Se,Te,Me=(this||_e).tryEntries[we];if(Me.tryLoc===xe)return"throw"===(Se=Me.completion).type&&(Te=Se.arg,w(Me)),Te}throw new Error("illegal catch attempt")},delegateYield:function(xe,Se,Te){return(this||_e).delegate={iterator:T(xe),resultName:Se,nextLoc:Te},"next"===(this||_e).method&&((this||_e).arg=we),tt}},xe}("object"==typeof we?we.exports:{});try{_e.regeneratorRuntime=we}catch(xe){Function("r","regeneratorRuntime = r")(we)}},{}],253:[function(xe,we,Se){!function(xe){var we,Se,Te,Me,Ye,Ze,Qe,Ke,Je,$e;function d(_e){if("string"!=typeof _e&&(_e=String(_e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(_e))throw new TypeError("Invalid character in header field name");return _e.toLowerCase()}function h(_e){return"string"!=typeof _e?String(_e):_e}function f(_e){var xe={next:function(){var xe=_e.shift();return{done:void 0===xe,value:xe}}};return Se&&(xe[Symbol.iterator]=function(){return xe}),xe}function p(xe){(this||_e).map={},xe instanceof p?xe.forEach((function(_e,xe){this.append(xe,_e)}),this||_e):Array.isArray(xe)?xe.forEach((function(_e){this.append(_e[0],_e[1])}),this||_e):xe&&Object.getOwnPropertyNames(xe).forEach((function(_e){this.append(_e,xe[_e])}),this||_e)}function m(_e){if(_e.bodyUsed)return Promise.reject(new TypeError("Already read"));_e.bodyUsed=!0}function y(_e){return new Promise((function(xe,we){_e.onload=function(){xe(_e.result)},_e.onerror=function(){we(_e.error)}}))}function g(_e){var xe=new FileReader,we=y(xe);return xe.readAsArrayBuffer(_e),we}function v(_e){var xe;return _e.slice?_e.slice(0):((xe=new Uint8Array(_e.byteLength)).set(new Uint8Array(_e)),xe.buffer)}function b(){return(this||_e).bodyUsed=!1,(this||_e)._initBody=function(xe){if((this||_e)._bodyInit=xe)if("string"==typeof xe)(this||_e)._bodyText=xe;else if(Te&&Blob.prototype.isPrototypeOf(xe))(this||_e)._bodyBlob=xe;else if(Me&&FormData.prototype.isPrototypeOf(xe))(this||_e)._bodyFormData=xe;else if(we&&URLSearchParams.prototype.isPrototypeOf(xe))(this||_e)._bodyText=xe.toString();else if(Ye&&Te&&Qe(xe))(this||_e)._bodyArrayBuffer=v(xe.buffer),(this||_e)._bodyInit=new Blob([(this||_e)._bodyArrayBuffer]);else{if(!Ye||!ArrayBuffer.prototype.isPrototypeOf(xe)&&!Ke(xe))throw new Error("unsupported BodyInit type");(this||_e)._bodyArrayBuffer=v(xe)}else(this||_e)._bodyText="";(this||_e).headers.get("content-type")||("string"==typeof xe?(this||_e).headers.set("content-type","text/plain;charset=UTF-8"):(this||_e)._bodyBlob&&(this||_e)._bodyBlob.type?(this||_e).headers.set("content-type",(this||_e)._bodyBlob.type):we&&URLSearchParams.prototype.isPrototypeOf(xe)&&(this||_e).headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Te&&((this||_e).blob=function(){var xe=m(this||_e);if(xe)return xe;if((this||_e)._bodyBlob)return Promise.resolve((this||_e)._bodyBlob);if((this||_e)._bodyArrayBuffer)return Promise.resolve(new Blob([(this||_e)._bodyArrayBuffer]));if((this||_e)._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([(this||_e)._bodyText]))},(this||_e).arrayBuffer=function(){return(this||_e)._bodyArrayBuffer?m(this||_e)||Promise.resolve((this||_e)._bodyArrayBuffer):this.blob().then(g)}),(this||_e).text=function(){var xe,we,Se=m(this||_e);if(Se)return Se;if((this||_e)._bodyBlob)return Se=(this||_e)._bodyBlob,xe=new FileReader,we=y(xe),xe.readAsText(Se),we;if((this||_e)._bodyArrayBuffer)return Promise.resolve(function(_e){for(var xe=new Uint8Array(_e),we=new Array(xe.length),Se=0;Se<xe.length;Se++)we[Se]=String.fromCharCode(xe[Se]);return we.join("")}((this||_e)._bodyArrayBuffer));if((this||_e)._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve((this||_e)._bodyText)},Me&&((this||_e).formData=function(){return this.text().then(_)}),(this||_e).json=function(){return this.text().then(JSON.parse)},this||_e}function j(xe,we){var Se,Te=(we=we||{}).body;if(xe instanceof j){if(xe.bodyUsed)throw new TypeError("Already read");(this||_e).url=xe.url,(this||_e).credentials=xe.credentials,we.headers||((this||_e).headers=new p(xe.headers)),(this||_e).method=xe.method,(this||_e).mode=xe.mode,Te||null==xe._bodyInit||(Te=xe._bodyInit,xe.bodyUsed=!0)}else(this||_e).url=String(xe);if((this||_e).credentials=we.credentials||(this||_e).credentials||"omit",!we.headers&&(this||_e).headers||((this||_e).headers=new p(we.headers)),(this||_e).method=(xe=we.method||(this||_e).method||"GET",Se=xe.toUpperCase(),-1<Je.indexOf(Se)?Se:xe),(this||_e).mode=we.mode||(this||_e).mode||null,(this||_e).referrer=null,("GET"===(this||_e).method||"HEAD"===(this||_e).method)&&Te)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Te)}function _(_e){var xe=new FormData;return _e.trim().split("&").forEach((function(_e){var we;_e&&(we=(_e=_e.split("=")).shift().replace(/\+/g," "),_e=_e.join("=").replace(/\+/g," "),xe.append(decodeURIComponent(we),decodeURIComponent(_e)))})),xe}function x(xe,we){we=we||{},(this||_e).type="default",(this||_e).status=void 0===we.status?200:we.status,(this||_e).ok=200<=(this||_e).status&&(this||_e).status<300,(this||_e).statusText="statusText"in we?we.statusText:"OK",(this||_e).headers=new p(we.headers),(this||_e).url=we.url||"",this._initBody(xe)}xe.fetch||(we="URLSearchParams"in xe,Se="Symbol"in xe&&"iterator"in Symbol,Te="FileReader"in xe&&"Blob"in xe&&function(){try{return new Blob,!0}catch(_e){return!1}}(),Me="FormData"in xe,(Ye="ArrayBuffer"in xe)&&(Ze=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Qe=function(_e){return _e&&DataView.prototype.isPrototypeOf(_e)},Ke=ArrayBuffer.isView||function(_e){return _e&&-1<Ze.indexOf(Object.prototype.toString.call(_e))}),p.prototype.append=function(xe,we){xe=d(xe),we=h(we);var Se=(this||_e).map[xe];(this||_e).map[xe]=Se?Se+","+we:we},p.prototype.delete=function(xe){delete(this||_e).map[d(xe)]},p.prototype.get=function(xe){return xe=d(xe),this.has(xe)?(this||_e).map[xe]:null},p.prototype.has=function(xe){return(this||_e).map.hasOwnProperty(d(xe))},p.prototype.set=function(xe,we){(this||_e).map[d(xe)]=h(we)},p.prototype.forEach=function(xe,we){for(var Se in(this||_e).map)(this||_e).map.hasOwnProperty(Se)&&xe.call(we,(this||_e).map[Se],Se,this||_e)},p.prototype.keys=function(){var _e=[];return this.forEach((function(xe,we){_e.push(we)})),f(_e)},p.prototype.values=function(){var _e=[];return this.forEach((function(xe){_e.push(xe)})),f(_e)},p.prototype.entries=function(){var _e=[];return this.forEach((function(xe,we){_e.push([we,xe])})),f(_e)},Se&&(p.prototype[Symbol.iterator]=p.prototype.entries),Je=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],j.prototype.clone=function(){return new j(this||_e,{body:(this||_e)._bodyInit})},b.call(j.prototype),b.call(x.prototype),x.prototype.clone=function(){return new x((this||_e)._bodyInit,{status:(this||_e).status,statusText:(this||_e).statusText,headers:new p((this||_e).headers),url:(this||_e).url})},x.error=function(){var _e=new x(null,{status:0,statusText:""});return _e.type="error",_e},$e=[301,302,303,307,308],x.redirect=function(_e,xe){if(-1===$e.indexOf(xe))throw new RangeError("Invalid status code");return new x(null,{status:xe,headers:{location:_e}})},xe.Headers=p,xe.Request=j,xe.Response=x,xe.fetch=function(_e,xe){return new Promise((function(we,Se){var Me=new j(_e,xe),Ye=new XMLHttpRequest;Ye.onload=function(){var _e,xe={status:Ye.status,statusText:Ye.statusText,headers:(xe=Ye.getAllResponseHeaders()||"",_e=new p,xe.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(xe){xe=xe.split(":");var we=xe.shift().trim();we&&(xe=xe.join(":").trim(),_e.append(we,xe))})),_e)},Se=(xe.url="responseURL"in Ye?Ye.responseURL:xe.headers.get("X-Request-URL"),"response"in Ye?Ye.response:Ye.responseText);we(new x(Se,xe))},Ye.onerror=function(){Se(new TypeError("Network request failed"))},Ye.ontimeout=function(){Se(new TypeError("Network request failed"))},Ye.open(Me.method,Me.url,!0),"include"===Me.credentials?Ye.withCredentials=!0:"omit"===Me.credentials&&(Ye.withCredentials=!1),"responseType"in Ye&&Te&&(Ye.responseType="blob"),Me.headers.forEach((function(_e,xe){Ye.setRequestHeader(xe,_e)})),Ye.send(void 0===Me._bodyInit?null:Me._bodyInit)}))},xe.fetch.polyfill=!0)}("undefined"!=typeof self?self:this||_e)},{}],254:[function(_e,xe,we){_e("core-js/modules/es.function.name"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.exec"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.split"),_e("core-js/modules/es.function.name"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.exec"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.split"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se,Te=n(_e("../core/main")),Me=n(_e("../color/color_conversion"));function n(_e){return _e&&_e.__esModule?_e:{default:_e}}var Ye=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],Ze=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];Te.default.prototype._rgbColorName=function(_e){_e=Me.default._rgbaToHSBA(_e);var xe,we,Te=[(Se=_e)[0],_e[1],_e[2]];0!==Te[0]&&(Te[0]=Math.round(100*Te[0]),(_e=Te[0].toString().split(""))[we=_e.length-1]=parseInt(_e[we]),_e[we]<2.5?_e[we]=0:2.5<=_e[we]&&_e[we]<7.5&&(_e[we]=5),2===_e.length?(_e[0]=parseInt(_e[0]),7.5<=_e[we]&&(_e[we]=0,_e[0]=_e[0]+1),Te[0]=10*_e[0]+_e[1]):7.5<=_e[we]?Te[0]=10:Te[0]=_e[we]),Te[2]=Te[2]/255;for(var Qe=Te.length-1;1<=Qe;Qe--)Te[Qe]<=.25?Te[Qe]=0:.25<Te[Qe]&&Te[Qe]<.75?Te[Qe]=.5:Te[Qe]=1;if(0===Te[0]&&0===Te[1]&&1===Te[2]){for(var Ke=2;0<=Ke;Ke--)Se[Ke]=Math.round(1e4*Se[Ke])/1e4;for(var Je=0;Je<Ye.length;Je++){if(Ye[Je].h===Se[0]&&Ye[Je].s===Se[1]&&Ye[Je].b===Se[2]){xe=Ye[Je].name;break}xe="white"}}else for(var $e=0;$e<Ze.length;$e++)if(Ze[$e].h===Te[0]&&Ze[$e].s===Te[1]&&Ze[$e].b===Te[2]){xe=Ze[$e].name;break}return xe};_e=Te.default;we.default=_e},{"../color/color_conversion":260,"../core/main":275,"core-js/modules/es.function.name":168,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198}],255:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.ends-with"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.ends-with"),xe("core-js/modules/es.string.replace"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};var Me="_Description",Ye="_fallbackDesc",Ze="_fallbackTable",Qe="_Label",Ke="_labelDesc",Je="_labelTable";function h(_e){if("label"===_e||"fallback"===_e)throw new Error("description should not be LABEL or FALLBACK");return _e.endsWith(".")||_e.endsWith(";")||_e.endsWith(",")||_e.endsWith("?")||_e.endsWith("!")||(_e+="."),_e}Te.default.prototype.describe=function(xe,we){var Se;Te.default._validateParameters("describe",arguments),"string"==typeof xe&&(Se=(this||_e).canvas.id,xe=h(xe),(this||_e).dummyDOM||((this||_e).dummyDOM=document.getElementById(Se).parentNode),(this||_e).descriptions||((this||_e).descriptions={}),(this||_e).descriptions.fallback?(this||_e).descriptions.fallback.innerHTML!==xe&&((this||_e).descriptions.fallback.innerHTML=xe):this._describeHTML("fallback",xe),we===(this||_e).LABEL&&((this||_e).descriptions.label?(this||_e).descriptions.label.innerHTML!==xe&&((this||_e).descriptions.label.innerHTML=xe):this._describeHTML("label",xe)))},Te.default.prototype.describeElement=function(xe,we,Se){var Me,Ye;Te.default._validateParameters("describeElement",arguments),"string"==typeof we&&"string"==typeof xe&&(Me=(this||_e).canvas.id,we=h(we),Ye=function(_e){if("label"===_e||"fallback"===_e)throw new Error("element name should not be LABEL or FALLBACK");_e.endsWith(".")||_e.endsWith(";")||_e.endsWith(",")?_e=_e.replace(/.$/,":"):_e.endsWith(":")||(_e+=":");return _e}(xe),xe=xe.replace(/[^a-zA-Z0-9]/g,""),Ye='<th scope="row">'.concat(Ye,"</th><td>").concat(we,"</td>"),(this||_e).dummyDOM||((this||_e).dummyDOM=document.getElementById(Me).parentNode),(this||_e).descriptions?(this||_e).descriptions.fallbackElements||((this||_e).descriptions.fallbackElements={}):(this||_e).descriptions={fallbackElements:{}},(this||_e).descriptions.fallbackElements[xe]?(this||_e).descriptions.fallbackElements[xe].innerHTML!==Ye&&((this||_e).descriptions.fallbackElements[xe].innerHTML=Ye):this._describeElementHTML("fallback",xe,Ye),Se===(this||_e).LABEL&&((this||_e).descriptions.labelElements||((this||_e).descriptions.labelElements={}),(this||_e).descriptions.labelElements[xe]?(this||_e).descriptions.labelElements[xe].innerHTML!==Ye&&((this||_e).descriptions.labelElements[xe].innerHTML=Ye):this._describeElementHTML("label",xe,Ye)))},Te.default.prototype._describeHTML=function(xe,we){var Se,Te=(this||_e).canvas.id;"fallback"===xe?((this||_e).dummyDOM.querySelector("#".concat(Te+Me))?(this||_e).dummyDOM.querySelector("#"+Te+Ze).insertAdjacentHTML("beforebegin",'<p id="'.concat(Te+Ye,'"></p>')):(Se='<div id="'.concat(Te).concat(Me,'" role="region" aria-label="Canvas Description"><p id="').concat(Te).concat(Ye,'"></p></div>'),(this||_e).dummyDOM.querySelector("#".concat(Te,"accessibleOutput"))?(this||_e).dummyDOM.querySelector("#".concat(Te,"accessibleOutput")).insertAdjacentHTML("beforebegin",Se):(this||_e).dummyDOM.querySelector("#".concat(Te)).innerHTML=Se),(this||_e).descriptions.fallback=(this||_e).dummyDOM.querySelector("#".concat(Te).concat(Ye)),(this||_e).descriptions.fallback.innerHTML=we):"label"===xe&&((this||_e).dummyDOM.querySelector("#".concat(Te+Qe))?(this||_e).dummyDOM.querySelector("#".concat(Te+Je))&&(this||_e).dummyDOM.querySelector("#".concat(Te+Je)).insertAdjacentHTML("beforebegin",'<p id="'.concat(Te).concat(Ke,'"></p>')):(Se='<div id="'.concat(Te).concat(Qe,'" class="p5Label"><p id="').concat(Te).concat(Ke,'"></p></div>'),(this||_e).dummyDOM.querySelector("#".concat(Te,"accessibleOutputLabel"))?(this||_e).dummyDOM.querySelector("#".concat(Te,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",Se):(this||_e).dummyDOM.querySelector("#"+Te).insertAdjacentHTML("afterend",Se)),(this||_e).descriptions.label=(this||_e).dummyDOM.querySelector("#"+Te+Ke),(this||_e).descriptions.label.innerHTML=we)},Te.default.prototype._describeElementHTML=function(xe,we,Se){var Te,$e=(this||_e).canvas.id;"fallback"===xe?((this||_e).dummyDOM.querySelector("#".concat($e+Me))?(this||_e).dummyDOM.querySelector("#"+$e+Ze)||(this||_e).dummyDOM.querySelector("#"+$e+Ye).insertAdjacentHTML("afterend",'<table id="'.concat($e).concat(Ze,'"><caption>Canvas elements and their descriptions</caption></table>')):(Te='<div id="'.concat($e).concat(Me,'" role="region" aria-label="Canvas Description"><table id="').concat($e).concat(Ze,'"><caption>Canvas elements and their descriptions</caption></table></div>'),(this||_e).dummyDOM.querySelector("#".concat($e,"accessibleOutput"))?(this||_e).dummyDOM.querySelector("#".concat($e,"accessibleOutput")).insertAdjacentHTML("beforebegin",Te):(this||_e).dummyDOM.querySelector("#"+$e).innerHTML=Te),(Te=document.createElement("tr")).id=$e+"_fte_"+we,(this||_e).dummyDOM.querySelector("#"+$e+Ze).appendChild(Te),(this||_e).descriptions.fallbackElements[we]=(this||_e).dummyDOM.querySelector("#".concat($e).concat("_fte_").concat(we)),(this||_e).descriptions.fallbackElements[we].innerHTML=Se):"label"===xe&&((this||_e).dummyDOM.querySelector("#".concat($e+Qe))?(this||_e).dummyDOM.querySelector("#".concat($e+Je))||(this||_e).dummyDOM.querySelector("#"+$e+Ke).insertAdjacentHTML("afterend",'<table id="'.concat($e+Je,'"></table>')):(Te='<div id="'.concat($e).concat(Qe,'" class="p5Label"><table id="').concat($e).concat(Je,'"></table></div>'),(this||_e).dummyDOM.querySelector("#".concat($e,"accessibleOutputLabel"))?(this||_e).dummyDOM.querySelector("#".concat($e,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",Te):(this||_e).dummyDOM.querySelector("#"+$e).insertAdjacentHTML("afterend",Te)),(xe=document.createElement("tr")).id=$e+"_lte_"+we,(this||_e).dummyDOM.querySelector("#"+$e+Je).appendChild(xe),(this||_e).descriptions.labelElements[we]=(this||_e).dummyDOM.querySelector("#".concat($e).concat("_lte_").concat(we)),(this||_e).descriptions.labelElements[we].innerHTML=Se)};xe=Te.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.replace":196}],256:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.string.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype._updateGridOutput=function(xe){var we,Se,Te,Me;(this||_e).dummyDOM.querySelector("#".concat(xe,"_summary"))&&(we=(this||_e)._accessibleOutputs[xe],Te=function(_e,xe,we,Se){xe="".concat(xe," canvas, ").concat(we," by ").concat(Se," pixels, contains ").concat(_e[0]);xe=(1===_e[0]?"".concat(xe," shape: "):"".concat(xe," shapes: ")).concat(_e[1]);return xe}((Se=function(_e,xe){var we,Se="",Te="",Me=0;for(we in xe){var Ye,Ze=0;for(Ye in xe[we]){var Qe='<li id="'.concat(_e,"shape").concat(Me,'">').concat(xe[we][Ye].color," ").concat(we,",");"line"===we?Qe+=" location = ".concat(xe[we][Ye].pos,", length = ").concat(xe[we][Ye].length," pixels"):(Qe+=" location = ".concat(xe[we][Ye].pos),"point"!==we&&(Qe+=", area = ".concat(xe[we][Ye].area," %")),Qe+="</li>"),Se+=Qe,Ze++,Me++}Te=1<Ze?"".concat(Te," ").concat(Ze," ").concat(we,"s"):"".concat(Te," ").concat(Ze," ").concat(we)}return{numShapes:[Me,Te],details:Se}}(xe,(this||_e).ingredients.shapes)).numShapes,(this||_e).ingredients.colors.background,(this||_e).width,(this||_e).height),Me=function(_e,xe){var we,Se,Te=0,Me="",Ye=Array.from(Array(10),(function(){return Array(10)}));for(we in xe)for(var Ze in xe[we]){var Qe=void 0;Qe="line"!==we?'<a href="#'.concat(_e,"shape").concat(Te,'">').concat(xe[we][Ze].color," ").concat(we,"</a>"):'<a href="#'.concat(_e,"shape").concat(Te,'">').concat(xe[we][Ze].color," ").concat(we," midpoint</a>"),Ye[xe[we][Ze].loc.locY][xe[we][Ze].loc.locX]?Ye[xe[we][Ze].loc.locY][xe[we][Ze].loc.locX]=Ye[xe[we][Ze].loc.locY][xe[we][Ze].loc.locX]+"  "+Qe:Ye[xe[we][Ze].loc.locY][xe[we][Ze].loc.locX]=Qe,Te++}for(Se in Ye){var Ke,Je="<tr>";for(Ke in Ye[Se])Je+="<td>",void 0!==Ye[Se][Ke]&&(Je+=Ye[Se][Ke]),Je+="</td>";Me=Me+Je+"</tr>"}return Me}(xe,(this||_e).ingredients.shapes),Te!==we.summary.innerHTML&&(we.summary.innerHTML=Te),Me!==we.map.innerHTML&&(we.map.innerHTML=Me),Se.details!==we.shapeDetails.innerHTML&&(we.shapeDetails.innerHTML=Se.details),(this||_e)._accessibleOutputs[xe]=we)};xe=xe.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":158,"core-js/modules/es.array.map":164,"core-js/modules/es.string.iterator":192}],257:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.number.to-fixed"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function l(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(_e,xe,we){xe=Math.floor(_e[0]/xe*10),_e=Math.floor(_e[1]/we*10);return 10===xe&&(xe-=1),10===_e&&(_e-=1),{locX:xe,locY:_e}}Te.default.prototype.textOutput=function(xe){Te.default._validateParameters("textOutput",arguments),(this||_e)._accessibleOutputs.text||((this||_e)._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),xe===(this||_e).LABEL&&((this||_e)._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},Te.default.prototype.gridOutput=function(xe){Te.default._validateParameters("gridOutput",arguments),(this||_e)._accessibleOutputs.grid||((this||_e)._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),xe===(this||_e).LABEL&&((this||_e)._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},Te.default.prototype._addAccsOutput=function(){return(this||_e)._accessibleOutputs||((this||_e)._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),(this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text},Te.default.prototype._createOutput=function(xe,we){var Se,Te,Me,Ye=(this||_e).canvas.id,Ze=((this||_e).ingredients||((this||_e).ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),(this||_e).dummyDOM||((this||_e).dummyDOM=document.getElementById(Ye).parentNode),"");"Fallback"===we?(Se=Ye+xe,(this||_e).dummyDOM.querySelector("#".concat(Te=Ye+"accessibleOutput"))||((this||_e).dummyDOM.querySelector("#".concat(Ye,"_Description"))?(this||_e).dummyDOM.querySelector("#".concat(Ye,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(Te,'" role="region" aria-label="Canvas Outputs"></div>')):(this||_e).dummyDOM.querySelector("#".concat(Ye)).innerHTML='<div id="'.concat(Te,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===we&&(Se=Ye+xe+(Ze=we),(this||_e).dummyDOM.querySelector("#".concat(Te=Ye+"accessibleOutput"+we))||((this||_e).dummyDOM.querySelector("#".concat(Ye,"_Label"))?(this||_e).dummyDOM.querySelector("#".concat(Ye,"_Label")):(this||_e).dummyDOM.querySelector("#".concat(Ye))).insertAdjacentHTML("afterend",'<div id="'.concat(Te,'"></div>'))),(this||_e)._accessibleOutputs[Se]={},"textOutput"===xe?(Ze="#".concat(Ye,"gridOutput").concat(Ze),Me='<div id="'.concat(Se,'">Text Output<div id="').concat(Se,'Summary" aria-label="text output summary"><p id="').concat(Se,'_summary"></p><ul id="').concat(Se,'_list"></ul></div><table id="').concat(Se,'_shapeDetails" summary="text output shape details"></table></div>'),(this||_e).dummyDOM.querySelector(Ze)?(this||_e).dummyDOM.querySelector(Ze).insertAdjacentHTML("beforebegin",Me):(this||_e).dummyDOM.querySelector("#".concat(Te)).innerHTML=Me,(this||_e)._accessibleOutputs[Se].list=(this||_e).dummyDOM.querySelector("#".concat(Se,"_list"))):"gridOutput"===xe&&(Ze="#".concat(Ye,"textOutput").concat(Ze),Me='<div id="'.concat(Se,'">Grid Output<p id="').concat(Se,'_summary" aria-label="grid output summary"><table id="').concat(Se,'_map" summary="grid output content"></table><ul id="').concat(Se,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),(this||_e).dummyDOM.querySelector(Ze)?(this||_e).dummyDOM.querySelector(Ze).insertAdjacentHTML("afterend",Me):(this||_e).dummyDOM.querySelector("#".concat(Te)).innerHTML=Me,(this||_e)._accessibleOutputs[Se].map=(this||_e).dummyDOM.querySelector("#".concat(Se,"_map"))),(this||_e)._accessibleOutputs[Se].shapeDetails=(this||_e).dummyDOM.querySelector("#".concat(Se,"_shapeDetails")),(this||_e)._accessibleOutputs[Se].summary=(this||_e).dummyDOM.querySelector("#".concat(Se,"_summary"))},Te.default.prototype._updateAccsOutput=function(){var xe=(this||_e).canvas.id;JSON.stringify((this||_e).ingredients.shapes)!==(this||_e).ingredients.pShapes&&((this||_e).ingredients.pShapes=JSON.stringify((this||_e).ingredients.shapes),(this||_e)._accessibleOutputs.text&&this._updateTextOutput(xe+"textOutput"),(this||_e)._accessibleOutputs.grid&&this._updateGridOutput(xe+"gridOutput"),(this||_e)._accessibleOutputs.textLabel&&this._updateTextOutput(xe+"textOutputLabel"),(this||_e)._accessibleOutputs.gridLabel&&this._updateGridOutput(xe+"gridOutputLabel"))},Te.default.prototype._accsBackground=function(xe){(this||_e).ingredients.pShapes=JSON.stringify((this||_e).ingredients.shapes),(this||_e).ingredients.shapes={},(this||_e).ingredients.colors.backgroundRGBA!==xe&&((this||_e).ingredients.colors.backgroundRGBA=xe,(this||_e).ingredients.colors.background=this._rgbColorName(xe))},Te.default.prototype._accsCanvasColors=function(xe,we){"fill"===xe?(this||_e).ingredients.colors.fillRGBA!==we&&((this||_e).ingredients.colors.fillRGBA=we,(this||_e).ingredients.colors.fill=this._rgbColorName(we)):"stroke"===xe&&(this||_e).ingredients.colors.strokeRGBA!==we&&((this||_e).ingredients.colors.strokeRGBA=we,(this||_e).ingredients.colors.stroke=this._rgbColorName(we))},Te.default.prototype._accsOutput=function(xe,we){"ellipse"===xe&&we[2]===we[3]?xe="circle":"rectangle"===xe&&we[2]===we[3]&&(xe="square");var Se,Te,Me={},Ye=!0,Ze=function(_e,xe){var we;_e="rectangle"===_e||"ellipse"===_e||"arc"===_e||"circle"===_e||"square"===_e?(we=Math.round(xe[0]+xe[2]/2),Math.round(xe[1]+xe[3]/2)):"triangle"===_e?(we=(xe[0]+xe[2]+xe[4])/3,(xe[1]+xe[3]+xe[5])/3):"quadrilateral"===_e?(we=(xe[0]+xe[2]+xe[4]+xe[6])/4,(xe[1]+xe[3]+xe[5]+xe[7])/4):"line"===_e?(we=(xe[0]+xe[2])/2,(xe[1]+xe[3])/2):(we=xe[0],xe[1]);return[we,_e]}(xe,we);if("line"===xe?(Me.color=(this||_e).ingredients.colors.stroke,Me.length=Math.round(this.dist(we[0],we[1],we[2],we[3])),Se=this._getPos(we[0],[1]),Te=this._getPos(we[2],[3]),Me.loc=u(Ze,(this||_e).width,(this||_e).height),Me.pos=Se===Te?"at ".concat(Se):"from ".concat(Se," to ").concat(Te)):("point"===xe?Me.color=(this||_e).ingredients.colors.stroke:(Me.color=(this||_e).ingredients.colors.fill,Me.area=this._getArea(xe,we)),Me.pos=(this||_e)._getPos.apply(this||_e,l(Ze)),Me.loc=u(Ze,(this||_e).width,(this||_e).height)),(this||_e).ingredients.shapes[xe]){if((this||_e).ingredients.shapes[xe]!==[Me]){for(var Qe in(this||_e).ingredients.shapes[xe])JSON.stringify((this||_e).ingredients.shapes[xe][Qe])===JSON.stringify(Me)&&(Ye=!1);!0===Ye&&(this||_e).ingredients.shapes[xe].push(Me)}}else(this||_e).ingredients.shapes[xe]=[Me]},Te.default.prototype._getPos=function(xe,we){xe=new DOMPointReadOnly(xe,we),we=(this||_e)._renderer.isP3D?new DOMMatrix((this||_e)._renderer.uMVMatrix.mat4):(this||_e).drawingContext.getTransform(),xe=xe.matrixTransform(we),we=xe.x,xe=xe.y;var Se=(this||_e).width,Te=(this||_e).height;return we<.4*Se?xe<.4*Te?"top left":.6*Te<xe?"bottom left":"mid left":.6*Se<we?xe<.4*Te?"top right":.6*Te<xe?"bottom right":"mid right":xe<.4*Te?"top middle":.6*Te<xe?"bottom middle":"middle"},Te.default.prototype._getArea=function(xe,we){var Se,Te,Me=0,Ye=("arc"===xe?(Me=(Se=((we[5]-we[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*we[2]*we[3]/8,"open"!==we[6]&&"chord"!==we[6]||(Te=we[0],Je=we[1],Ye=we[0]+we[2]/2*Math.cos(we[4]).toFixed(2),$e=we[1]+we[3]/2*Math.sin(we[4]).toFixed(2),Qe=we[0]+we[2]/2*Math.cos(we[5]).toFixed(2),Ze=we[1]+we[3]/2*Math.sin(we[5]).toFixed(2),Te=Math.abs(Te*($e-Ze)+Ye*(Ze-Je)+Qe*(Je-$e))/2,Se>Math.PI?Me+=Te:Me-=Te)):"ellipse"===xe||"circle"===xe?Me=3.14*we[2]/2*we[3]/2:"line"===xe||"point"===xe?Me=0:"quadrilateral"===xe?Me=Math.abs((we[6]+we[0])*(we[7]-we[1])+(we[0]+we[2])*(we[1]-we[3])+(we[2]+we[4])*(we[3]-we[5])+(we[4]+we[6])*(we[5]-we[7]))/2:"rectangle"===xe||"square"===xe?Me=we[2]*we[3]:"triangle"===xe&&(Me=Math.abs(we[0]*(we[3]-we[5])+we[2]*(we[5]-we[1])+we[4]*(we[1]-we[3]))/2),(this||_e).width*(this||_e)._pixelDensity),Ze=(this||_e).height*(this||_e)._pixelDensity,Qe=[new DOMPoint(0,0),new DOMPoint(Ye,0),new DOMPoint(Ye,Ze),new DOMPoint(0,Ze)],Ke=((this||_e)._renderer.isP3D?new DOMMatrix((this||_e)._renderer.uMVMatrix.mat4):(this||_e).drawingContext.getTransform()).inverse(),Je=Qe.map((function(_e){return _e.matrixTransform(Ke)})),$e=Math.abs((Je[3].x+Je[0].x)*(Je[3].y-Je[0].y)+(Je[0].x+Je[1].x)*(Je[0].y-Je[1].y)+(Je[1].x+Je[2].x)*(Je[1].y-Je[2].y)+(Je[2].x+Je[3].x)*(Je[2].y-Je[3].y))/2;return Math.round(100*Me/$e)};xe=Te.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],258:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.concat"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype._updateTextOutput=function(xe){var we,Se,Te,Me;(this||_e).dummyDOM.querySelector("#".concat(xe,"_summary"))&&(we=(this||_e)._accessibleOutputs[xe],Te=function(_e,xe,we,Se){we="Your output is a, ".concat(we," by ").concat(Se," pixels, ").concat(xe," canvas containing the following");we=1===_e?"".concat(we," shape:"):"".concat(we," ").concat(_e," shapes:");return we}((Se=function(_e,xe){var we,Se="",Te=0;for(we in xe)for(var Me in xe[we]){var Ye='<li><a href="#'.concat(_e,"shape").concat(Te,'">').concat(xe[we][Me].color," ").concat(we,"</a>");"line"===we?Ye+=", ".concat(xe[we][Me].pos,", ").concat(xe[we][Me].length," pixels long.</li>"):(Ye+=", at ".concat(xe[we][Me].pos),"point"!==we&&(Ye+=", covering ".concat(xe[we][Me].area,"% of the canvas")),Ye+=".</li>"),Se+=Ye,Te++}return{numShapes:Te,listShapes:Se}}(xe,(this||_e).ingredients.shapes)).numShapes,(this||_e).ingredients.colors.background,(this||_e).width,(this||_e).height),Me=function(_e,xe){var we,Se="",Te=0;for(we in xe)for(var Me in xe[we]){var Ye='<tr id="'.concat(_e,"shape").concat(Te,'"><th>').concat(xe[we][Me].color," ").concat(we,"</th>");"line"===we?Ye+="<td>location = ".concat(xe[we][Me].pos,"</td><td>length = ").concat(xe[we][Me].length," pixels</td></tr>"):(Ye+="<td>location = ".concat(xe[we][Me].pos,"</td>"),"point"!==we&&(Ye+="<td> area = ".concat(xe[we][Me].area,"%</td>")),Ye+="</tr>"),Se+=Ye,Te++}return Se}(xe,(this||_e).ingredients.shapes),Te!==we.summary.innerHTML&&(we.summary.innerHTML=Te),Se.listShapes!==we.list.innerHTML&&(we.list.innerHTML=Se.listShapes),Me!==we.shapeDetails.innerHTML&&(we.shapeDetails.innerHTML=Me),(this||_e)._accessibleOutputs[xe]=we)};xe=xe.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.concat":151}],259:[function(_e,xe,we){var Se=(Se=_e("./core/main"))&&Se.__esModule?Se:{default:Se};_e("./core/constants"),_e("./core/environment"),_e("./core/friendly_errors/stacktrace"),_e("./core/friendly_errors/validate_params"),_e("./core/friendly_errors/file_errors"),_e("./core/friendly_errors/fes_core"),_e("./core/friendly_errors/sketch_reader"),_e("./core/helpers"),_e("./core/legacy"),_e("./core/preload"),_e("./core/p5.Element"),_e("./core/p5.Graphics"),_e("./core/p5.Renderer"),_e("./core/p5.Renderer2D"),_e("./core/rendering"),_e("./core/shim"),_e("./core/structure"),_e("./core/transform"),_e("./core/shape/2d_primitives"),_e("./core/shape/attributes"),_e("./core/shape/curves"),_e("./core/shape/vertex"),_e("./accessibility/outputs"),_e("./accessibility/textOutput"),_e("./accessibility/gridOutput"),_e("./accessibility/color_namer"),_e("./color/color_conversion"),_e("./color/creating_reading"),_e("./color/p5.Color"),_e("./color/setting"),_e("./data/p5.TypedDict"),_e("./data/local_storage.js"),_e("./dom/dom"),_e("./accessibility/describe"),_e("./events/acceleration"),_e("./events/keyboard"),_e("./events/mouse"),_e("./events/touch"),_e("./image/filters"),_e("./image/image"),_e("./image/loading_displaying"),_e("./image/p5.Image"),_e("./image/pixels"),_e("./io/files"),_e("./io/p5.Table"),_e("./io/p5.TableRow"),_e("./io/p5.XML"),_e("./math/calculation"),_e("./math/math"),_e("./math/noise"),_e("./math/p5.Vector"),_e("./math/random"),_e("./math/trigonometry"),_e("./typography/attributes"),_e("./typography/loading_displaying"),_e("./typography/p5.Font"),_e("./utilities/array_functions"),_e("./utilities/conversion"),_e("./utilities/string_functions"),_e("./utilities/time_date"),_e("./webgl/3d_primitives"),_e("./webgl/interaction"),_e("./webgl/light"),_e("./webgl/loading"),_e("./webgl/material"),_e("./webgl/p5.Camera"),_e("./webgl/p5.DataArray"),_e("./webgl/p5.Geometry"),_e("./webgl/p5.Matrix"),_e("./webgl/p5.RendererGL.Immediate"),_e("./webgl/p5.RendererGL"),_e("./webgl/p5.RendererGL.Retained"),_e("./webgl/p5.Framebuffer"),_e("./webgl/p5.Shader"),_e("./webgl/p5.RenderBuffer"),_e("./webgl/p5.Texture"),_e("./webgl/text"),_e("./core/init"),xe.exports=Se.default},{"./accessibility/color_namer":254,"./accessibility/describe":255,"./accessibility/gridOutput":256,"./accessibility/outputs":257,"./accessibility/textOutput":258,"./color/color_conversion":260,"./color/creating_reading":261,"./color/p5.Color":262,"./color/setting":263,"./core/constants":264,"./core/environment":265,"./core/friendly_errors/fes_core":266,"./core/friendly_errors/file_errors":267,"./core/friendly_errors/sketch_reader":268,"./core/friendly_errors/stacktrace":269,"./core/friendly_errors/validate_params":270,"./core/helpers":271,"./core/init":272,"./core/legacy":274,"./core/main":275,"./core/p5.Element":276,"./core/p5.Graphics":277,"./core/p5.Renderer":278,"./core/p5.Renderer2D":279,"./core/preload":280,"./core/rendering":281,"./core/shape/2d_primitives":282,"./core/shape/attributes":283,"./core/shape/curves":284,"./core/shape/vertex":285,"./core/shim":286,"./core/structure":287,"./core/transform":288,"./data/local_storage.js":289,"./data/p5.TypedDict":290,"./dom/dom":291,"./events/acceleration":292,"./events/keyboard":293,"./events/mouse":294,"./events/touch":295,"./image/filters":296,"./image/image":297,"./image/loading_displaying":298,"./image/p5.Image":299,"./image/pixels":300,"./io/files":301,"./io/p5.Table":302,"./io/p5.TableRow":303,"./io/p5.XML":304,"./math/calculation":305,"./math/math":306,"./math/noise":307,"./math/p5.Vector":308,"./math/random":309,"./math/trigonometry":310,"./typography/attributes":311,"./typography/loading_displaying":312,"./typography/p5.Font":313,"./utilities/array_functions":314,"./utilities/conversion":315,"./utilities/string_functions":316,"./utilities/time_date":317,"./webgl/3d_primitives":318,"./webgl/interaction":320,"./webgl/light":321,"./webgl/loading":322,"./webgl/material":323,"./webgl/p5.Camera":324,"./webgl/p5.DataArray":325,"./webgl/p5.Framebuffer":326,"./webgl/p5.Geometry":327,"./webgl/p5.Matrix":328,"./webgl/p5.RenderBuffer":329,"./webgl/p5.RendererGL":332,"./webgl/p5.RendererGL.Immediate":330,"./webgl/p5.RendererGL.Retained":331,"./webgl/p5.Shader":333,"./webgl/p5.Texture":334,"./webgl/text":335}],260:[function(_e,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;_e=(_e=_e("../core/main"))&&_e.__esModule?_e:{default:_e};_e.default.ColorConversion={_hsbaToHSLA:function(_e){var xe=_e[0],we=_e[1],Se=_e[2],Te=(2-we)*Se/2;return 0!=Te&&(1==Te?we=0:Te<.5?we/=2-we:we=we*Se/(2-2*Te)),[xe,we,Te,_e[3]]},_hsbaToRGBA:function(_e){var xe,we,Se,Te,Me,Ye=6*_e[0],Ze=_e[1],Qe=_e[2];return 0===Ze?[Qe,Qe,Qe,_e[3]]:(we=Qe*(1-Ze),Se=Qe*(1-Ze*(Ye-(xe=Math.floor(Ye)))),Ze=Qe*(1-Ze*(1+xe-Ye)),Ye=1===xe?(Te=Se,Me=Qe,we):2===xe?(Te=we,Me=Qe,Ze):3===xe?(Te=we,Me=Se,Qe):4===xe?(Te=Ze,Me=we,Qe):5===xe?(Te=Qe,Me=we,Se):(Te=Qe,Me=Ze,we),[Te,Me,Ye,_e[3]])},_hslaToHSBA:function(_e){var xe=_e[0],we=_e[1],Se=_e[2],Te=Se<.5?(1+we)*Se:Se+we-Se*we;return[xe,we=2*(Te-Se)/Te,Te,_e[3]]},_hslaToRGBA:function(_e){var xe,we=6*_e[0],Se=_e[1],Te=_e[2];return 0===Se?[Te,Te,Te,_e[3]]:[(xe=function(_e,xe,we){return _e<0?_e+=6:6<=_e&&(_e-=6),_e<1?xe+(we-xe)*_e:_e<3?we:_e<4?xe+(we-xe)*(4-_e):xe})(2+we,Se=2*Te-(Te=Te<.5?(1+Se)*Te:Te+Se-Te*Se),Te),xe(we,Se,Te),xe(we-2,Se,Te),_e[3]]},_rgbaToHSBA:function(_e){var xe,we,Se=_e[0],Te=_e[1],Me=_e[2],Ye=Math.max(Se,Te,Me),Ze=Ye-Math.min(Se,Te,Me);return 0==Ze?we=xe=0:(we=Ze/Ye,Se===Ye?xe=(Te-Me)/Ze:Te===Ye?xe=2+(Me-Se)/Ze:Me===Ye&&(xe=4+(Se-Te)/Ze),xe<0?xe+=6:6<=xe&&(xe-=6)),[xe/6,we,Ye,_e[3]]},_rgbaToHSLA:function(_e){var xe,we,Se=_e[0],Te=_e[1],Me=_e[2],Ye=Math.max(Se,Te,Me),Ze=Math.min(Se,Te,Me),Qe=Ye+Ze;Ze=Ye-Ze;return 0==Ze?we=xe=0:(we=Qe<1?Ze/Qe:Ze/(2-Qe),Se===Ye?xe=(Te-Me)/Ze:Te===Ye?xe=2+(Me-Se)/Ze:Me===Ye&&(xe=4+(Se-Te)/Ze),xe<0?xe+=6:6<=xe&&(xe-=6)),[xe/6,we,Qe/2,_e[3]]}};_e=_e.default.ColorConversion;we.default=_e},{"../core/main":275}],261:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.map"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}xe("./p5.Color"),xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.alpha=function(_e){return Te.default._validateParameters("alpha",arguments),this.color(_e)._getAlpha()},Te.default.prototype.blue=function(_e){return Te.default._validateParameters("blue",arguments),this.color(_e)._getBlue()},Te.default.prototype.brightness=function(_e){return Te.default._validateParameters("brightness",arguments),this.color(_e)._getBrightness()},Te.default.prototype.color=function(){var xe;return Te.default._validateParameters("color",arguments),arguments[0]instanceof Te.default.Color?arguments[0]:(xe=arguments[0]instanceof Array?arguments[0]:arguments,new Te.default.Color(this||_e,xe))},Te.default.prototype.green=function(_e){return Te.default._validateParameters("green",arguments),this.color(_e)._getGreen()},Te.default.prototype.hue=function(_e){return Te.default._validateParameters("hue",arguments),this.color(_e)._getHue()},Te.default.prototype.lerpColor=function(xe,we,Se){Te.default._validateParameters("lerpColor",arguments);var Ye,Ze,Qe,Ke=(this||_e)._colorMode,Je=(this||_e)._colorMaxes;if(Ke===Me.RGB)Ze=xe.levels.map((function(_e){return _e/255})),Qe=we.levels.map((function(_e){return _e/255}));else if(Ke===Me.HSB)xe._getBrightness(),we._getBrightness(),Ze=xe.hsba,Qe=we.hsba;else{if(Ke!==Me.HSL)throw new Error("".concat(Ke,"cannot be used for interpolation."));xe._getLightness(),we._getLightness(),Ze=xe.hsla,Qe=we.hsla}return Se=Math.max(Math.min(Se,1),0),void 0===(this||_e).lerp&&((this||_e).lerp=function(_e,xe,we){return we*(xe-_e)+_e}),xe=this.lerp(Ze[0],Qe[0],Se),we=this.lerp(Ze[1],Qe[1],Se),Ye=this.lerp(Ze[2],Qe[2],Se),Ze=this.lerp(Ze[3],Qe[3],Se),xe*=Je[Ke][0],we*=Je[Ke][1],Ye*=Je[Ke][2],Ze*=Je[Ke][3],this.color(xe,we,Ye,Ze)},Te.default.prototype.lightness=function(_e){return Te.default._validateParameters("lightness",arguments),this.color(_e)._getLightness()},Te.default.prototype.red=function(_e){return Te.default._validateParameters("red",arguments),this.color(_e)._getRed()},Te.default.prototype.saturation=function(_e){return Te.default._validateParameters("saturation",arguments),this.color(_e)._getSaturation()};var Ye=Te.default;Se.default=Ye},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],262:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.trim"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=s(xe("../core/main")),Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants")),Ye=s(xe("./color_conversion"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function s(_e){return _e&&_e.__esModule?_e:{default:_e}}function l(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}var Ze={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Qe=(xe=/\s*/,/(\d{1,3})/),Ke=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,Je=new RegExp("".concat(Ke.source,"%")),$e={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",Qe.source,",",Qe.source,",",Qe.source,"\\)$"].join(xe.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",Je.source,",",Je.source,",",Je.source,"\\)$"].join(xe.source),"i"),RGBA:new RegExp(["^rgba\\(",Qe.source,",",Qe.source,",",Qe.source,",",Ke.source,"\\)$"].join(xe.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",Je.source,",",Je.source,",",Je.source,",",Ke.source,"\\)$"].join(xe.source),"i"),HSL:new RegExp(["^hsl\\(",Qe.source,",",Je.source,",",Je.source,"\\)$"].join(xe.source),"i"),HSLA:new RegExp(["^hsla\\(",Qe.source,",",Je.source,",",Je.source,",",Ke.source,"\\)$"].join(xe.source),"i"),HSB:new RegExp(["^hsb\\(",Qe.source,",",Je.source,",",Je.source,"\\)$"].join(xe.source),"i"),HSBA:new RegExp(["^hsba\\(",Qe.source,",",Je.source,",",Je.source,",",Ke.source,"\\)$"].join(xe.source),"i")};Qe=(Te.default.Color=function(){function c(xe,we){if(!((this||_e)instanceof c))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(xe._colorMode,xe._colorMaxes),![Me.RGB,Me.HSL,Me.HSB].includes((this||_e).mode))throw new Error("".concat((this||_e).mode," is an invalid colorMode."));(this||_e)._array=c._parseInputs.apply(this||_e,we),this._calculateLevels()}var xe,we,Se;return xe=c,Se=[{key:"_parseInputs",value:function(xe,we,Se,Te){var Qe,Ke=arguments.length,Je=(this||_e).mode,et=(this||_e).maxes[Je],tt=[];if(3<=Ke){for(tt[0]=xe/et[0],tt[1]=we/et[1],tt[2]=Se/et[2],tt[3]="number"==typeof Te?Te/et[3]:1,Qe=tt.length-1;0<=Qe;--Qe){var rt=tt[Qe];rt<0?tt[Qe]=0:1<rt&&(tt[Qe]=1)}return Je===Me.HSL?Ye.default._hslaToRGBA(tt):Je===Me.HSB?Ye.default._hsbaToRGBA(tt):tt}if(1===Ke&&"string"==typeof xe){Se=xe.trim().toLowerCase();if(Ze[Se])return c._parseInputs.call(this||_e,Ze[Se]);if($e.HEX3.test(Se))return(tt=$e.HEX3.exec(Se).slice(1).map((function(_e){return parseInt(_e+_e,16)/255})))[3]=1,tt;if($e.HEX6.test(Se))return(tt=$e.HEX6.exec(Se).slice(1).map((function(_e){return parseInt(_e,16)/255})))[3]=1,tt;if($e.HEX4.test(Se))return $e.HEX4.exec(Se).slice(1).map((function(_e){return parseInt(_e+_e,16)/255}));if($e.HEX8.test(Se))return $e.HEX8.exec(Se).slice(1).map((function(_e){return parseInt(_e,16)/255}));if($e.RGB.test(Se))return(tt=$e.RGB.exec(Se).slice(1).map((function(_e){return _e/255})))[3]=1,tt;if($e.RGB_PERCENT.test(Se))return(tt=$e.RGB_PERCENT.exec(Se).slice(1).map((function(_e){return parseFloat(_e)/100})))[3]=1,tt;if($e.RGBA.test(Se))return $e.RGBA.exec(Se).slice(1).map((function(_e,xe){return 3===xe?parseFloat(_e):_e/255}));if($e.RGBA_PERCENT.test(Se))return $e.RGBA_PERCENT.exec(Se).slice(1).map((function(_e,xe){return 3===xe?parseFloat(_e):parseFloat(_e)/100}));if($e.HSL.test(Se)?(tt=$e.HSL.exec(Se).slice(1).map((function(_e,xe){return 0===xe?parseInt(_e,10)/360:parseInt(_e,10)/100})))[3]=1:$e.HSLA.test(Se)&&(tt=$e.HSLA.exec(Se).slice(1).map((function(_e,xe){return 0===xe?parseInt(_e,10)/360:3===xe?parseFloat(_e):parseInt(_e,10)/100}))),(tt=tt.map((function(_e){return Math.max(Math.min(_e,1),0)}))).length)return Ye.default._hslaToRGBA(tt);if($e.HSB.test(Se)?(tt=$e.HSB.exec(Se).slice(1).map((function(_e,xe){return 0===xe?parseInt(_e,10)/360:parseInt(_e,10)/100})))[3]=1:$e.HSBA.test(Se)&&(tt=$e.HSBA.exec(Se).slice(1).map((function(_e,xe){return 0===xe?parseInt(_e,10)/360:3===xe?parseFloat(_e):parseInt(_e,10)/100}))),tt.length){for(Qe=tt.length-1;0<=Qe;--Qe)tt[Qe]=Math.max(Math.min(tt[Qe],1),0);return Ye.default._hsbaToRGBA(tt)}tt=[1,1,1,1]}else{if(1!==Ke&&2!==Ke||"number"!=typeof xe)throw new Error("".concat(arguments,"is not a valid color representation."));tt[0]=xe/et[2],tt[1]=xe/et[2],tt[2]=xe/et[2],tt[3]="number"==typeof we?we/et[3]:1,tt=tt.map((function(_e){return Math.max(Math.min(_e,1),0)}))}return tt}}],(we=[{key:"toString",value:function(xe){var we=(this||_e).levels,Se=(this||_e)._array,Te=Se[3];switch(xe){case"#rrggbb":return"#".concat(we[0]<16?"0".concat(we[0].toString(16)):we[0].toString(16),we[1]<16?"0".concat(we[1].toString(16)):we[1].toString(16),we[2]<16?"0".concat(we[2].toString(16)):we[2].toString(16));case"#rrggbbaa":return"#".concat(we[0]<16?"0".concat(we[0].toString(16)):we[0].toString(16),we[1]<16?"0".concat(we[1].toString(16)):we[1].toString(16),we[2]<16?"0".concat(we[2].toString(16)):we[2].toString(16),we[3]<16?"0".concat(we[3].toString(16)):we[3].toString(16));case"#rgb":return"#".concat(Math.round(15*Se[0]).toString(16),Math.round(15*Se[1]).toString(16),Math.round(15*Se[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*Se[0]).toString(16),Math.round(15*Se[1]).toString(16),Math.round(15*Se[2]).toString(16),Math.round(15*Se[3]).toString(16));case"rgb":return"rgb(".concat(we[0],", ",we[1],", ",we[2],")");case"rgb%":return"rgb(".concat((100*Se[0]).toPrecision(3),"%, ",(100*Se[1]).toPrecision(3),"%, ",(100*Se[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*Se[0]).toPrecision(3),"%, ",(100*Se[1]).toPrecision(3),"%, ",(100*Se[2]).toPrecision(3),"%, ",(100*Se[3]).toPrecision(3),"%)");case"hsb":case"hsv":return(this||_e).hsba||((this||_e).hsba=Ye.default._rgbaToHSBA((this||_e)._array)),"hsb(".concat((this||_e).hsba[0]*(this||_e).maxes[Me.HSB][0],", ",(this||_e).hsba[1]*(this||_e).maxes[Me.HSB][1],", ",(this||_e).hsba[2]*(this||_e).maxes[Me.HSB][2],")");case"hsb%":case"hsv%":return(this||_e).hsba||((this||_e).hsba=Ye.default._rgbaToHSBA((this||_e)._array)),"hsb(".concat((100*(this||_e).hsba[0]).toPrecision(3),"%, ",(100*(this||_e).hsba[1]).toPrecision(3),"%, ",(100*(this||_e).hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return(this||_e).hsba||((this||_e).hsba=Ye.default._rgbaToHSBA((this||_e)._array)),"hsba(".concat((this||_e).hsba[0]*(this||_e).maxes[Me.HSB][0],", ",(this||_e).hsba[1]*(this||_e).maxes[Me.HSB][1],", ",(this||_e).hsba[2]*(this||_e).maxes[Me.HSB][2],", ",Te,")");case"hsba%":case"hsva%":return(this||_e).hsba||((this||_e).hsba=Ye.default._rgbaToHSBA((this||_e)._array)),"hsba(".concat((100*(this||_e).hsba[0]).toPrecision(3),"%, ",(100*(this||_e).hsba[1]).toPrecision(3),"%, ",(100*(this||_e).hsba[2]).toPrecision(3),"%, ",(100*Te).toPrecision(3),"%)");case"hsl":return(this||_e).hsla||((this||_e).hsla=Ye.default._rgbaToHSLA((this||_e)._array)),"hsl(".concat((this||_e).hsla[0]*(this||_e).maxes[Me.HSL][0],", ",(this||_e).hsla[1]*(this||_e).maxes[Me.HSL][1],", ",(this||_e).hsla[2]*(this||_e).maxes[Me.HSL][2],")");case"hsl%":return(this||_e).hsla||((this||_e).hsla=Ye.default._rgbaToHSLA((this||_e)._array)),"hsl(".concat((100*(this||_e).hsla[0]).toPrecision(3),"%, ",(100*(this||_e).hsla[1]).toPrecision(3),"%, ",(100*(this||_e).hsla[2]).toPrecision(3),"%)");case"hsla":return(this||_e).hsla||((this||_e).hsla=Ye.default._rgbaToHSLA((this||_e)._array)),"hsla(".concat((this||_e).hsla[0]*(this||_e).maxes[Me.HSL][0],", ",(this||_e).hsla[1]*(this||_e).maxes[Me.HSL][1],", ",(this||_e).hsla[2]*(this||_e).maxes[Me.HSL][2],", ",Te,")");case"hsla%":return(this||_e).hsla||((this||_e).hsla=Ye.default._rgbaToHSLA((this||_e)._array)),"hsl(".concat((100*(this||_e).hsla[0]).toPrecision(3),"%, ",(100*(this||_e).hsla[1]).toPrecision(3),"%, ",(100*(this||_e).hsla[2]).toPrecision(3),"%, ",(100*Te).toPrecision(3),"%)");default:return"rgba(".concat(we[0],",",we[1],",",we[2],",",Te,")")}}},{key:"setRed",value:function(xe){(this||_e)._array[0]=xe/(this||_e).maxes[Me.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(xe){(this||_e)._array[1]=xe/(this||_e).maxes[Me.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(xe){(this||_e)._array[2]=xe/(this||_e).maxes[Me.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(xe){(this||_e)._array[3]=xe/(this||_e).maxes[(this||_e).mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var xe=(this||_e)._array,we=(this||_e).levels=new Array(xe.length),Se=xe.length-1;0<=Se;--Se)we[Se]=Math.round(255*xe[Se]);(this||_e).hsla=null,(this||_e).hsba=null}},{key:"_getAlpha",value:function(){return(this||_e)._array[3]*(this||_e).maxes[(this||_e).mode][3]}},{key:"_storeModeAndMaxes",value:function(xe,we){(this||_e).mode=xe,(this||_e).maxes=we}},{key:"_getMode",value:function(){return(this||_e).mode}},{key:"_getMaxes",value:function(){return(this||_e).maxes}},{key:"_getBlue",value:function(){return(this||_e)._array[2]*(this||_e).maxes[Me.RGB][2]}},{key:"_getBrightness",value:function(){return(this||_e).hsba||((this||_e).hsba=Ye.default._rgbaToHSBA((this||_e)._array)),(this||_e).hsba[2]*(this||_e).maxes[Me.HSB][2]}},{key:"_getGreen",value:function(){return(this||_e)._array[1]*(this||_e).maxes[Me.RGB][1]}},{key:"_getHue",value:function(){return(this||_e).mode===Me.HSB?((this||_e).hsba||((this||_e).hsba=Ye.default._rgbaToHSBA((this||_e)._array)),(this||_e).hsba[0]*(this||_e).maxes[Me.HSB][0]):((this||_e).hsla||((this||_e).hsla=Ye.default._rgbaToHSLA((this||_e)._array)),(this||_e).hsla[0]*(this||_e).maxes[Me.HSL][0])}},{key:"_getLightness",value:function(){return(this||_e).hsla||((this||_e).hsla=Ye.default._rgbaToHSLA((this||_e)._array)),(this||_e).hsla[2]*(this||_e).maxes[Me.HSL][2]}},{key:"_getRed",value:function(){return(this||_e)._array[0]*(this||_e).maxes[Me.RGB][0]}},{key:"_getSaturation",value:function(){return(this||_e).mode===Me.HSB?((this||_e).hsba||((this||_e).hsba=Ye.default._rgbaToHSBA((this||_e)._array)),(this||_e).hsba[1]*(this||_e).maxes[Me.HSB][1]):((this||_e).hsla||((this||_e).hsla=Ye.default._rgbaToHSLA((this||_e)._array)),(this||_e).hsla[1]*(this||_e).maxes[Me.HSL][1])}}])&&l(xe.prototype,we),Se&&l(xe,Se),c}(),Te.default.Color);Se.default=Qe},{"../core/constants":264,"../core/main":275,"./color_conversion":260,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],263:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.fill"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=l();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function l(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,l=function(){return _e},_e)}xe("./p5.Color"),Te.default.prototype.beginClip=function(){(this||_e)._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},Te.default.prototype.endClip=function(){(this||_e)._renderer.endClip()},Te.default.prototype.clip=function(xe,we){(this||_e)._renderer.beginClip(we),xe(),(this||_e)._renderer.endClip(we)},Te.default.prototype.background=function(){var xe;return(xe=(this||_e)._renderer).background.apply(xe,arguments),this||_e},Te.default.prototype.clear=function(){return(this||_e)._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this||_e},Te.default.prototype.colorMode=function(xe,we,Se,Ye,Ze){return Te.default._validateParameters("colorMode",arguments),xe!==Me.RGB&&xe!==Me.HSB&&xe!==Me.HSL||((this||_e)._colorMode=xe,xe=(this||_e)._colorMaxes[xe],2===arguments.length?(xe[0]=we,xe[1]=we,xe[2]=we,xe[3]=we):4===arguments.length?(xe[0]=we,xe[1]=Se,xe[2]=Ye):5===arguments.length&&(xe[0]=we,xe[1]=Se,xe[2]=Ye,xe[3]=Ze)),this||_e},Te.default.prototype.fill=function(){var xe;return(this||_e)._renderer._setProperty("_fillSet",!0),(this||_e)._renderer._setProperty("_doFill",!0),(xe=(this||_e)._renderer).fill.apply(xe,arguments),this||_e},Te.default.prototype.noFill=function(){return(this||_e)._renderer._setProperty("_doFill",!1),this||_e},Te.default.prototype.noStroke=function(){return(this||_e)._renderer._setProperty("_doStroke",!1),this||_e},Te.default.prototype.stroke=function(){var xe;return(this||_e)._renderer._setProperty("_strokeSet",!0),(this||_e)._renderer._setProperty("_doStroke",!0),(xe=(this||_e)._renderer).stroke.apply(xe,arguments),this||_e},Te.default.prototype.erase=function(){return(this||_e)._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this||_e},Te.default.prototype.noErase=function(){return(this||_e)._renderer.noErase(),this||_e};var Ye=Te.default;Se.default=Ye},{"../core/constants":264,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],264:[function(_e,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.QUADRATIC=we.LINEAR=we._CTX_MIDDLE=we._DEFAULT_LEADMULT=we._DEFAULT_TEXT_FILL=we.WORD=we.CHAR=we.BOLDITALIC=we.BOLD=we.ITALIC=we.NORMAL=we.BLUR=we.ERODE=we.DILATE=we.POSTERIZE=we.INVERT=we.OPAQUE=we.GRAY=we.THRESHOLD=we.BURN=we.DODGE=we.SOFT_LIGHT=we.HARD_LIGHT=we.OVERLAY=we.REPLACE=we.SCREEN=we.MULTIPLY=we.EXCLUSION=we.SUBTRACT=we.DIFFERENCE=we.LIGHTEST=we.DARKEST=we.ADD=we.REMOVE=we.BLEND=we.UP_ARROW=we.TAB=we.SHIFT=we.RIGHT_ARROW=we.RETURN=we.OPTION=we.LEFT_ARROW=we.ESCAPE=we.ENTER=we.DOWN_ARROW=we.DELETE=we.CONTROL=we.BACKSPACE=we.ALT=we.AUTO=we.HSL=we.HSB=we.RGB=we.MITER=we.BEVEL=we.ROUND=we.SQUARE=we.PROJECT=we.PIE=we.CHORD=we.OPEN=we.CLOSE=we.TESS=we.QUAD_STRIP=we.QUADS=we.TRIANGLE_STRIP=we.TRIANGLE_FAN=we.TRIANGLES=we.LINE_LOOP=we.LINE_STRIP=we.LINES=we.POINTS=we.BASELINE=we.BOTTOM=we.TOP=we.CENTER=we.LEFT=we.RIGHT=we.RADIUS=we.CORNERS=we.CORNER=we.RAD_TO_DEG=we.DEG_TO_RAD=we.RADIANS=we.DEGREES=we.TWO_PI=we.TAU=we.QUARTER_PI=we.PI=we.HALF_PI=we.WAIT=we.TEXT=we.MOVE=we.HAND=we.CROSS=we.ARROW=we.WEBGL2=we.WEBGL=we.P2D=we.VERSION=void 0,we.RGBA=we.HALF_FLOAT=we.FLOAT=we.UNSIGNED_INT=we.UNSIGNED_BYTE=we.COVER=we.CONTAIN=we.FALLBACK=we.LABEL=we.AXES=we.GRID=we._DEFAULT_FILL=we._DEFAULT_STROKE=we.PORTRAIT=we.LANDSCAPE=we.SMOOTH=we.FLAT=we.MIRROR=we.CLAMP=we.REPEAT=we.NEAREST=we.IMAGE=we.IMMEDIATE=we.TEXTURE=we.FILL=we.STROKE=we.CURVE=we.BEZIER=void 0;var Se=Math.PI,Te=(we.VERSION="1.9.0",we.P2D="p2d",we.WEBGL="webgl",we.WEBGL2="webgl2",we.ARROW="default",we.CROSS="crosshair",we.HAND="pointer",we.MOVE="move",we.TEXT="text",we.WAIT="wait",Se/2);Te=(we.HALF_PI=Te,Se),Te=(we.PI=Te,Se/4),Te=(we.QUARTER_PI=Te,2*Se),Te=(we.TAU=Te,2*Se),Te=(we.TWO_PI=Te,we.DEGREES="degrees",we.RADIANS="radians",Se/180),Te=(we.DEG_TO_RAD=Te,180/Se);we.RAD_TO_DEG=Te,we.CORNER="corner",we.CORNERS="corners",we.RADIUS="radius",we.RIGHT="right",we.LEFT="left",we.CENTER="center",we.TOP="top",we.BOTTOM="bottom",we.BASELINE="alphabetic",we.POINTS=0,we.LINES=1,we.LINE_STRIP=3,we.LINE_LOOP=2,we.TRIANGLES=4,we.TRIANGLE_FAN=6,we.TRIANGLE_STRIP=5,we.QUADS="quads",we.QUAD_STRIP="quad_strip",we.TESS="tess",we.CLOSE="close",we.OPEN="open",we.CHORD="chord",we.PIE="pie",we.PROJECT="square",we.SQUARE="butt",we.ROUND="round",we.BEVEL="bevel",we.MITER="miter",we.RGB="rgb",we.HSB="hsb",we.HSL="hsl",we.AUTO="auto",we.ALT=18,we.BACKSPACE=8,we.CONTROL=17,we.DELETE=46,we.DOWN_ARROW=40,we.ENTER=13,we.ESCAPE=27,we.LEFT_ARROW=37,we.OPTION=18,we.RETURN=13,we.RIGHT_ARROW=39,we.SHIFT=16,we.TAB=9,we.UP_ARROW=38,we.BLEND="source-over",we.REMOVE="destination-out",we.ADD="lighter",we.DARKEST="darken",we.LIGHTEST="lighten",we.DIFFERENCE="difference",we.SUBTRACT="subtract",we.EXCLUSION="exclusion",we.MULTIPLY="multiply",we.SCREEN="screen",we.REPLACE="copy",we.OVERLAY="overlay",we.HARD_LIGHT="hard-light",we.SOFT_LIGHT="soft-light",we.DODGE="color-dodge",we.BURN="color-burn",we.THRESHOLD="threshold",we.GRAY="gray",we.OPAQUE="opaque",we.INVERT="invert",we.POSTERIZE="posterize",we.DILATE="dilate",we.ERODE="erode",we.BLUR="blur",we.NORMAL="normal",we.ITALIC="italic",we.BOLD="bold",we.BOLDITALIC="bold italic",we.CHAR="CHAR",we.WORD="WORD",we._DEFAULT_TEXT_FILL="#000000",we._DEFAULT_LEADMULT=1.25,we._CTX_MIDDLE="middle",we.LINEAR="linear",we.QUADRATIC="quadratic",we.BEZIER="bezier",we.CURVE="curve",we.STROKE="stroke",we.FILL="fill",we.TEXTURE="texture",we.IMMEDIATE="immediate",we.IMAGE="image",we.NEAREST="nearest",we.REPEAT="repeat",we.CLAMP="clamp",we.MIRROR="mirror",we.FLAT="flat",we.SMOOTH="smooth",we.LANDSCAPE="landscape",we.PORTRAIT="portrait",we._DEFAULT_STROKE="#000000",we._DEFAULT_FILL="#FFFFFF",we.GRID="grid",we.AXES="axes",we.LABEL="label",we.FALLBACK="fallback",we.CONTAIN="contain",we.COVER="cover",we.UNSIGNED_BYTE="unsigned-byte",we.UNSIGNED_INT="unsigned-int",we.FLOAT="float",we.HALF_FLOAT="half-float";we.RGBA="rgba"},{}],265:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.search"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.search"),xe("core-js/modules/es.string.split"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Me=xe("./main"))&&Me.__esModule?Me:{default:Me},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("./constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}var Ye=[Me.ARROW,Me.CROSS,Me.HAND,Me.MOVE,Me.TEXT,Me.WAIT],Ze=(Te.default.prototype._frameRate=0,Te.default.prototype._lastFrameTime=window.performance.now(),Te.default.prototype._targetFrameRate=60,window.print),Qe=!1;function d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}Te.default.prototype.print=function(){var _e;arguments.length?(_e=console).log.apply(_e,arguments):Qe||(Ze(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(Qe=!0))},Te.default.prototype.frameCount=0,Te.default.prototype.deltaTime=0,Te.default.prototype.focused=document.hasFocus(),Te.default.prototype.cursor=function(xe,we,Se){var Te,Me="auto",Ze=(this||_e)._curElement.elt;Ye.includes(xe)?Me=xe:"string"==typeof xe&&(Te="",we&&Se&&"number"==typeof we&&"number"==typeof Se&&(Te="".concat(we," ").concat(Se)),Me="http://"===xe.substring(0,7)||"https://"===xe.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(xe)?"url(".concat(xe,") ").concat(Te,", auto"):xe),Ze.style.cursor=Me},Te.default.prototype.frameRate=function(xe){return Te.default._validateParameters("frameRate",arguments),"number"!=typeof xe||xe<0?(this||_e)._frameRate:(this._setProperty("_targetFrameRate",xe),0===xe&&this._setProperty("_frameRate",xe),this||_e)},Te.default.prototype.getFrameRate=function(){return this.frameRate()},Te.default.prototype.setFrameRate=function(_e){return this.frameRate(_e)},Te.default.prototype.getTargetFrameRate=function(){return(this||_e)._targetFrameRate},Te.default.prototype.noCursor=function(){(this||_e)._curElement.elt.style.cursor="none"},Te.default.prototype.webglVersion=Me.P2D,Te.default.prototype.displayWidth=screen.width,Te.default.prototype.displayHeight=screen.height,Te.default.prototype.windowWidth=d(),Te.default.prototype.windowHeight=h(),Te.default.prototype._onresize=function(xe){this._setProperty("windowWidth",d()),this._setProperty("windowHeight",h());var we=(this||_e)._isGlobal?window:this||_e;"function"!=typeof we.windowResized||void 0===(we=we.windowResized(xe))||we||xe.preventDefault()},Te.default.prototype.width=0,Te.default.prototype.height=0,Te.default.prototype.fullscreen=function(_e){if(Te.default._validateParameters("fullscreen",arguments),void 0===_e)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(_e){_e=document.documentElement;if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");_e.requestFullscreen?_e.requestFullscreen():_e.mozRequestFullScreen?_e.mozRequestFullScreen():_e.webkitRequestFullscreen?_e.webkitRequestFullscreen():_e.msRequestFullscreen&&_e.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},Te.default.prototype.pixelDensity=function(xe){var we;return Te.default._validateParameters("pixelDensity",arguments),"number"==typeof xe?(xe!==(this||_e)._pixelDensity&&((this||_e)._pixelDensity=xe),(we=this||_e).resizeCanvas((this||_e).width,(this||_e).height,!0)):we=(this||_e)._pixelDensity,we},Te.default.prototype.displayDensity=function(){return window.devicePixelRatio},Te.default.prototype.getURL=function(){return location.href},Te.default.prototype.getURLPath=function(){return location.pathname.split("/").filter((function(_e){return""!==_e}))},Te.default.prototype.getURLParams=function(){for(var _e,xe=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,we={};null!=(_e=xe.exec(location.search));)_e.index===xe.lastIndex&&xe.lastIndex++,we[_e[1]]=_e[2];return we};xe=Te.default;Se.default=xe},{"./constants":264,"./main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.search":197,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],266:[function(_e,xe,we){_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.concat"),_e("core-js/modules/es.array.filter"),_e("core-js/modules/es.array.for-each"),_e("core-js/modules/es.array.includes"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.join"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.array.some"),_e("core-js/modules/es.function.name"),_e("core-js/modules/es.object.assign"),_e("core-js/modules/es.object.get-own-property-names"),_e("core-js/modules/es.object.keys"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.constructor"),_e("core-js/modules/es.regexp.exec"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/es.string.match"),_e("core-js/modules/es.string.replace"),_e("core-js/modules/es.string.split"),_e("core-js/modules/es.string.starts-with"),_e("core-js/modules/web.dom-collections.for-each"),_e("core-js/modules/web.dom-collections.iterator"),_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.concat"),_e("core-js/modules/es.array.filter"),_e("core-js/modules/es.array.for-each"),_e("core-js/modules/es.array.includes"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.join"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.array.some"),_e("core-js/modules/es.function.name"),_e("core-js/modules/es.object.assign"),_e("core-js/modules/es.object.get-own-property-names"),_e("core-js/modules/es.object.keys"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.constructor"),_e("core-js/modules/es.regexp.exec"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/es.string.match"),_e("core-js/modules/es.string.replace"),_e("core-js/modules/es.string.split"),_e("core-js/modules/es.string.starts-with"),_e("core-js/modules/web.dom-collections.for-each"),_e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(Ze=_e("../main"))&&Ze.__esModule?Ze:{default:Ze};_e("../internationalization");function n(_e,xe){xe=xe||console.log.bind(console),Te||Me(),Te.some((function(we){var Se;if(_e.message&&null!==_e.message.match("\\W?".concat(we.name,"\\W")))return Se="function"===we.type?"".concat(we.name,"()"):we.name,xe("Did you just try to use p5.js's ".concat(Se," ").concat(we.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(Ye)),!0}))}var Te=null,Me=null,Ye=(Se.default._friendlyError=Se.default._checkForUserDefinedFunctions=Se.default._fesErrorMonitor=function(){},Te=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),Ze=(Me=function(){function e(_e){return Object.getOwnPropertyNames(_e).filter((function(_e){return"_"!==_e[0]&&!(_e in xe)&&(xe[_e]=!0)})).map((function(xe){var we="function"==typeof _e[xe]?"function":xe===xe.toUpperCase()?"constant":"variable";return{name:xe,type:we}}))}var xe={};(Te=[].concat(e(Se.default.prototype),e(_e("../constants")))).sort((function(_e,xe){return xe.name.length-_e.name.length}))},Se.default.prototype._helpForMisusedAtTopLevelCode=n,"complete"!==document.readyState&&(window.addEventListener("error",n,!1),window.addEventListener("load",(function(){window.removeEventListener("error",n,!1)}))),Se.default);we.default=Ze},{"../constants":264,"../internationalization":273,"../main":275,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.starts-with":199,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],267:[function(_e,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(Se=_e("../main"))&&Se.__esModule?Se:{default:Se};_e("../internationalization");Se.default._friendlyFileLoadError=function(){};_e=Se.default;we.default=_e},{"../internationalization":273,"../main":275}],268:[function(_e,xe,we){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.filter"),_e("core-js/modules/es.array.for-each"),_e("core-js/modules/es.array.from"),_e("core-js/modules/es.array.includes"),_e("core-js/modules/es.array.index-of"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.join"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.object.get-own-property-descriptor"),_e("core-js/modules/es.object.keys"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.constructor"),_e("core-js/modules/es.regexp.exec"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.includes"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/es.string.match"),_e("core-js/modules/es.string.split"),_e("core-js/modules/es.string.trim"),_e("core-js/modules/es.weak-map"),_e("core-js/modules/web.dom-collections.for-each"),_e("core-js/modules/web.dom-collections.iterator"),_e("core-js/modules/es.array.filter"),_e("core-js/modules/es.array.for-each"),_e("core-js/modules/es.array.includes"),_e("core-js/modules/es.array.index-of"),_e("core-js/modules/es.array.join"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.object.keys"),_e("core-js/modules/es.regexp.constructor"),_e("core-js/modules/es.regexp.exec"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.includes"),_e("core-js/modules/es.string.match"),_e("core-js/modules/es.string.split"),_e("core-js/modules/es.string.trim"),_e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=O(_e("../main"));_e("../internationalization"),C(_e("../constants"));function k(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,k=function(){return _e},_e)}function C(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=k();if(xe&&xe.has(_e))return xe.get(_e);var we,Se,Te={},Me=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e)Object.prototype.hasOwnProperty.call(_e,we)&&((Se=Me?Object.getOwnPropertyDescriptor(_e,we):null)&&(Se.get||Se.set)?Object.defineProperty(Te,we,Se):Te[we]=_e[we]);return Te.default=_e,xe&&xe.set(_e,Te),Te}function O(_e){return _e&&_e.__esModule?_e:{default:_e}}Se.default._fesCodeReader=function(){};var Te=Se.default;we.default=Te},{"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],269:[function(xe,we,Se){xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../main"))&&xe.__esModule?xe:{default:xe};function o(){var xe=/(^|@)\S+:\d+/,we=/^\s*at .*(\S+:\d+|\(native\))/m,Se=/^(eval@)?(\[native code])?$/;return{parse:function(_e){return void 0!==_e.stacktrace||void 0!==_e["opera#sourceloc"]?this.parseOpera(_e):_e.stack&&_e.stack.match(we)?this.parseV8OrIE(_e):_e.stack?this.parseFFOrSafari(_e):void 0},extractLocation:function(_e){return-1===_e.indexOf(":")?[_e]:[(_e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(_e.replace(/[()]/g,"")))[1],_e[2]||void 0,_e[3]||void 0]},parseV8OrIE:function(xe){return xe.stack.split("\n").filter((function(_e){return!!_e.match(we)}),this||_e).map((function(_e){var xe=(_e=-1<_e.indexOf("(eval ")?_e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):_e).replace(/^\s+/,"").replace(/\(eval code/g,"("),we=xe.match(/ (\((.+):(\d+):(\d+)\)$)/);xe=(xe=we?xe.replace(we[0],""):xe).split(/\s+/).slice(1),we=this.extractLocation(we?we[1]:xe.pop());return{functionName:xe.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(we[0])?void 0:we[0],lineNumber:we[1],columnNumber:we[2],source:_e}}),this||_e)},parseFFOrSafari:function(xe){return xe.stack.split("\n").filter((function(_e){return!_e.match(Se)}),this||_e).map((function(_e){var xe,we;return-1===(_e=-1<_e.indexOf(" > eval")?_e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):_e).indexOf("@")&&-1===_e.indexOf(":")?{functionName:_e}:{functionName:(we=_e.match(xe=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&we[1]?we[1]:void 0,fileName:(we=this.extractLocation(_e.replace(xe,"")))[0],lineNumber:we[1],columnNumber:we[2],source:_e}}),this||_e)},parseOpera:function(_e){return!_e.stacktrace||-1<_e.message.indexOf("\n")&&_e.message.split("\n").length>_e.stacktrace.split("\n").length?this.parseOpera9(_e):_e.stack?this.parseOpera11(_e):this.parseOpera10(_e)},parseOpera9:function(_e){for(var xe=/Line (\d+).*script (?:in )?(\S+)/i,we=_e.message.split("\n"),Se=[],Te=2,Me=we.length;Te<Me;Te+=2){var Ye=xe.exec(we[Te]);Ye&&Se.push({fileName:Ye[2],lineNumber:Ye[1],source:we[Te]})}return Se},parseOpera10:function(_e){for(var xe=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,we=_e.stacktrace.split("\n"),Se=[],Te=0,Me=we.length;Te<Me;Te+=2){var Ye=xe.exec(we[Te]);Ye&&Se.push({functionName:Ye[3]||void 0,fileName:Ye[2],lineNumber:Ye[1],source:we[Te]})}return Se},parseOpera11:function(we){return we.stack.split("\n").filter((function(_e){return!!_e.match(xe)&&!_e.match(/^Error created at/)}),this||_e).map((function(_e){var xe,we=_e.split("@"),Se=this.extractLocation(we.pop());we=we.shift()||"";return{functionName:we.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(xe=we.match(/\(([^)]*)\)/)?we.replace(/^[^(]+\(([^)]*)\)$/,"$1"):xe)||"[arguments not available]"===xe?void 0:xe.split(","),fileName:Se[0],lineNumber:Se[1],columnNumber:Se[2],source:_e}}),this||_e)}}}xe.default._getErrorStackParser=function(){return new o};xe=xe.default;Se.default=xe},{"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],270:[function(_e,xe,we){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.concat"),_e("core-js/modules/es.array.for-each"),_e("core-js/modules/es.array.includes"),_e("core-js/modules/es.array.index-of"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.join"),_e("core-js/modules/es.array.last-index-of"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.function.name"),_e("core-js/modules/es.map"),_e("core-js/modules/es.number.constructor"),_e("core-js/modules/es.object.get-own-property-descriptor"),_e("core-js/modules/es.object.get-prototype-of"),_e("core-js/modules/es.object.keys"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.reflect.construct"),_e("core-js/modules/es.regexp.exec"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.set"),_e("core-js/modules/es.string.includes"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/es.string.split"),_e("core-js/modules/es.weak-map"),_e("core-js/modules/web.dom-collections.for-each"),_e("core-js/modules/web.dom-collections.iterator"),_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.concat"),_e("core-js/modules/es.array.for-each"),_e("core-js/modules/es.array.includes"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.join"),_e("core-js/modules/es.array.last-index-of"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.function.name"),_e("core-js/modules/es.number.constructor"),_e("core-js/modules/es.object.keys"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.exec"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.set"),_e("core-js/modules/es.string.includes"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/es.string.split"),_e("core-js/modules/web.dom-collections.for-each"),_e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(Se=_e("../main"))&&Se.__esModule?Se:{default:Se};(function(_e){if((!_e||!_e.__esModule)&&null!==_e&&("object"===a(_e)||"function"==typeof _e)){var xe=i();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se)}})(_e("../constants")),_e("../internationalization");function i(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,i=function(){return _e},_e)}function a(_e){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}Se.default._validateParameters=Se.default._clearValidateParamsCache=function(){};_e=Se.default;we.default=_e},{"../../../docs/parameterData.json":void 0,"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.map":169,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],271:[function(_e,xe,we){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.object.get-own-property-descriptor"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/es.weak-map"),_e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(_e("./constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}we.default={modeAdjust:function(_e,xe,we,Te,Me){return Me===Se.CORNER?{x:_e,y:xe,w:we,h:Te}:Me===Se.CORNERS?{x:_e,y:xe,w:we-_e,h:Te-xe}:Me===Se.RADIUS?{x:_e-we,y:xe-Te,w:2*we,h:2*Te}:Me===Se.CENTER?{x:_e-.5*we,y:xe-.5*Te,w:we,h:Te}:void 0}}},{"./constants":264,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],272:[function(_e,xe,we){_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.promise"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/web.dom-collections.iterator"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.promise"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/web.dom-collections.iterator");var Se=(Te=_e("../core/main"))&&Te.__esModule?Te:{default:Te};_e("./internationalization");var Te=Promise.resolve();Promise.all([new Promise((function(_e,xe){"complete"===document.readyState?_e():window.addEventListener("load",_e,!1)})),Te]).then((function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!Se.default.instance&&new Se.default}))},{"../core/main":275,"./internationalization":273,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/web.dom-collections.iterator":238}],273:[function(xe,we,Se){xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.setTranslatorLanguage=Se.currentTranslatorLanguage=Se.availableTranslatorLanguages=Se.initialize=Se.translator=void 0;var Te,Me,Ye=a(xe("i18next")),Ze=a(xe("i18next-browser-languagedetector"));function a(_e){return _e&&_e.__esModule?_e:{default:_e}}function l(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}var Qe=function(){function r(xe,we){if(!((this||_e)instanceof r))throw new TypeError("Cannot call a class as a function");this.init(xe,we)}var xe,we,Se;return xe=r,(we=[{key:"fetchWithTimeout",value:function(_e,xe){var we=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(_e,xe),new Promise((function(_e,xe){return setTimeout((function(){return xe(new Error("timeout"))}),we)}))])}},{key:"init",value:function(xe){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(this||_e).services=xe,(this||_e).options=we}},{key:"read",value:function(xe,we,Se){var Ye=(this||_e).options.loadPath;xe===(this||_e).options.fallback?Se(null,Te[xe][we]):Me.includes(xe)?(Ye=(this||_e).services.interpolator.interpolate(Ye,{lng:xe,ns:we}),this.loadUrl(Ye,Se)):Se("Not found",!1)}},{key:"loadUrl",value:function(_e,xe){this.fetchWithTimeout(_e).then((function(xe){if(xe.ok)return xe.json();throw new Error("failed loading ".concat(_e))}),(function(){throw new Error("failed loading ".concat(_e))})).then((function(_e){return xe(null,_e)})).catch(xe)}}])&&l(xe.prototype,we),Se&&l(xe,Se),r}();Qe.type="backend",Se.translator=function(_e,xe){console.debug("p5.js translator called before translations were loaded"),Ye.default.t(_e,xe)},Se.initialize=function(){return Ye.default.use(Ze.default).use(Qe).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:Te}).then((function(_e){Se.translator=_e}),(function(_e){return console.debug("Translations failed to load (".concat(_e,")"))}))},Se.availableTranslatorLanguages=function(){return Ye.default.languages},Se.currentTranslatorLanguage=function(_e){return Ye.default.language};Se.setTranslatorLanguage=function(_e){return Ye.default.changeLanguage(_e||void 0,(function(_e){return console.debug("Translations failed to load (".concat(_e,")"))}))}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238,i18next:3,"i18next-browser-languagedetector":3}],274:[function(_e,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;_e=(_e=_e("./main"))&&_e.__esModule?_e:{default:_e};_e.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},_e.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},_e.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},_e.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};_e=_e.default;we.default=_e},{"./main":275}],275:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-own-property-names"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.get-own-property-names"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0,xe("./shim");var Te=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("./constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function s(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}var Me,Ye=function(){function g(xe,we){var Se=this||_e;if(!((this||_e)instanceof g))throw new TypeError("Cannot call a class as a function");(this||_e)._setupDone=!1,(this||_e)._preloadDone=!1,(this||_e)._pixelDensity=Math.ceil(window.devicePixelRatio)||1,(this||_e)._userNode=we,(this||_e)._curElement=null,(this||_e)._elements=[],(this||_e)._glAttributes=null,(this||_e)._requestAnimId=0,(this||_e)._preloadCount=0,(this||_e)._isGlobal=!1,(this||_e)._loop=!0,(this||_e)._startListener=null,this._initializeInstanceVariables(),(this||_e)._defaultCanvasSize={width:100,height:100},(this||_e)._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},(this||_e)._millisStart=-1,(this||_e)._recording=!1,(this||_e)._lcg_random_state=null,(this||_e)._gaussian_previous=!1,(this||_e)._events.wheel=null,(this||_e)._loadingScreenId="p5_loading",(this||_e)._registeredMethods={};we=Object.getOwnPropertyNames(g.prototype._registeredMethods);var Te=!0,Me=!1,Ye=void 0;try{for(var Ze,Qe=we[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;(this||_e)._registeredMethods[Ke]=g.prototype._registeredMethods[Ke].slice()}}catch(xe){Me=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Me)throw Ye}}window.DeviceOrientationEvent&&((this||_e)._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&((this||_e)._events.devicemotion=null),g.prototype.callRegisteredHooksFor=function(xe){var we=this||_e||g.prototype,Se=(this||_e)._isGlobal?window:this||_e;if(we._registeredMethods.hasOwnProperty(xe)){we=we._registeredMethods[xe];var Te=!0,Me=(xe=!1,void 0);try{for(var Ye,Ze=we[Symbol.iterator]();!(Te=(Ye=Ze.next()).done);Te=!0){var Qe=Ye.value;"function"==typeof Qe&&Qe.call(Se)}}catch(we){xe=!0,Me=we}finally{try{Te||null==Ze.return||Ze.return()}finally{if(xe)throw Me}}}},(this||_e)._start=function(){Se._userNode&&"string"==typeof Se._userNode&&(Se._userNode=document.getElementById(Se._userNode));var _e=Se._isGlobal?window:Se;if(_e.preload){Se.callRegisteredHooksFor("beforePreload");var xe,we=document.getElementById(Se._loadingScreenId),Te=(we||((we=document.createElement("div")).innerHTML="Loading...",we.style.position="absolute",we.id=Se._loadingScreenId,(Se._userNode||document.body).appendChild(we)),Se._preloadMethods);for(xe in Te){Te[xe]=Te[xe]||g;var Me=Te[xe];Me!==g.prototype&&Me!==g||(Se._isGlobal&&(window[xe]=Se._wrapPreload(Se,xe)),Me=Se),Se._registeredPreloadMethods[xe]=Me[xe],Me[xe]=Se._wrapPreload(Me,xe)}_e.preload(),Se._runIfPreloadsAreDone()}else Se._setup(),Se._recording||Se._draw()},(this||_e)._runIfPreloadsAreDone=function(){var xe,we=(this||_e)._isGlobal?window:this||_e;0===we._preloadCount&&((xe=document.getElementById(we._loadingScreenId))&&xe.parentNode.removeChild(xe),this.callRegisteredHooksFor("afterPreload"),(this||_e)._setupDone||((this||_e)._lastTargetFrameTime=window.performance.now(),(this||_e)._lastRealFrameTime=window.performance.now(),we._setup(),(this||_e)._recording||we._draw()))},(this||_e)._decrementPreload=function(){var xe=(this||_e)._isGlobal?window:this||_e;xe._preloadDone||"function"!=typeof xe.preload||(xe._setProperty("_preloadCount",xe._preloadCount-1),xe._runIfPreloadsAreDone())},(this||_e)._wrapPreload=function(xe,we){var Se=this||_e;return function(){Se._incrementPreload();for(var _e=arguments.length,Te=new Array(_e),Me=0;Me<_e;Me++)Te[Me]=arguments[Me];return Se._registeredPreloadMethods[we].apply(xe,Te)}},(this||_e)._incrementPreload=function(){var xe=(this||_e)._isGlobal?window:this||_e;xe._preloadDone||xe._setProperty("_preloadCount",xe._preloadCount+1)},(this||_e)._setup=function(){Se.callRegisteredHooksFor("beforeSetup"),Se.createCanvas(Se._defaultCanvasSize.width,Se._defaultCanvasSize.height,"p2d");var _e=Se._isGlobal?window:Se;if("function"==typeof _e.preload)for(var xe in Se._preloadMethods)_e[xe]=Se._preloadMethods[xe][xe],_e[xe]&&Se&&(_e[xe]=_e[xe].bind(Se));Se._millisStart=window.performance.now(),_e._preloadDone=!0,"function"==typeof _e.setup&&_e.setup();var we=document.getElementsByTagName("canvas"),Te=!0,Me=!1,Ye=void 0;try{for(var Ze,Qe=we[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;"true"===Ke.dataset.hidden&&(Ke.style.visibility="",delete Ke.dataset.hidden)}}catch(_e){Me=!0,Ye=_e}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Me)throw Ye}}Se._lastTargetFrameTime=window.performance.now(),Se._lastRealFrameTime=window.performance.now(),Se._setupDone=!0,(Se._accessibleOutputs.grid||Se._accessibleOutputs.text)&&Se._updateAccsOutput(),Se.callRegisteredHooksFor("afterSetup")},(this||_e)._draw=function(){var _e=window.performance.now(),xe=_e-Se._lastTargetFrameTime,we=1e3/Se._targetFrameRate;(!Se._loop||we-5<=xe)&&(Se.deltaTime=_e-Se._lastRealFrameTime,Se._setProperty("deltaTime",Se.deltaTime),Se._frameRate=1e3/Se.deltaTime,Se.redraw(),Se._lastTargetFrameTime=Math.max(Se._lastTargetFrameTime+we,_e),Se._lastRealFrameTime=_e,void 0!==Se._updateMouseCoords&&(Se._updateMouseCoords(),Se._setProperty("movedX",0),Se._setProperty("movedY",0))),Se._loop&&(Se._requestAnimId=window.requestAnimationFrame(Se._draw))},(this||_e)._setProperty=function(_e,xe){Se[_e]=xe,Se._isGlobal&&(window[_e]=xe)},(this||_e).remove=function(){Se._startListener&&window.removeEventListener("load",Se._startListener,!1);var _e=document.getElementById(Se._loadingScreenId);if(_e&&(_e.parentNode.removeChild(_e),Se._incrementPreload()),Se._curElement){for(var xe in Se._loop=!1,Se._requestAnimId&&window.cancelAnimationFrame(Se._requestAnimId),Se._events)window.removeEventListener(xe,Se._events[xe]);var we=!0,Te=(_e=!1,void 0);try{for(var Me,Ye=Se._elements[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0){var Ze,Qe=Me.value;for(Ze in Qe.elt&&Qe.elt.parentNode&&Qe.elt.parentNode.removeChild(Qe.elt),Qe._events)Qe.elt.removeEventListener(Ze,Qe._events[Ze])}}catch(xe){_e=!0,Te=xe}finally{try{we||null==Ye.return||Ye.return()}finally{if(_e)throw Te}}var Ke=Se;Se._registeredMethods.remove.forEach((function(_e){void 0!==_e&&_e.call(Ke)}))}if(Se._isGlobal){for(var Je in g.prototype)try{delete window[Je]}catch(xe){window[Je]=void 0}for(var $e in Se)if(Se.hasOwnProperty($e))try{delete window[$e]}catch(xe){window[$e]=void 0}g.instance=null}},(this||_e)._registeredMethods.init.forEach((function(xe){void 0!==xe&&xe.call(this||_e)}),this||_e),this._setupPromisePreloads();var Je,$e,et=this._createFriendlyGlobalFunctionBinder();if(xe)xe(this||_e),g._checkForUserDefinedFunctions(this||_e);else{for(var tt in(this||_e)._isGlobal=!0,g.instance=this||_e,g.prototype)"function"==typeof g.prototype[tt]?(Je=tt.substring(2),(this||_e)._events.hasOwnProperty(Je)||(Math.hasOwnProperty(tt)&&Math[tt]===g.prototype[tt]?et(tt,g.prototype[tt]):et(tt,g.prototype[tt].bind(this||_e)))):et(tt,g.prototype[tt]);for(var rt in this||_e)this.hasOwnProperty(rt)&&et(rt,(this||_e)[rt])}for($e in(this||_e)._events){var ot=(this||_e)["_on".concat($e)];ot&&(ot=ot.bind(this||_e),window.addEventListener($e,ot,{passive:!1}),(this||_e)._events[$e]=ot)}function m(){Se._setProperty("focused",!0)}function y(){Se._setProperty("focused",!1)}window.addEventListener("focus",m),window.addEventListener("blur",y),this.registerMethod("remove",(function(){window.removeEventListener("focus",m),window.removeEventListener("blur",y)})),"complete"===document.readyState?this._start():((this||_e)._startListener=(this||_e)._start.bind(this||_e),window.addEventListener("load",(this||_e)._startListener,!1))}var xe,we,Se;return xe=g,(we=[{key:"_initializeInstanceVariables",value:function(){(this||_e)._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},(this||_e)._styles=[],(this||_e)._bezierDetail=20,(this||_e)._curveDetail=20,(this||_e)._colorMode=Te.RGB,(this||_e)._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},(this||_e)._downKeys={}}},{key:"registerPreloadMethod",value:function(_e,xe){g.prototype._preloadMethods.hasOwnProperty(_e)||(g.prototype._preloadMethods[_e]=xe)}},{key:"registerMethod",value:function(xe,we){var Se=this||_e||g.prototype;Se._registeredMethods.hasOwnProperty(xe)||(Se._registeredMethods[xe]=[]),Se._registeredMethods[xe].push(we)}},{key:"unregisterMethod",value:function(xe,we){var Se=this||_e||g.prototype;if(Se._registeredMethods.hasOwnProperty(xe)){for(var Te=Se._registeredMethods[xe],Me=[],Ye=0;Ye<Te.length;Ye++)Te[Ye]===we&&Me.push(Ye);for(var Ze=Me.length-1;0<=Ze;Ze--)Te.splice(Me[Ze],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var _e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},xe=_e.globalObject||window;_e.log||console.log.bind(console);return function(_e,we){g.disableFriendlyErrors,xe[_e]=we}}}])&&s(xe.prototype,we),Se&&s(xe,Se),g}();for(Me in Ye.instance=null,Ye.disableFriendlyErrors=!1,Te)Ye.prototype[Me]=Te[Me];Ye.VERSION=Te.VERSION,Ye.prototype._preloadMethods={loadJSON:Ye.prototype,loadImage:Ye.prototype,loadStrings:Ye.prototype,loadXML:Ye.prototype,loadBytes:Ye.prototype,loadTable:Ye.prototype,loadFont:Ye.prototype,loadModel:Ye.prototype,loadShader:Ye.prototype},Ye.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},Ye.prototype._registeredPreloadMethods={},Se.default=Ye},{"./constants":264,"./shim":286,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],276:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("./main"))&&xe.__esModule?xe:{default:xe};function s(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}Te.default.Element=function(){function r(xe,we){if(!((this||_e)instanceof r))throw new TypeError("Cannot call a class as a function");(this||_e).elt=xe,(this||_e)._pInst=(this||_e)._pixelsState=we,(this||_e)._events={},(this||_e).width=(this||_e).elt.offsetWidth,(this||_e).height=(this||_e).elt.offsetHeight}var xe,we,Se;return xe=r,Se=[{key:"_adjustListener",value:function(xe,we,Se){return!1===we?Te.default.Element._detachListener(xe,Se):Te.default.Element._attachListener(xe,we,Se),this||_e}},{key:"_attachListener",value:function(_e,xe,we){we._events[_e]&&Te.default.Element._detachListener(_e,we);xe=xe.bind(we);we.elt.addEventListener(_e,xe,!1),we._events[_e]=xe}},{key:"_detachListener",value:function(_e,xe){var we=xe._events[_e];xe.elt.removeEventListener(_e,we,!1),xe._events[_e]=null}}],(we=[{key:"parent",value:function(xe){return void 0===xe?(this||_e).elt.parentNode:("string"==typeof xe?("#"===xe[0]&&(xe=xe.substring(1)),xe=document.getElementById(xe)):xe instanceof Te.default.Element&&(xe=xe.elt),xe.appendChild((this||_e).elt),this||_e)}},{key:"id",value:function(xe){return void 0===xe?(this||_e).elt.id:((this||_e).elt.id=xe,(this||_e).width=(this||_e).elt.offsetWidth,(this||_e).height=(this||_e).elt.offsetHeight,this||_e)}},{key:"class",value:function(xe){return void 0===xe?(this||_e).elt.className:((this||_e).elt.className=xe,this||_e)}},{key:"mousePressed",value:function(xe){return Te.default.Element._adjustListener("mousedown",(function(we){return(this||_e)._pInst._setProperty("mouseIsPressed",!0),(this||_e)._pInst._setMouseButton(we),xe.call(this||_e,we)}),this||_e),this||_e}},{key:"doubleClicked",value:function(xe){return Te.default.Element._adjustListener("dblclick",xe,this||_e),this||_e}},{key:"mouseWheel",value:function(xe){return Te.default.Element._adjustListener("wheel",xe,this||_e),this||_e}},{key:"mouseReleased",value:function(xe){return Te.default.Element._adjustListener("mouseup",xe,this||_e),this||_e}},{key:"mouseClicked",value:function(xe){return Te.default.Element._adjustListener("click",xe,this||_e),this||_e}},{key:"mouseMoved",value:function(xe){return Te.default.Element._adjustListener("mousemove",xe,this||_e),this||_e}},{key:"mouseOver",value:function(xe){return Te.default.Element._adjustListener("mouseover",xe,this||_e),this||_e}},{key:"mouseOut",value:function(xe){return Te.default.Element._adjustListener("mouseout",xe,this||_e),this||_e}},{key:"touchStarted",value:function(xe){return Te.default.Element._adjustListener("touchstart",xe,this||_e),this||_e}},{key:"touchMoved",value:function(xe){return Te.default.Element._adjustListener("touchmove",xe,this||_e),this||_e}},{key:"touchEnded",value:function(xe){return Te.default.Element._adjustListener("touchend",xe,this||_e),this||_e}},{key:"dragOver",value:function(xe){return Te.default.Element._adjustListener("dragover",xe,this||_e),this||_e}},{key:"dragLeave",value:function(xe){return Te.default.Element._adjustListener("dragleave",xe,this||_e),this||_e}},{key:"_setProperty",value:function(xe,we){(this||_e)[xe]=we}}])&&s(xe.prototype,we),Se&&s(xe,Se),r}();xe=Te.default.Element;Se.default=xe},{"./main":275}],277:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("./main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("./constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function n(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function s(_e,xe){return(s=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}function h(xe){return function(){var we,Se=l(xe);return f(this||_e,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?(we=l(this||_e).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||_e,arguments))}}function f(_e,xe){return!xe||"object"!==i(xe)&&"function"!=typeof xe?p(_e):xe}function p(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function l(_e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(_e)}Te.default.Graphics=function(xe){var we=u;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&s(we,xe);var Se,Ye=h(u);function u(xe,we,Se,Ze,Qe){var Ke;if(!((this||_e)instanceof u))throw new TypeError("Cannot call a class as a function");$e=Qe||document.createElement("canvas"),(Ke=Ye.call(this||_e,$e,Ze)).canvas=$e;var Je,$e=Se||Me.P2D;Se=Ze._userNode||document.body;for(Je in Qe||Se.appendChild(Ke.canvas),Te.default.prototype)Ke[Je]||("function"==typeof Te.default.prototype[Je]?Ke[Je]=Te.default.prototype[Je].bind(p(Ke)):Ke[Je]=Te.default.prototype[Je]);return Te.default.prototype._initializeInstanceVariables.apply(p(Ke)),Ke.width=xe,Ke.height=we,Ke._pixelDensity=Ze._pixelDensity,$e===Me.WEBGL?Ke._renderer=new Te.default.RendererGL(Ke.canvas,p(Ke),!1):Ke._renderer=new Te.default.Renderer2D(Ke.canvas,p(Ke),!1),Ze._elements.push(p(Ke)),Object.defineProperty(p(Ke),"deltaTime",{get:function(){return(this||_e)._pInst.deltaTime}}),Ke._renderer.resize(xe,we),Ke._renderer._applyDefaults(),f(Ke,p(Ke))}return we=u,(xe=[{key:"reset",value:function(){(this||_e)._renderer.resetMatrix(),(this||_e)._renderer.isP3D&&(this||_e)._renderer._update()}},{key:"remove",value:function(){(this||_e).elt.parentNode&&(this||_e).elt.parentNode.removeChild((this||_e).elt);var xe,we=(this||_e)._pInst._elements.indexOf(this||_e);for(xe in-1!==we&&(this||_e)._pInst._elements.splice(we,1),(this||_e)._events)(this||_e).elt.removeEventListener(xe,(this||_e)._events[xe])}},{key:"createFramebuffer",value:function(xe){return new Te.default.Framebuffer(this||_e,xe)}}])&&n(we.prototype,xe),Se&&n(we,Se),u}(Te.default.Element);var Ye=Te.default.Graphics;Se.default=Ye},{"./constants":264,"./main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],278:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("./main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==l(_e)&&"function"!=typeof _e)return{default:_e};var xe=i();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function i(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,i=function(){return _e},_e)}function l(_e){return(l="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}function u(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function c(_e,xe){return(c=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}function d(xe){return function(){var we,Se,Te=n(xe);return we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?(we=n(this||_e).constructor,Reflect.construct(Te,arguments,we)):Te.apply(this||_e,arguments),Te=this||_e,!(Se=we)||"object"!==l(Se)&&"function"!=typeof Se?h(Te):Se}}function h(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function n(_e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(_e)}var Ye=function(xe){var we=s;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&c(we,xe);var Se,Ye=d(s);function s(xe,we,Se){var Te;if((this||_e)instanceof s)return(Te=Ye.call(this||_e,xe,we)).canvas=xe,Te._pixelsState=we,Se?(Te._isMainCanvas=!0,Te._pInst._setProperty("_curElement",h(Te)),Te._pInst._setProperty("canvas",Te.canvas),Te._pInst._setProperty("width",Te.width),Te._pInst._setProperty("height",Te.height)):(Te.canvas.style.display="none",Te._styles=[]),Te._clipping=!1,Te._clipInvert=!1,Te._textSize=12,Te._textLeading=15,Te._textFont="sans-serif",Te._textStyle=Me.NORMAL,Te._textAscent=null,Te._textDescent=null,Te._textAlign=Me.LEFT,Te._textBaseline=Me.BASELINE,Te._textWrap=Me.WORD,Te._rectMode=Me.CORNER,Te._ellipseMode=Me.CENTER,Te._curveTightness=0,Te._imageMode=Me.CORNER,Te._tint=null,Te._doStroke=!0,Te._doFill=!0,Te._strokeSet=!1,Te._fillSet=!1,Te._leadingSet=!1,Te._pushPopDepth=0,Te;throw new TypeError("Cannot call a class as a function")}return we=s,(xe=[{key:"push",value:function(){return(this||_e)._pushPopDepth++,{properties:{_doStroke:(this||_e)._doStroke,_strokeSet:(this||_e)._strokeSet,_doFill:(this||_e)._doFill,_fillSet:(this||_e)._fillSet,_tint:(this||_e)._tint,_imageMode:(this||_e)._imageMode,_rectMode:(this||_e)._rectMode,_ellipseMode:(this||_e)._ellipseMode,_textFont:(this||_e)._textFont,_textLeading:(this||_e)._textLeading,_leadingSet:(this||_e)._leadingSet,_textSize:(this||_e)._textSize,_textAlign:(this||_e)._textAlign,_textBaseline:(this||_e)._textBaseline,_textStyle:(this||_e)._textStyle,_textWrap:(this||_e)._textWrap}}}},{key:"pop",value:function(xe){(this||_e)._pushPopDepth--,xe.properties&&Object.assign(this||_e,xe.properties)}},{key:"beginClip",value:function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if((this||_e)._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");(this||_e)._clipping=!0,(this||_e)._clipInvert=xe.invert}},{key:"endClip",value:function(){if(!(this||_e)._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");(this||_e)._clipping=!1}},{key:"resize",value:function(xe,we){(this||_e).width=xe,(this||_e).height=we,(this||_e).elt.width=xe*(this||_e)._pInst._pixelDensity,(this||_e).elt.height=we*(this||_e)._pInst._pixelDensity,(this||_e).elt.style.width="".concat(xe,"px"),(this||_e).elt.style.height="".concat(we,"px"),(this||_e)._isMainCanvas&&((this||_e)._pInst._setProperty("width",(this||_e).width),(this||_e)._pInst._setProperty("height",(this||_e).height))}},{key:"get",value:function(xe,we,Se,Me){var Ye=(this||_e)._pixelsState,Ze=Ye._pixelDensity,Qe=(this||_e).canvas;if(void 0===xe&&void 0===we)xe=we=0,Se=Ye.width,Me=Ye.height;else if(xe*=Ze,we*=Ze,void 0===Se&&void 0===Me)return xe<0||we<0||xe>=Qe.width||we>=Qe.height?[0,0,0,0]:this._getPixel(xe,we);Ye=new Te.default.Image(Se*Ze,Me*Ze);return Ye.pixelDensity(Ze),Ye.canvas.getContext("2d").drawImage(Qe,xe,we,Se*Ze,Me*Ze,0,0,Se*Ze,Me*Ze),Ye}},{key:"textLeading",value:function(xe){return"number"==typeof xe?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",xe),(this||_e)._pInst):(this||_e)._textLeading}},{key:"textStyle",value:function(xe){return xe?(xe!==Me.NORMAL&&xe!==Me.ITALIC&&xe!==Me.BOLD&&xe!==Me.BOLDITALIC||this._setProperty("_textStyle",xe),this._applyTextProperties()):(this||_e)._textStyle}},{key:"textAscent",value:function(){return null===(this||_e)._textAscent&&this._updateTextMetrics(),(this||_e)._textAscent}},{key:"textDescent",value:function(){return null===(this||_e)._textDescent&&this._updateTextMetrics(),(this||_e)._textDescent}},{key:"textAlign",value:function(xe,we){return void 0!==xe?(this._setProperty("_textAlign",xe),void 0!==we&&this._setProperty("_textBaseline",we),this._applyTextProperties()):{horizontal:(this||_e)._textAlign,vertical:(this||_e)._textBaseline}}},{key:"textWrap",value:function(xe){return this._setProperty("_textWrap",xe),(this||_e)._textWrap}},{key:"text",value:function(xe,we,Se,Te,Ye){var Ze,Qe,Ke,Je,$e=(this||_e)._pInst,et=(this||_e)._textWrap,tt=Number.MAX_VALUE,rt=Se;if(((this||_e)._doFill||(this||_e)._doStroke)&&void 0!==xe){if(Ze=(xe=(xe="string"!=typeof xe?xe.toString():xe).replace(/(\t)/g,"  ")).split("\n"),void 0!==Te){switch((this||_e)._rectMode===Me.CENTER&&(we-=Te/2),(this||_e)._textAlign){case Me.CENTER:we+=Te/2;break;case Me.RIGHT:we+=Te}if(void 0!==Ye){(this||_e)._rectMode===Me.CENTER&&(Se-=Ye/2,rt-=Ye/2);xe=Se;var ot=$e.textAscent();switch((this||_e)._textBaseline){case Me.BOTTOM:Je=Se+Ye,Se=Math.max(Je,Se),rt+=ot;break;case Me.CENTER:Je=Se+Ye/2,Se=Math.max(Je,Se),rt+=ot/2}tt=Se+Ye-ot,(this||_e)._textBaseline===Me.CENTER&&(tt=xe+Ye-ot/2)}else(this||_e)._textBaseline!==Me.BOTTOM&&(this||_e)._textBaseline!==Me.CENTER||(rt=Se-(xe=$e.textSize()*(this||_e)._textLeading)/2,tt=Se+xe/2);if(et===Me.WORD){for(var nt=[],st=0;st<Ze.length;st++){for(var it="",dt=Ze[st].split(" "),ht=0;ht<dt.length;ht++)Qe="".concat(it+dt[ht])+" ",it=Te<(Ke=this.textWidth(Qe))&&0<it.length?(nt.push(it),"".concat(dt[ht])+" "):Qe;nt.push(it)}var ft=0;(this||_e)._textBaseline===Me.CENTER?ft=(nt.length-1)*$e.textLeading()/2:(this||_e)._textBaseline===Me.BOTTOM&&(ft=(nt.length-1)*$e.textLeading());for(var pt=0;pt<Ze.length;pt++){it="",dt=Ze[pt].split(" ");for(var mt=0;mt<dt.length;mt++)Qe="".concat(it+dt[mt])+" ",Te<(Ke=this.textWidth(Qe))&&0<it.length?(this._renderText($e,it.trim(),we,Se-ft,tt,rt),it="".concat(dt[mt])+" ",Se+=$e.textLeading()):it=Qe;this._renderText($e,it.trim(),we,Se-ft,tt,rt),Se+=$e.textLeading()}}else{for(var yt=[],gt=0;gt<Ze.length;gt++)for(var wt=Ze[gt].split(it=""),Dt=0;Dt<wt.length;Dt++)Qe="".concat(it+wt[Dt]),(Ke=this.textWidth(Qe))<=Te?it+=wt[Dt]:Te<Ke&&0<it.length&&(yt.push(it),it="".concat(wt[Dt]));yt.push(it);var Xt=0;(this||_e)._textBaseline===Me.CENTER?Xt=(yt.length-1)*$e.textLeading()/2:(this||_e)._textBaseline===Me.BOTTOM&&(Xt=(yt.length-1)*$e.textLeading());for(var Yt=0;Yt<Ze.length;Yt++){wt=Ze[Yt].split(it="");for(var br=0;br<wt.length;br++)Qe="".concat(it+wt[br]),(Ke=this.textWidth(Qe))<=Te?it+=wt[br]:Te<Ke&&0<it.length&&(this._renderText($e,it.trim(),we,Se-Xt,tt,rt),Se+=$e.textLeading(),it="".concat(wt[br]))}this._renderText($e,it.trim(),we,Se-Xt,tt,rt),Se+=$e.textLeading()}}else{var jr=0;(this||_e)._textBaseline===Me.CENTER?jr=(Ze.length-1)*$e.textLeading()/2:(this||_e)._textBaseline===Me.BOTTOM&&(jr=(Ze.length-1)*$e.textLeading());for(var xr=0;xr<Ze.length;xr++)this._renderText($e,Ze[xr],we,Se-jr,tt,rt-jr),Se+=$e.textLeading()}return $e}}},{key:"_applyDefaults",value:function(){return this||_e}},{key:"_isOpenType",value:function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(this||_e)._textFont;return"object"===l(xe)&&xe.font&&xe.font.supported}},{key:"_updateTextMetrics",value:function(){var xe,we,Se,Te,Me,Ye;return this._isOpenType()?(this._setProperty("_textAscent",(this||_e)._textFont._textAscent()),this._setProperty("_textDescent",(this||_e)._textFont._textDescent())):((xe=document.createElement("span")).style.fontFamily=(this||_e)._textFont,xe.style.fontSize="".concat((this||_e)._textSize,"px"),xe.innerHTML="ABCjgq|",(Ye=document.createElement("div")).style.display="inline-block",Ye.style.width="1px",Ye.style.height="0px",Te=((we=document.createElement("div")).appendChild(xe),we.appendChild(Ye),we.style.height="0px",we.style.overflow="hidden",document.body.appendChild(we),Ye.style.verticalAlign="baseline",f(Ye)),Me=f(xe),Se=Te[1]-Me[1],Te=(Ye.style.verticalAlign="bottom",f(Ye)),Me=f(xe),Ye=Te[1]-Me[1]-Se,document.body.removeChild(we),this._setProperty("_textAscent",Se),this._setProperty("_textDescent",Ye)),this||_e}}])&&u(we.prototype,xe),Se&&u(we,Se),s}(Te.default.Element);function f(_e){var xe=0,we=0;if(_e.offsetParent)for(;xe+=_e.offsetLeft,we+=_e.offsetTop,_e=_e.offsetParent;);else xe+=_e.offsetLeft,we+=_e.offsetTop;return[xe,we]}Ye.prototype.textSize=function(xe){return"number"==typeof xe?(this._setProperty("_textSize",xe),(this||_e)._leadingSet||this._setProperty("_textLeading",xe*Me._DEFAULT_LEADMULT),this._applyTextProperties()):(this||_e)._textSize},Te.default.Renderer=Ye;xe=Te.default.Renderer;Se.default=xe},{"../core/constants":264,"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],279:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.reflect.get"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ze=xe("./main"))&&Ze.__esModule?Ze:{default:Ze},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("./constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function s(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function l(_e,xe,we){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(_e,xe,we){_e=function(_e,xe){for(;!Object.prototype.hasOwnProperty.call(_e,xe)&&null!==(_e=h(_e)););return _e}(_e,xe);if(_e)return(_e=Object.getOwnPropertyDescriptor(_e,xe)).get?_e.get.call(we):_e.value})(_e,xe,we||_e)}function u(_e,xe){return(u=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}function c(xe){return function(){var we,Se=h(xe);Se=(we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?(we=h(this||_e).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||_e,arguments),this||_e);if(!we||"object"!==i(we)&&"function"!=typeof we){if(void 0!==Se)return Se;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return we}}function h(_e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(_e)}xe("./p5.Renderer");var Ye="rgba(0,0,0,0)",Ze=function(xe){var we=n;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&u(we,xe);var Se,Ze=c(n);function n(xe,we,Se){if((this||_e)instanceof n)return(xe=Ze.call(this||_e,xe,we,Se)).drawingContext=xe.canvas.getContext("2d"),xe._pInst._setProperty("drawingContext",xe.drawingContext),xe;throw new TypeError("Cannot call a class as a function")}return we=n,(xe=[{key:"getFilterGraphicsLayer",value:function(){var xe;return(this||_e).filterGraphicsLayer||(xe=((this||_e)._pInst instanceof Te.default.Graphics?(this||_e)._pInst:this||_e)._pInst,(this||_e).filterGraphicsLayer=new Te.default.Graphics((this||_e).width,(this||_e).height,Me.WEBGL,xe)),(this||_e).filterGraphicsLayer.width===(this||_e).width&&(this||_e).filterGraphicsLayer.height===(this||_e).height||(this||_e).filterGraphicsLayer.resizeCanvas((this||_e).width,(this||_e).height),(this||_e).filterGraphicsLayer.pixelDensity()!==(this||_e)._pInst.pixelDensity()&&(this||_e).filterGraphicsLayer.pixelDensity((this||_e)._pInst.pixelDensity()),(this||_e).filterGraphicsLayer}},{key:"_applyDefaults",value:function(){(this||_e)._cachedFillStyle=(this||_e)._cachedStrokeStyle=void 0,(this||_e)._cachedBlendMode=Me.BLEND,this._setFill(Me._DEFAULT_FILL),this._setStroke(Me._DEFAULT_STROKE),(this||_e).drawingContext.lineCap=Me.ROUND,(this||_e).drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(xe,we){l(h(n.prototype),"resize",this||_e).call(this||_e,xe,we),(this||_e).drawingContext.scale((this||_e)._pInst._pixelDensity,(this||_e)._pInst._pixelDensity)}},{key:"background",value:function(){var xe,we;(this||_e).drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof Te.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(xe=arguments.length<=0?void 0:arguments[0],(this||_e).drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,(this||_e)._pInst.image(xe,0,0,(this||_e).width,(this||_e).height)):(this||_e)._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,(this||_e).width,(this||_e).height):(xe=this._getFill(),we=(we=(this||_e)._pInst).color.apply(we,arguments),(this||_e)._pInst._addAccsOutput()&&(this||_e)._pInst._accsBackground(we.levels),we=we.toString(),this._setFill(we),(this||_e)._isErasing&&this.blendMode((this||_e)._cachedBlendMode),(this||_e).drawingContext.fillRect(0,0,(this||_e).width,(this||_e).height),this._setFill(xe),(this||_e)._isErasing&&(this||_e)._pInst.erase()),(this||_e).drawingContext.restore()}},{key:"clear",value:function(){(this||_e).drawingContext.save(),this.resetMatrix(),(this||_e).drawingContext.clearRect(0,0,(this||_e).width,(this||_e).height),(this||_e).drawingContext.restore()}},{key:"fill",value:function(){var xe=(xe=(this||_e)._pInst).color.apply(xe,arguments);this._setFill(xe.toString()),(this||_e)._pInst._addAccsOutput()&&(this||_e)._pInst._accsCanvasColors("fill",xe.levels)}},{key:"stroke",value:function(){var xe=(xe=(this||_e)._pInst).color.apply(xe,arguments);this._setStroke(xe.toString()),(this||_e)._pInst._addAccsOutput()&&(this||_e)._pInst._accsCanvasColors("stroke",xe.levels)}},{key:"erase",value:function(xe,we){(this||_e)._isErasing||((this||_e)._cachedFillStyle=(this||_e).drawingContext.fillStyle,xe=(this||_e)._pInst.color(255,xe).toString(),(this||_e).drawingContext.fillStyle=xe,(this||_e)._cachedStrokeStyle=(this||_e).drawingContext.strokeStyle,xe=(this||_e)._pInst.color(255,we).toString(),(this||_e).drawingContext.strokeStyle=xe,we=(this||_e)._cachedBlendMode,this.blendMode(Me.REMOVE),(this||_e)._cachedBlendMode=we,(this||_e)._isErasing=!0)}},{key:"noErase",value:function(){(this||_e)._isErasing&&((this||_e).drawingContext.fillStyle=(this||_e)._cachedFillStyle,(this||_e).drawingContext.strokeStyle=(this||_e)._cachedStrokeStyle,this.blendMode((this||_e)._cachedBlendMode),(this||_e)._isErasing=!1)}},{key:"beginClip",value:function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};xe=(l(h(n.prototype),"beginClip",this||_e).call(this||_e,xe),(this||_e)._cachedFillStyle=(this||_e).drawingContext.fillStyle,(this||_e)._pInst.color(255,0).toString()),xe=((this||_e).drawingContext.fillStyle=xe,(this||_e)._cachedStrokeStyle=(this||_e).drawingContext.strokeStyle,(this||_e)._pInst.color(255,0).toString()),xe=((this||_e).drawingContext.strokeStyle=xe,(this||_e)._cachedBlendMode);this.blendMode(Me.BLEND),(this||_e)._cachedBlendMode=xe,(this||_e).drawingContext.beginPath(),(this||_e)._clipInvert&&((this||_e).drawingContext.moveTo(-2*(this||_e).width,-2*(this||_e).height),(this||_e).drawingContext.lineTo(-2*(this||_e).width,2*(this||_e).height),(this||_e).drawingContext.lineTo(2*(this||_e).width,2*(this||_e).height),(this||_e).drawingContext.lineTo(2*(this||_e).width,-2*(this||_e).height),(this||_e).drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),(this||_e).drawingContext.clip(),l(h(n.prototype),"endClip",this||_e).call(this||_e),(this||_e).drawingContext.fillStyle=(this||_e)._cachedFillStyle,(this||_e).drawingContext.strokeStyle=(this||_e)._cachedStrokeStyle,this.blendMode((this||_e)._cachedBlendMode)}},{key:"image",value:function(xe,we,Se,Me,Ye,Ze,Qe,Ke,Je){xe.gifProperties&&xe._animateGif((this||_e)._pInst);try{Te.default.MediaElement&&xe instanceof Te.default.MediaElement&&xe._ensureCanvas();var $e=($e=(this||_e)._tint&&xe.canvas?this._getTintedImageCanvas(xe):$e)||xe.canvas||xe.elt,et=1;xe.width&&0<xe.width&&(et=$e.width/xe.width),(this||_e)._isErasing&&this.blendMode((this||_e)._cachedBlendMode),(this||_e).drawingContext.drawImage($e,et*we,et*Se,et*Me,et*Ye,Ze,Qe,Ke,Je),(this||_e)._isErasing&&(this||_e)._pInst.erase()}catch(xe){if("NS_ERROR_NOT_AVAILABLE"!==xe.name)throw xe}}},{key:"_getTintedImageCanvas",value:function(xe){if(!xe.canvas)return xe;xe.tintCanvas||(xe.tintCanvas=document.createElement("canvas")),xe.tintCanvas.width!==xe.canvas.width&&(xe.tintCanvas.width=xe.canvas.width),xe.tintCanvas.height!==xe.canvas.height&&(xe.tintCanvas.height=xe.canvas.height);var we=xe.tintCanvas.getContext("2d");return we.save(),we.clearRect(0,0,xe.canvas.width,xe.canvas.height),((this||_e)._tint[0]<255||(this||_e)._tint[1]<255||(this||_e)._tint[2]<255)&&(we.drawImage(xe.canvas,0,0),we.globalCompositeOperation="luminosity",we.drawImage(xe.canvas,0,0),we.globalCompositeOperation="color",we.drawImage(xe.canvas,0,0),we.globalCompositeOperation="multiply",we.fillStyle="rgb(".concat((this||_e)._tint.slice(0,3).join(", "),")"),we.fillRect(0,0,xe.canvas.width,xe.canvas.height),we.globalCompositeOperation="destination-in"),we.globalAlpha=(this||_e)._tint[3]/255,we.drawImage(xe.canvas,0,0),we.restore(),xe.tintCanvas}},{key:"blendMode",value:function(xe){if(xe===Me.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(xe!==Me.BLEND&&xe!==Me.REMOVE&&xe!==Me.DARKEST&&xe!==Me.LIGHTEST&&xe!==Me.DIFFERENCE&&xe!==Me.MULTIPLY&&xe!==Me.EXCLUSION&&xe!==Me.SCREEN&&xe!==Me.REPLACE&&xe!==Me.OVERLAY&&xe!==Me.HARD_LIGHT&&xe!==Me.SOFT_LIGHT&&xe!==Me.DODGE&&xe!==Me.BURN&&xe!==Me.ADD)throw new Error("Mode ".concat(xe," not recognized."));(this||_e)._cachedBlendMode=xe,(this||_e).drawingContext.globalCompositeOperation=xe}}},{key:"blend",value:function(){for(var xe=(this||_e).drawingContext.globalCompositeOperation,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];var Ye=Se[Se.length-1],Ze=Array.prototype.slice.call(Se,0,Se.length-1);(this||_e).drawingContext.globalCompositeOperation=Ye,Te.default.prototype.copy.apply(this||_e,Ze),(this||_e).drawingContext.globalCompositeOperation=xe}},{key:"_getPixel",value:function(xe,we){xe=(this||_e).drawingContext.getImageData(xe,we,1,1).data;return[xe[0],xe[1],xe[2],xe[3]]}},{key:"loadPixels",value:function(){var xe=(this||_e)._pixelsState,we=xe._pixelDensity,Se=(this||_e).width*we;we=(this||_e).height*we,Se=(this||_e).drawingContext.getImageData(0,0,Se,we);xe._setProperty("imageData",Se),xe._setProperty("pixels",Se.data)}},{key:"set",value:function(xe,we,Se){xe=Math.floor(xe),we=Math.floor(we);var Me=(this||_e)._pixelsState;if(Se instanceof Te.default.Image)(this||_e).drawingContext.save(),(this||_e).drawingContext.setTransform(1,0,0,1,0,0),(this||_e).drawingContext.scale(Me._pixelDensity,Me._pixelDensity),(this||_e).drawingContext.clearRect(xe,we,Se.width,Se.height),(this||_e).drawingContext.drawImage(Se.canvas,xe,we),(this||_e).drawingContext.restore();else{var Ye=0,Ze=0,Qe=0,Ke=0,Je=4*(we*Me._pixelDensity*((this||_e).width*Me._pixelDensity)+xe*Me._pixelDensity);if(Me.imageData||Me.loadPixels.call(Me),"number"==typeof Se)Je<Me.pixels.length&&(Qe=Ze=Ye=Se,Ke=255);else if(Se instanceof Array){if(Se.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");Je<Me.pixels.length&&(Ye=Se[0],Ze=Se[1],Qe=Se[2],Ke=Se[3])}else Se instanceof Te.default.Color&&Je<Me.pixels.length&&(Ye=Se.levels[0],Ze=Se.levels[1],Qe=Se.levels[2],Ke=Se.levels[3]);for(var $e=0;$e<Me._pixelDensity;$e++)for(var et=0;et<Me._pixelDensity;et++)Je=4*((we*Me._pixelDensity+et)*(this||_e).width*Me._pixelDensity+(xe*Me._pixelDensity+$e)),Me.pixels[Je]=Ye,Me.pixels[Je+1]=Ze,Me.pixels[Je+2]=Qe,Me.pixels[Je+3]=Ke}}},{key:"updatePixels",value:function(xe,we,Se,Te){var Me=(this||_e)._pixelsState,Ye=Me._pixelDensity;void 0===xe&&void 0===we&&void 0===Se&&void 0===Te&&(we=xe=0,Se=(this||_e).width,Te=(this||_e).height),xe*=Ye,we*=Ye,Se*=Ye,Te*=Ye,(this||_e).gifProperties&&((this||_e).gifProperties.frames[(this||_e).gifProperties.displayIndex].image=Me.imageData),(this||_e).drawingContext.putImageData(Me.imageData,xe,we,0,0,Se,Te)}},{key:"_acuteArcToBezier",value:function(_e,xe){var we=xe/2,Se=Math.cos(we),Te=Math.sin(we),Me=1/Math.tan(we),Ye=(we=_e+we,Math.cos(we)),Ze=(we=Math.sin(we),(4-Se)/3);Te+=(Se-Ze)*Me;return{ax:Math.cos(_e).toFixed(7),ay:Math.sin(_e).toFixed(7),bx:(Ze*Ye+Te*we).toFixed(7),by:(Ze*we-Te*Ye).toFixed(7),cx:(Ze*Ye-Te*we).toFixed(7),cy:(Ze*we+Te*Ye).toFixed(7),dx:Math.cos(_e+xe).toFixed(7),dy:Math.sin(_e+xe).toFixed(7)}}},{key:"arc",value:function(xe,we,Se,Te,Ye,Ze,Qe){var Ke,Je=(this||_e).drawingContext,$e=Se/2,et=Te/2,tt=[];for(xe+=$e,we+=et;1e-5<=Ze-Ye;)Ke=Math.min(Ze-Ye,Me.HALF_PI),tt.push(this._acuteArcToBezier(Ye,Ke)),Ye+=Ke;return(this||_e)._doFill&&((this||_e)._clipping||Je.beginPath(),tt.forEach((function(_e,Se){0===Se&&Je.moveTo(xe+_e.ax*$e,we+_e.ay*et),Je.bezierCurveTo(xe+_e.bx*$e,we+_e.by*et,xe+_e.cx*$e,we+_e.cy*et,xe+_e.dx*$e,we+_e.dy*et)})),Qe!==Me.PIE&&null!=Qe||Je.lineTo(xe,we),Je.closePath(),(this||_e)._clipping||Je.fill()),(this||_e)._doStroke&&((this||_e)._clipping||Je.beginPath(),tt.forEach((function(_e,Se){0===Se&&Je.moveTo(xe+_e.ax*$e,we+_e.ay*et),Je.bezierCurveTo(xe+_e.bx*$e,we+_e.by*et,xe+_e.cx*$e,we+_e.cy*et,xe+_e.dx*$e,we+_e.dy*et)})),Qe===Me.PIE?(Je.lineTo(xe,we),Je.closePath()):Qe===Me.CHORD&&Je.closePath(),(this||_e)._clipping||Je.stroke()),this||_e}},{key:"ellipse",value:function(xe){var we=(this||_e).drawingContext,Se=(this||_e)._doFill,Te=(this||_e)._doStroke,Me=parseFloat(xe[0]),Ze=parseFloat(xe[1]),Qe=parseFloat(xe[2]);xe=parseFloat(xe[3]);if(Se&&!Te){if(this._getFill()===Ye)return this||_e}else if(!Se&&Te&&this._getStroke()===Ye)return this||_e;var Ke=Qe/2*.5522847498,Je=xe/2*.5522847498,$e=Me+Qe,et=Ze+xe;Qe=Me+Qe/2,xe=Ze+xe/2;(this||_e)._clipping||we.beginPath(),we.moveTo(Me,xe),we.bezierCurveTo(Me,xe-Je,Qe-Ke,Ze,Qe,Ze),we.bezierCurveTo(Qe+Ke,Ze,$e,xe-Je,$e,xe),we.bezierCurveTo($e,xe+Je,Qe+Ke,et,Qe,et),we.bezierCurveTo(Qe-Ke,et,Me,xe+Je,Me,xe),!(this||_e)._clipping&&Se&&we.fill(),!(this||_e)._clipping&&Te&&we.stroke()}},{key:"line",value:function(xe,we,Se,Te){var Me=(this||_e).drawingContext;return(this||_e)._doStroke&&this._getStroke()!==Ye&&((this||_e)._clipping||Me.beginPath(),Me.moveTo(xe,we),Me.lineTo(Se,Te),Me.stroke()),this||_e}},{key:"point",value:function(xe,we){var Se,Te,Ze=(this||_e).drawingContext;return(this||_e)._doStroke&&this._getStroke()!==Ye?(Se=this._getStroke(),Te=this._getFill(),(this||_e)._clipping||this._setFill(Se),(this||_e)._clipping||Ze.beginPath(),Ze.arc(xe,we,Ze.lineWidth/2,0,Me.TWO_PI,!1),void((this||_e)._clipping||(Ze.fill(),this._setFill(Te)))):this||_e}},{key:"quad",value:function(xe,we,Se,Te,Me,Ze,Qe,Ke){var Je=(this||_e).drawingContext,$e=(this||_e)._doFill,et=(this||_e)._doStroke;if($e&&!et){if(this._getFill()===Ye)return this||_e}else if(!$e&&et&&this._getStroke()===Ye)return this||_e;return(this||_e)._clipping||Je.beginPath(),Je.moveTo(xe,we),Je.lineTo(Se,Te),Je.lineTo(Me,Ze),Je.lineTo(Qe,Ke),Je.closePath(),!(this||_e)._clipping&&$e&&Je.fill(),!(this||_e)._clipping&&et&&Je.stroke(),this||_e}},{key:"rect",value:function(xe){var we,Se,Te=xe[0],Me=xe[1],Ze=xe[2],Qe=xe[3],Ke=xe[4],Je=xe[5],$e=xe[6],et=(xe=xe[7],(this||_e).drawingContext),tt=(this||_e)._doFill,rt=(this||_e)._doStroke;if(tt&&!rt){if(this._getFill()===Ye)return this||_e}else if(!tt&&rt&&this._getStroke()===Ye)return this||_e;return(this||_e)._clipping||et.beginPath(),void 0===Ke?et.rect(Te,Me,Ze,Qe):(void 0===Je&&(Je=Ke),void 0===$e&&($e=Je),void 0===xe&&(xe=$e),rt=(tt=Math.abs(Ze))/2,Se=(we=Math.abs(Qe))/2,we<2*(Ke=tt<2*Ke?rt:Ke)&&(Ke=Se),we<2*(Je=tt<2*Je?rt:Je)&&(Je=Se),we<2*($e=tt<2*$e?rt:$e)&&($e=Se),we<2*(xe=tt<2*xe?rt:xe)&&(xe=Se),(this||_e)._clipping||et.beginPath(),et.moveTo(Te+Ke,Me),et.arcTo(Te+Ze,Me,Te+Ze,Me+Qe,Je),et.arcTo(Te+Ze,Me+Qe,Te,Me+Qe,$e),et.arcTo(Te,Me+Qe,Te,Me,xe),et.arcTo(Te,Me,Te+Ze,Me,Ke),et.closePath()),!(this||_e)._clipping&&(this||_e)._doFill&&et.fill(),!(this||_e)._clipping&&(this||_e)._doStroke&&et.stroke(),this||_e}},{key:"triangle",value:function(xe){var we=(this||_e).drawingContext,Se=(this||_e)._doFill,Te=(this||_e)._doStroke,Me=xe[0],Ze=xe[1],Qe=xe[2],Ke=xe[3],Je=xe[4];xe=xe[5];if(Se&&!Te){if(this._getFill()===Ye)return this||_e}else if(!Se&&Te&&this._getStroke()===Ye)return this||_e;(this||_e)._clipping||we.beginPath(),we.moveTo(Me,Ze),we.lineTo(Qe,Ke),we.lineTo(Je,xe),we.closePath(),!(this||_e)._clipping&&Se&&we.fill(),!(this||_e)._clipping&&Te&&we.stroke()}},{key:"endShape",value:function(xe,we,Se,Te,Ye,Ze,Qe){if(0!==we.length&&((this||_e)._doStroke||(this||_e)._doFill)){var Ke,Je,$e,et=xe===Me.CLOSE,tt=(et&&!Ze&&we.push(we[0]),we.length);if(Se&&null===Qe){if(3<tt){var rt=[],ot=1-(this||_e)._curveTightness;for((this||_e)._clipping||(this||_e).drawingContext.beginPath(),(this||_e).drawingContext.moveTo(we[1][0],we[1][1]),Je=1;Je+2<tt;Je++)Ke=we[Je],rt[0]=[Ke[0],Ke[1]],rt[1]=[Ke[0]+(ot*we[Je+1][0]-ot*we[Je-1][0])/6,Ke[1]+(ot*we[Je+1][1]-ot*we[Je-1][1])/6],rt[2]=[we[Je+1][0]+(ot*we[Je][0]-ot*we[Je+2][0])/6,we[Je+1][1]+(ot*we[Je][1]-ot*we[Je+2][1])/6],rt[3]=[we[Je+1][0],we[Je+1][1]],(this||_e).drawingContext.bezierCurveTo(rt[1][0],rt[1][1],rt[2][0],rt[2][1],rt[3][0],rt[3][1]);et&&(this||_e).drawingContext.lineTo(we[Je+1][0],we[Je+1][1]),this._doFillStrokeClose(et)}}else if(Te&&null===Qe){for((this||_e)._clipping||(this||_e).drawingContext.beginPath(),Je=0;Je<tt;Je++)we[Je].isVert?we[Je].moveTo?(this||_e).drawingContext.moveTo(we[Je][0],we[Je][1]):(this||_e).drawingContext.lineTo(we[Je][0],we[Je][1]):(this||_e).drawingContext.bezierCurveTo(we[Je][0],we[Je][1],we[Je][2],we[Je][3],we[Je][4],we[Je][5]);this._doFillStrokeClose(et)}else if(Ye&&null===Qe){for((this||_e)._clipping||(this||_e).drawingContext.beginPath(),Je=0;Je<tt;Je++)we[Je].isVert?we[Je].moveTo?(this||_e).drawingContext.moveTo(we[Je][0],we[Je][1]):(this||_e).drawingContext.lineTo(we[Je][0],we[Je][1]):(this||_e).drawingContext.quadraticCurveTo(we[Je][0],we[Je][1],we[Je][2],we[Je][3]);this._doFillStrokeClose(et)}else if(Qe===Me.POINTS)for(Je=0;Je<tt;Je++)Ke=we[Je],(this||_e)._doStroke&&(this||_e)._pInst.stroke(Ke[6]),(this||_e)._pInst.point(Ke[0],Ke[1]);else if(Qe===Me.LINES)for(Je=0;Je+1<tt;Je+=2)Ke=we[Je],(this||_e)._doStroke&&(this||_e)._pInst.stroke(we[Je+1][6]),(this||_e)._pInst.line(Ke[0],Ke[1],we[Je+1][0],we[Je+1][1]);else if(Qe===Me.TRIANGLES)for(Je=0;Je+2<tt;Je+=3)Ke=we[Je],(this||_e)._clipping||(this||_e).drawingContext.beginPath(),(this||_e).drawingContext.moveTo(Ke[0],Ke[1]),(this||_e).drawingContext.lineTo(we[Je+1][0],we[Je+1][1]),(this||_e).drawingContext.lineTo(we[Je+2][0],we[Je+2][1]),(this||_e).drawingContext.closePath(),!(this||_e)._clipping&&(this||_e)._doFill&&((this||_e)._pInst.fill(we[Je+2][5]),(this||_e).drawingContext.fill()),!(this||_e)._clipping&&(this||_e)._doStroke&&((this||_e)._pInst.stroke(we[Je+2][6]),(this||_e).drawingContext.stroke());else if(Qe===Me.TRIANGLE_STRIP)for(Je=0;Je+1<tt;Je++)Ke=we[Je],(this||_e)._clipping||(this||_e).drawingContext.beginPath(),(this||_e).drawingContext.moveTo(we[Je+1][0],we[Je+1][1]),(this||_e).drawingContext.lineTo(Ke[0],Ke[1]),!(this||_e)._clipping&&(this||_e)._doStroke&&(this||_e)._pInst.stroke(we[Je+1][6]),!(this||_e)._clipping&&(this||_e)._doFill&&(this||_e)._pInst.fill(we[Je+1][5]),Je+2<tt&&((this||_e).drawingContext.lineTo(we[Je+2][0],we[Je+2][1]),!(this||_e)._clipping&&(this||_e)._doStroke&&(this||_e)._pInst.stroke(we[Je+2][6]),!(this||_e)._clipping&&(this||_e)._doFill&&(this||_e)._pInst.fill(we[Je+2][5])),this._doFillStrokeClose(et);else if(Qe===Me.TRIANGLE_FAN){if(2<tt){for((this||_e)._clipping||(this||_e).drawingContext.beginPath(),Je=2;Je<tt;Je++)Ke=we[Je],(this||_e).drawingContext.moveTo(we[0][0],we[0][1]),(this||_e).drawingContext.lineTo(we[Je-1][0],we[Je-1][1]),(this||_e).drawingContext.lineTo(Ke[0],Ke[1]),(this||_e).drawingContext.lineTo(we[0][0],we[0][1]),Je<tt-1&&((this||_e)._doFill&&Ke[5]!==we[Je+1][5]||(this||_e)._doStroke&&Ke[6]!==we[Je+1][6])&&(!(this||_e)._clipping&&(this||_e)._doFill&&((this||_e)._pInst.fill(Ke[5]),(this||_e).drawingContext.fill(),(this||_e)._pInst.fill(we[Je+1][5])),!(this||_e)._clipping&&(this||_e)._doStroke&&((this||_e)._pInst.stroke(Ke[6]),(this||_e).drawingContext.stroke(),(this||_e)._pInst.stroke(we[Je+1][6])),(this||_e).drawingContext.closePath(),(this||_e)._clipping||(this||_e).drawingContext.beginPath());this._doFillStrokeClose(et)}}else if(Qe===Me.QUADS)for(Je=0;Je+3<tt;Je+=4){for(Ke=we[Je],(this||_e)._clipping||(this||_e).drawingContext.beginPath(),(this||_e).drawingContext.moveTo(Ke[0],Ke[1]),$e=1;$e<4;$e++)(this||_e).drawingContext.lineTo(we[Je+$e][0],we[Je+$e][1]);(this||_e).drawingContext.lineTo(Ke[0],Ke[1]),!(this||_e)._clipping&&(this||_e)._doFill&&(this||_e)._pInst.fill(we[Je+3][5]),!(this||_e)._clipping&&(this||_e)._doStroke&&(this||_e)._pInst.stroke(we[Je+3][6]),this._doFillStrokeClose(et)}else if(Qe===Me.QUAD_STRIP){if(3<tt)for(Je=0;Je+1<tt;Je+=2)Ke=we[Je],(this||_e)._clipping||(this||_e).drawingContext.beginPath(),Je+3<tt?((this||_e).drawingContext.moveTo(we[Je+2][0],we[Je+2][1]),(this||_e).drawingContext.lineTo(Ke[0],Ke[1]),(this||_e).drawingContext.lineTo(we[Je+1][0],we[Je+1][1]),(this||_e).drawingContext.lineTo(we[Je+3][0],we[Je+3][1]),!(this||_e)._clipping&&(this||_e)._doFill&&(this||_e)._pInst.fill(we[Je+3][5]),!(this||_e)._clipping&&(this||_e)._doStroke&&(this||_e)._pInst.stroke(we[Je+3][6])):((this||_e).drawingContext.moveTo(Ke[0],Ke[1]),(this||_e).drawingContext.lineTo(we[Je+1][0],we[Je+1][1])),this._doFillStrokeClose(et)}else{for((this||_e)._clipping||(this||_e).drawingContext.beginPath(),(this||_e).drawingContext.moveTo(we[0][0],we[0][1]),Je=1;Je<tt;Je++)(Ke=we[Je]).isVert&&(Ke.moveTo?(et&&(this||_e).drawingContext.closePath(),(this||_e).drawingContext.moveTo(Ke[0],Ke[1])):(this||_e).drawingContext.lineTo(Ke[0],Ke[1]));this._doFillStrokeClose(et)}Ze=Ye=Te=Se=!1,et&&we.pop()}return this||_e}},{key:"strokeCap",value:function(xe){return xe!==Me.ROUND&&xe!==Me.SQUARE&&xe!==Me.PROJECT||((this||_e).drawingContext.lineCap=xe),this||_e}},{key:"strokeJoin",value:function(xe){return xe!==Me.ROUND&&xe!==Me.BEVEL&&xe!==Me.MITER||((this||_e).drawingContext.lineJoin=xe),this||_e}},{key:"strokeWeight",value:function(xe){return(this||_e).drawingContext.lineWidth=void 0===xe||0===xe?1e-4:xe,this||_e}},{key:"_getFill",value:function(){return(this||_e)._cachedFillStyle||((this||_e)._cachedFillStyle=(this||_e).drawingContext.fillStyle),(this||_e)._cachedFillStyle}},{key:"_setFill",value:function(xe){xe!==(this||_e)._cachedFillStyle&&((this||_e).drawingContext.fillStyle=xe,(this||_e)._cachedFillStyle=xe)}},{key:"_getStroke",value:function(){return(this||_e)._cachedStrokeStyle||((this||_e)._cachedStrokeStyle=(this||_e).drawingContext.strokeStyle),(this||_e)._cachedStrokeStyle}},{key:"_setStroke",value:function(xe){xe!==(this||_e)._cachedStrokeStyle&&((this||_e).drawingContext.strokeStyle=xe,(this||_e)._cachedStrokeStyle=xe)}},{key:"bezier",value:function(xe,we,Se,Te,Me,Ye,Ze,Qe){return(this||_e)._pInst.beginShape(),(this||_e)._pInst.vertex(xe,we),(this||_e)._pInst.bezierVertex(Se,Te,Me,Ye,Ze,Qe),(this||_e)._pInst.endShape(),this||_e}},{key:"curve",value:function(xe,we,Se,Te,Me,Ye,Ze,Qe){return(this||_e)._pInst.beginShape(),(this||_e)._pInst.curveVertex(xe,we),(this||_e)._pInst.curveVertex(Se,Te),(this||_e)._pInst.curveVertex(Me,Ye),(this||_e)._pInst.curveVertex(Ze,Qe),(this||_e)._pInst.endShape(),this||_e}},{key:"_doFillStrokeClose",value:function(xe){xe&&(this||_e).drawingContext.closePath(),!(this||_e)._clipping&&(this||_e)._doFill&&(this||_e).drawingContext.fill(),!(this||_e)._clipping&&(this||_e)._doStroke&&(this||_e).drawingContext.stroke()}},{key:"applyMatrix",value:function(xe,we,Se,Te,Me,Ye){(this||_e).drawingContext.transform(xe,we,Se,Te,Me,Ye)}},{key:"resetMatrix",value:function(){return(this||_e).drawingContext.setTransform(1,0,0,1,0,0),(this||_e).drawingContext.scale((this||_e)._pInst._pixelDensity,(this||_e)._pInst._pixelDensity),this||_e}},{key:"rotate",value:function(xe){(this||_e).drawingContext.rotate(xe)}},{key:"scale",value:function(xe,we){return(this||_e).drawingContext.scale(xe,we),this||_e}},{key:"translate",value:function(xe,we){return xe instanceof Te.default.Vector&&(we=xe.y,xe=xe.x),(this||_e).drawingContext.translate(xe,we),this||_e}},{key:"_renderText",value:function(xe,we,Se,Te,Ye,Ze){if(!(Te<Ze||Ye<=Te))return xe.push(),this._isOpenType()?(this||_e)._textFont._renderPath(we,Se,Te,{renderer:this||_e}):((this||_e)._doStroke&&(this||_e)._strokeSet&&(this||_e).drawingContext.strokeText(we,Se,Te),!(this||_e)._clipping&&(this||_e)._doFill&&((this||_e)._fillSet||this._setFill(Me._DEFAULT_TEXT_FILL),(this||_e).drawingContext.fillText(we,Se,Te))),xe.pop(),xe}},{key:"textWidth",value:function(xe){return this._isOpenType()?(this||_e)._textFont._textWidth(xe,(this||_e)._textSize):(this||_e).drawingContext.measureText(xe).width}},{key:"_applyTextProperties",value:function(){var xe,we=(this||_e)._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),xe=(this||_e)._textFont,this._isOpenType()&&(xe=(this||_e)._textFont.font.familyName,this._setProperty("_textStyle",(this||_e)._textFont.font.styleName)),(this||_e).drawingContext.font="".concat((this||_e)._textStyle||"normal"," ").concat((this||_e)._textSize||12,"px ").concat(xe||"sans-serif"),(this||_e).drawingContext.textAlign=(this||_e)._textAlign,(this||_e)._textBaseline===Me.CENTER?(this||_e).drawingContext.textBaseline=Me._CTX_MIDDLE:(this||_e).drawingContext.textBaseline=(this||_e)._textBaseline,we}},{key:"push",value:function(){return(this||_e).drawingContext.save(),l(h(n.prototype),"push",this||_e).call(this||_e)}},{key:"pop",value:function(xe){(this||_e).drawingContext.restore(),(this||_e)._cachedFillStyle=(this||_e).drawingContext.fillStyle,(this||_e)._cachedStrokeStyle=(this||_e).drawingContext.strokeStyle,l(h(n.prototype),"pop",this||_e).call(this||_e,xe)}}])&&s(we.prototype,xe),Se&&s(we,Se),n}(Te.default.Renderer);xe=(Ze.prototype.text=function(xe,we,Se,Ye,Ze){void 0!==Ye&&(this||_e).drawingContext.textBaseline===Me.BASELINE&&(Qe=!0,(this||_e).drawingContext.textBaseline=Me.TOP);var Qe;Ye=Te.default.Renderer.prototype.text.apply(this||_e,arguments);return Qe&&((this||_e).drawingContext.textBaseline=Me.BASELINE),Ye},Te.default.Renderer2D=Ze,Te.default.Renderer2D);Se.default=xe},{"./constants":264,"./main":275,"./p5.Renderer":278,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],280:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator");var Te=(xe=xe("./main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype._promisePreloads=[];function o(){return{}}var Me=!(Te.default.prototype.registerPromisePreload=function(_e){Te.default.prototype._promisePreloads.push(_e)});Te.default.prototype._setupPromisePreloads=function(){var xe=!0,we=!1,Se=void 0;try{for(var Ye,Ze=(this||_e)._promisePreloads[Symbol.iterator]();!(xe=(Ye=Ze.next()).done);xe=!0){var Qe=Ye.value,Ke=this||_e,Je=Qe.method,$e=Qe.addCallbacks,et=Qe.legacyPreloadSetup,tt=Qe.target||this||_e,rt=tt[Je].bind(tt);if(tt===Te.default.prototype){if(Me)continue;Ke=null,rt=tt[Je]}tt[Je]=this._wrapPromisePreload(Ke,rt,$e),et&&(tt[et.method]=this._legacyPreloadGenerator(Ke,et,tt[Je]))}}catch(xe){we=!0,Se=xe}finally{try{xe||null==Ze.return||Ze.return()}finally{if(we)throw Se}}Me=!0},Te.default.prototype._wrapPromisePreload=function(xe,we,Se){var t=function(){for(var xe=this||_e,Te=(this._incrementPreload(),null),Me=null,Ye=arguments.length,Ze=new Array(Ye),Qe=0;Qe<Ye;Qe++)Ze[Qe]=arguments[Qe];if(Se)for(var Ke=Ze.length-1;0<=Ke&&!Me&&"function"==typeof Ze[Ke];Ke--)Me=Te,Te=Ze.pop();var Je=Promise.resolve(we.apply(this||_e,Ze));return Te&&Je.then(Te),Me&&Je.catch(Me),Je.then((function(){return xe._decrementPreload()})),Je};return xe?t.bind(xe):t};Te.default.prototype._legacyPreloadGenerator=function(xe,we,Se){var Te=we.createBaseObject||o;we=function(){var xe=this||_e;this._incrementPreload();for(var we=arguments.length,Me=new Array(we),Ye=0;Ye<we;Ye++)Me[Ye]=arguments[Ye];var Ze=Te.apply(this||_e,Me);return Se.apply(this||_e,Me).then((function(_e){Object.assign(Ze,_e),xe._decrementPreload()})),Ze};return xe?we.bind(xe):we}},{"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],281:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ze=xe("./main"))&&Ze.__esModule?Ze:{default:Ze},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==a(_e)&&"function"!=typeof _e)return{default:_e};var xe=i();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("./constants"));function i(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,i=function(){return _e},_e)}function a(_e){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("./p5.Graphics"),xe("./p5.Renderer2D"),xe("../webgl/p5.RendererGL");var Ye="defaultCanvas0",Ze=(Te.default.prototype.createCanvas=function(xe,we,Se,Ze){var Qe,Ke,Je;if(Te.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(Se=Me.P2D,Ze=arguments[2]):Qe=Se||Me.P2D,Ze)(Je=document.getElementById(Ye))&&Je.parentNode.removeChild(Je),Je=Ze,(this||_e)._defaultGraphicsCreated=!1;else{if(Qe===Me.WEBGL)(Je=document.getElementById(Ye))&&(Je.parentNode.removeChild(Je),Ke=(this||_e)._renderer,(this||_e)._elements=(this||_e)._elements.filter((function(_e){return _e!==Ke}))),(Je=document.createElement("canvas")).id=Ye,Je.classList.add("p5Canvas");else if((this||_e)._defaultGraphicsCreated)Je=(this||_e).canvas;else{Je=Ze||document.createElement("canvas");for(var $e=0;document.getElementById("defaultCanvas".concat($e));)$e++;Ye="defaultCanvas".concat($e),Je.id=Ye,Je.classList.add("p5Canvas")}(this||_e)._setupDone||(Je.dataset.hidden=!0,Je.style.visibility="hidden"),((this||_e)._userNode||(0===document.getElementsByTagName("main").length&&(Se=document.createElement("main"),document.body.appendChild(Se)),document.getElementsByTagName("main")[0])).appendChild(Je)}return Qe===Me.WEBGL?(this._setProperty("_renderer",new Te.default.RendererGL(Je,this||_e,!0)),(this||_e)._elements.push((this||_e)._renderer)):(this||_e)._defaultGraphicsCreated||(this._setProperty("_renderer",new Te.default.Renderer2D(Je,this||_e,!0)),(this||_e)._defaultGraphicsCreated=!0,(this||_e)._elements.push((this||_e)._renderer)),(this||_e)._renderer.resize(xe,we),(this||_e)._renderer._applyDefaults(),(this||_e)._renderer},Te.default.prototype.resizeCanvas=function(xe,we,Se){if(Te.default._validateParameters("resizeCanvas",arguments),(this||_e)._renderer){var Me,Ye,Ze={};for(Me in(this||_e).drawingContext){var Qe=(this||_e).drawingContext[Me];"object"!==a(Qe)&&"function"!=typeof Qe&&(Ze[Me]=Qe)}for(Ye in(this||_e).width=xe,(this||_e).height=we,(this||_e)._renderer.resize(xe,we),Ze)try{(this||_e).drawingContext[Ye]=Ze[Ye]}catch(xe){}Se||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},Te.default.prototype.noCanvas=function(){(this||_e).canvas&&(this||_e).canvas.parentNode.removeChild((this||_e).canvas)},Te.default.prototype.createGraphics=function(xe,we){for(var Se=arguments.length,Ye=new Array(2<Se?Se-2:0),Ze=2;Ze<Se;Ze++)Ye[Ze-2]=arguments[Ze];return Ye[0]instanceof HTMLCanvasElement&&(Ye[1]=Ye[0],Ye[0]=Me.P2D),Te.default._validateParameters("createGraphics",arguments),new Te.default.Graphics(xe,we,Ye[0],this||_e,Ye[1])},Te.default.prototype.createFramebuffer=function(xe){return new Te.default.Framebuffer(this||_e,xe)},Te.default.prototype.blendMode=function(xe){Te.default._validateParameters("blendMode",arguments),xe===Me.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),xe=Me.BLEND),(this||_e)._renderer.blendMode(xe)},Te.default);Se.default=Ze},{"../webgl/p5.RendererGL":332,"./constants":264,"./main":275,"./p5.Graphics":277,"./p5.Renderer2D":279,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],282:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.slice"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=n(xe("../main")),Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=c();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../constants")),Ye=n(xe("../helpers"));function c(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,c=function(){return _e},_e)}function n(_e){return _e&&_e.__esModule?_e:{default:_e}}function s(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}xe("../friendly_errors/fes_core"),xe("../friendly_errors/file_errors"),xe("../friendly_errors/validate_params"),Te.default.prototype._normalizeArcAngles=function(_e,xe,we,Se,Te){var Ye;return _e-=Me.TWO_PI*Math.floor(_e/Me.TWO_PI),xe-=Me.TWO_PI*Math.floor(xe/Me.TWO_PI),Ye=Math.min(Math.abs(_e-xe),Me.TWO_PI-Math.abs(_e-xe)),Te&&(_e=_e<=Me.HALF_PI?Math.atan(we/Se*Math.tan(_e)):_e>Me.HALF_PI&&_e<=3*Me.HALF_PI?Math.atan(we/Se*Math.tan(_e))+Me.PI:Math.atan(we/Se*Math.tan(_e))+Me.TWO_PI,xe=xe<=Me.HALF_PI?Math.atan(we/Se*Math.tan(xe)):xe>Me.HALF_PI&&xe<=3*Me.HALF_PI?Math.atan(we/Se*Math.tan(xe))+Me.PI:Math.atan(we/Se*Math.tan(xe))+Me.TWO_PI),xe<_e&&(xe+=Me.TWO_PI),{start:_e,stop:xe,correspondToSamePoint:Ye<1e-5}},Te.default.prototype.arc=function(xe,we,Se,Me,Ze,Qe,Ke,Je){return Te.default._validateParameters("arc",arguments),((this||_e)._renderer._doStroke||(this||_e)._renderer._doFill)&&Ze!==Qe&&(Ze=this._toRadians(Ze),Qe=this._toRadians(Qe),Se=Math.abs(Se),Me=Math.abs(Me),xe=Ye.default.modeAdjust(xe,we,Se,Me,(this||_e)._renderer._ellipseMode),(we=this._normalizeArcAngles(Ze,Qe,xe.w,xe.h,!0)).correspondToSamePoint?(this||_e)._renderer.ellipse([xe.x,xe.y,xe.w,xe.h,Je]):((this||_e)._renderer.arc(xe.x,xe.y,xe.w,xe.h,we.start,we.stop,Ke,Je),((this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text)&&this._accsOutput("arc",[xe.x,xe.y,xe.w,xe.h,we.start,we.stop,Ke]))),this||_e},Te.default.prototype.ellipse=function(xe,we,Se,Me,Ye){return Te.default._validateParameters("ellipse",arguments),(this||_e)._renderEllipse.apply(this||_e,arguments)},Te.default.prototype.circle=function(){Te.default._validateParameters("circle",arguments);var xe=Array.prototype.slice.call(arguments,0,2);return xe.push(arguments[2]),xe.push(arguments[2]),(this||_e)._renderEllipse.apply(this||_e,s(xe))},Te.default.prototype._renderEllipse=function(xe,we,Se,Te,Me){return((this||_e)._renderer._doStroke||(this||_e)._renderer._doFill)&&(Se<0&&(Se=Math.abs(Se)),void 0===Te?Te=Se:Te<0&&(Te=Math.abs(Te)),xe=Ye.default.modeAdjust(xe,we,Se,Te,(this||_e)._renderer._ellipseMode),(this||_e)._renderer.ellipse([xe.x,xe.y,xe.w,xe.h,Me]),((this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text)&&this._accsOutput("ellipse",[xe.x,xe.y,xe.w,xe.h])),this||_e},Te.default.prototype.line=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("line",Se),(this||_e)._renderer._doStroke&&(xe=(this||_e)._renderer).line.apply(xe,Se),((this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text)&&this._accsOutput("line",Se),this||_e},Te.default.prototype.point=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("point",Se),(this||_e)._renderer._doStroke&&(1===Se.length&&Se[0]instanceof Te.default.Vector?(this||_e)._renderer.point.call((this||_e)._renderer,Se[0].x,Se[0].y,Se[0].z):((xe=(this||_e)._renderer).point.apply(xe,Se),((this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text)&&this._accsOutput("point",Se))),this||_e},Te.default.prototype.quad=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("quad",Se),((this||_e)._renderer._doStroke||(this||_e)._renderer._doFill)&&((this||_e)._renderer.isP3D&&Se.length<12?(this||_e)._renderer.quad.call((this||_e)._renderer,Se[0],Se[1],0,Se[2],Se[3],0,Se[4],Se[5],0,Se[6],Se[7],0,Se[8],Se[9]):((xe=(this||_e)._renderer).quad.apply(xe,Se),((this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text)&&this._accsOutput("quadrilateral",Se))),this||_e},Te.default.prototype.rect=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("rect",we),(this||_e)._renderRect.apply(this||_e,we)},Te.default.prototype.square=function(xe,we,Se,Me,Ye,Ze,Qe){return Te.default._validateParameters("square",arguments),(this||_e)._renderRect.call(this||_e,xe,we,Se,Se,Me,Ye,Ze,Qe)},Te.default.prototype._renderRect=function(){if((this||_e)._renderer._doStroke||(this||_e)._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var xe=Ye.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],(this||_e)._renderer._rectMode),we=[xe.x,xe.y,xe.w,xe.h],Se=4;Se<arguments.length;Se++)we[Se]=arguments[Se];(this||_e)._renderer.rect(we),((this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text)&&this._accsOutput("rectangle",[xe.x,xe.y,xe.w,xe.h])}return this||_e},Te.default.prototype.triangle=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("triangle",we),((this||_e)._renderer._doStroke||(this||_e)._renderer._doFill)&&(this||_e)._renderer.triangle(we),((this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text)&&this._accsOutput("triangle",we),this||_e};xe=Te.default;Se.default=xe},{"../constants":264,"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../helpers":271,"../main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],283:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}Te.default.prototype.ellipseMode=function(xe){return Te.default._validateParameters("ellipseMode",arguments),xe!==Me.CORNER&&xe!==Me.CORNERS&&xe!==Me.RADIUS&&xe!==Me.CENTER||((this||_e)._renderer._ellipseMode=xe),this||_e},Te.default.prototype.noSmooth=function(){return(this||_e)._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in(this||_e).drawingContext&&((this||_e).drawingContext.imageSmoothingEnabled=!1),this||_e},Te.default.prototype.rectMode=function(xe){return Te.default._validateParameters("rectMode",arguments),xe!==Me.CORNER&&xe!==Me.CORNERS&&xe!==Me.RADIUS&&xe!==Me.CENTER||((this||_e)._renderer._rectMode=xe),this||_e},Te.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),(this||_e)._renderer.isP3D||"imageSmoothingEnabled"in(this||_e).drawingContext&&((this||_e).drawingContext.imageSmoothingEnabled=!0),this||_e},Te.default.prototype.strokeCap=function(xe){return Te.default._validateParameters("strokeCap",arguments),xe!==Me.ROUND&&xe!==Me.SQUARE&&xe!==Me.PROJECT||(this||_e)._renderer.strokeCap(xe),this||_e},Te.default.prototype.strokeJoin=function(xe){return Te.default._validateParameters("strokeJoin",arguments),xe!==Me.ROUND&&xe!==Me.BEVEL&&xe!==Me.MITER||(this||_e)._renderer.strokeJoin(xe),this||_e},Te.default.prototype.strokeWeight=function(xe){return Te.default._validateParameters("strokeWeight",arguments),(this||_e)._renderer.strokeWeight(xe),this||_e};var Ye=Te.default;Se.default=Ye},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],284:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Me=xe("../main"))&&Me.__esModule?Me:{default:Me};xe("../friendly_errors/fes_core"),xe("../friendly_errors/file_errors"),xe("../friendly_errors/validate_params"),Te.default.prototype.bezier=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("bezier",Se),((this||_e)._renderer._doStroke||(this||_e)._renderer._doFill)&&(xe=(this||_e)._renderer).bezier.apply(xe,Se),this||_e},Te.default.prototype.bezierDetail=function(xe){return Te.default._validateParameters("bezierDetail",arguments),(this||_e)._bezierDetail=xe,this||_e},Te.default.prototype.bezierPoint=function(_e,xe,we,Se,Me){Te.default._validateParameters("bezierPoint",arguments);var Ye=1-Me;return Math.pow(Ye,3)*_e+3*Math.pow(Ye,2)*Me*xe+3*Ye*Math.pow(Me,2)*we+Math.pow(Me,3)*Se},Te.default.prototype.bezierTangent=function(_e,xe,we,Se,Me){Te.default._validateParameters("bezierTangent",arguments);var Ye=1-Me;return 3*Se*Math.pow(Me,2)-3*we*Math.pow(Me,2)+6*we*Ye*Me-6*xe*Ye*Me+3*xe*Math.pow(Ye,2)-3*_e*Math.pow(Ye,2)},Te.default.prototype.curve=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("curve",Se),(this||_e)._renderer._doStroke&&(xe=(this||_e)._renderer).curve.apply(xe,Se),this||_e},Te.default.prototype.curveDetail=function(xe){return Te.default._validateParameters("curveDetail",arguments),(this||_e)._curveDetail=xe<3?3:xe,this||_e},Te.default.prototype.curveTightness=function(xe){return Te.default._validateParameters("curveTightness",arguments),(this||_e)._renderer._curveTightness=xe,this||_e},Te.default.prototype.curvePoint=function(xe,we,Se,Me,Ye){Te.default._validateParameters("curvePoint",arguments);var Ze=(this||_e)._renderer._curveTightness,Qe=Ye*Ye*Ye,Ke=Ye*Ye;return xe*((Ze-1)/2*Qe+(1-Ze)*Ke+(Ze-1)/2*Ye)+we*((Ze+3)/2*Qe+(-5-Ze)/2*Ke+1)+Se*((-3-Ze)/2*Qe+(Ze+2)*Ke+(1-Ze)/2*Ye)+Me*((1-Ze)/2*Qe+(Ze-1)/2*Ke)},Te.default.prototype.curveTangent=function(xe,we,Se,Me,Ye){Te.default._validateParameters("curveTangent",arguments);var Ze=(this||_e)._renderer._curveTightness,Qe=Ye*Ye*3;Ye*=2;return xe*((Ze-1)/2*Qe+(1-Ze)*Ye+(Ze-1)/2)+we*((Ze+3)/2*Qe+(-5-Ze)/2*Ye)+Se*((-3-Ze)/2*Qe+(Ze+2)*Ye+(1-Ze)/2)+Me*((1-Ze)/2*Qe+(Ze-1)/2*Ye)};var Me=Te.default;Se.default=Me},{"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../main":275}],285:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.slice"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(rt=xe("../main"))&&rt.__esModule?rt:{default:rt},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=u();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../constants"));function u(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,u=function(){return _e},_e)}var Ye=null,Ze=[],Qe=[],Ke=!1,Je=!1,$e=!1,et=!1,tt=!0,rt=(Te.default.prototype.beginContour=function(){return(this||_e)._renderer.isP3D?(this||_e)._renderer.beginContour():(Qe=[],et=!0),this||_e},Te.default.prototype.beginShape=function(xe){var we;return Te.default._validateParameters("beginShape",arguments),(this||_e)._renderer.isP3D?(we=(this||_e)._renderer).beginShape.apply(we,arguments):(Ye=xe===Me.POINTS||xe===Me.LINES||xe===Me.TRIANGLES||xe===Me.TRIANGLE_FAN||xe===Me.TRIANGLE_STRIP||xe===Me.QUADS||xe===Me.QUAD_STRIP?xe:null,Ze=[],Qe=[]),this||_e},Te.default.prototype.bezierVertex=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];if(Te.default._validateParameters("bezierVertex",Se),(this||_e)._renderer.isP3D)(xe=(this||_e)._renderer).bezierVertex.apply(xe,Se);else if(0===Ze.length)Te.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{Ke=!0;for(var Ye=[],Je=0;Je<Se.length;Je++)Ye[Je]=Se[Je];Ye.isVert=!1,(et?Qe:Ze).push(Ye)}return this||_e},Te.default.prototype.curveVertex=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("curveVertex",Se),(this||_e)._renderer.isP3D?(xe=(this||_e)._renderer).curveVertex.apply(xe,Se):(Je=!0,this.vertex(Se[0],Se[1])),this||_e},Te.default.prototype.endContour=function(){if(!(this||_e)._renderer.isP3D){var xe=Qe[0].slice();xe.isVert=Qe[0].isVert,xe.moveTo=!1,Qe.push(xe),tt&&(Ze.push(Ze[0]),tt=!1);for(var we=0;we<Qe.length;we++)Ze.push(Qe[we])}return this||_e},Te.default.prototype.endShape=function(xe){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(Te.default._validateParameters("endShape",arguments),we<1&&(console.log(" p5.js says: You can not have less than one instance"),we=1),(this||_e)._renderer.isP3D)(this||_e)._renderer.endShape(xe,Je,Ke,$e,et,Ye,we);else{if(1!==we&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),0===Ze.length)return this||_e;if(!(this||_e)._renderer._doStroke&&!(this||_e)._renderer._doFill)return this||_e;we=xe===Me.CLOSE;we&&!et&&Ze.push(Ze[0]),(this||_e)._renderer.endShape(xe,Ze,Je,Ke,$e,et,Ye),tt=!(et=$e=Ke=Je=!1),we&&Ze.pop()}return this||_e},Te.default.prototype.quadraticVertex=function(){for(var xe,we=arguments.length,Se=new Array(we),Ye=0;Ye<we;Ye++)Se[Ye]=arguments[Ye];if(Te.default._validateParameters("quadraticVertex",Se),(this||_e)._renderer.isP3D)(xe=(this||_e)._renderer).quadraticVertex.apply(xe,Se);else{if((this||_e)._contourInited)return(xe={}).x=Se[0],xe.y=Se[1],xe.x3=Se[2],xe.y3=Se[3],xe.type=Me.QUADRATIC,(this||_e)._contourVertices.push(xe),this||_e;if(0<Ze.length){$e=!0;for(var Ke=[],Je=0;Je<Se.length;Je++)Ke[Je]=Se[Je];Ke.isVert=!1,(et?Qe:Ze).push(Ke)}else Te.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this||_e},Te.default.prototype.vertex=function(xe,we,Se,Te,Me){var Ye;return(this||_e)._renderer.isP3D?(Ye=(this||_e)._renderer).vertex.apply(Ye,arguments):((Ye=[]).isVert=!0,Ye[0]=xe,Ye[1]=we,Ye[2]=0,Ye[3]=0,Ye[4]=0,Ye[5]=(this||_e)._renderer._getFill(),Ye[6]=(this||_e)._renderer._getStroke(),Se&&(Ye.moveTo=Se),(et?(0===Qe.length&&(Ye.moveTo=!0),Qe):Ze).push(Ye)),this||_e},Te.default.prototype.normal=function(xe,we,Se){var Me;return this._assert3d("normal"),Te.default._validateParameters("normal",arguments),(Me=(this||_e)._renderer).normal.apply(Me,arguments),this||_e},Te.default);Se.default=rt},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],286:[function(_e,xe,we){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function a(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(_e){return(n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}var Se,Te,Me;_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.filter"),_e("core-js/modules/es.array.from"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.object.assign"),_e("core-js/modules/es.object.keys"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/es.typed-array.uint8-clamped-array"),_e("core-js/modules/es.typed-array.copy-within"),_e("core-js/modules/es.typed-array.every"),_e("core-js/modules/es.typed-array.fill"),_e("core-js/modules/es.typed-array.filter"),_e("core-js/modules/es.typed-array.find"),_e("core-js/modules/es.typed-array.find-index"),_e("core-js/modules/es.typed-array.for-each"),_e("core-js/modules/es.typed-array.includes"),_e("core-js/modules/es.typed-array.index-of"),_e("core-js/modules/es.typed-array.iterator"),_e("core-js/modules/es.typed-array.join"),_e("core-js/modules/es.typed-array.last-index-of"),_e("core-js/modules/es.typed-array.map"),_e("core-js/modules/es.typed-array.reduce"),_e("core-js/modules/es.typed-array.reduce-right"),_e("core-js/modules/es.typed-array.reverse"),_e("core-js/modules/es.typed-array.set"),_e("core-js/modules/es.typed-array.slice"),_e("core-js/modules/es.typed-array.some"),_e("core-js/modules/es.typed-array.sort"),_e("core-js/modules/es.typed-array.subarray"),_e("core-js/modules/es.typed-array.to-locale-string"),_e("core-js/modules/es.typed-array.to-string"),_e("core-js/modules/web.dom-collections.iterator"),_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.filter"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.object.assign"),_e("core-js/modules/es.object.keys"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/es.typed-array.uint8-clamped-array"),_e("core-js/modules/es.typed-array.copy-within"),_e("core-js/modules/es.typed-array.every"),_e("core-js/modules/es.typed-array.fill"),_e("core-js/modules/es.typed-array.filter"),_e("core-js/modules/es.typed-array.find"),_e("core-js/modules/es.typed-array.find-index"),_e("core-js/modules/es.typed-array.for-each"),_e("core-js/modules/es.typed-array.includes"),_e("core-js/modules/es.typed-array.index-of"),_e("core-js/modules/es.typed-array.iterator"),_e("core-js/modules/es.typed-array.join"),_e("core-js/modules/es.typed-array.last-index-of"),_e("core-js/modules/es.typed-array.map"),_e("core-js/modules/es.typed-array.reduce"),_e("core-js/modules/es.typed-array.reduce-right"),_e("core-js/modules/es.typed-array.reverse"),_e("core-js/modules/es.typed-array.set"),_e("core-js/modules/es.typed-array.slice"),_e("core-js/modules/es.typed-array.some"),_e("core-js/modules/es.typed-array.sort"),_e("core-js/modules/es.typed-array.subarray"),_e("core-js/modules/es.typed-array.to-locale-string"),_e("core-js/modules/es.typed-array.to-string"),_e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(_e,xe){window.setTimeout(_e,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(Se=Object.keys,_e=Object.defineProperty,Te="function"==typeof Symbol&&"symbol"===n(Symbol()),Me=Object.prototype.propertyIsEnumerable,_e(Object,"assign",{value:function(_e,xe){if(null==_e)throw new TypeError("target must be an object");for(var we,Ye=Object(_e),Ze=1;Ze<arguments.length;++Ze){var Qe=Object(arguments[Ze]),Ke=Se(Qe);for(Te&&Object.getOwnPropertySymbols&&Ke.push.apply(Ke,a(Object.getOwnPropertySymbols(Qe).filter(function(_e){return function(xe){return Me.call(_e,xe)}}(Qe)))),we=0;we<Ke.length;++we)Ye[Ke[we]]=Qe[Ke[we]]}return Ye},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/web.dom-collections.iterator":238}],287:[function(xe,we,Se){xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.assign"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("./main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype.noLoop=function(){(this||_e)._loop=!1},xe.default.prototype.loop=function(){(this||_e)._loop||((this||_e)._loop=!0,(this||_e)._setupDone&&this._draw())},xe.default.prototype.isLooping=function(){return(this||_e)._loop},xe.default.prototype.push=function(){(this||_e)._styles.push({props:{_colorMode:(this||_e)._colorMode},renderer:(this||_e)._renderer.push()})},xe.default.prototype.pop=function(){var xe=(this||_e)._styles.pop();xe?((this||_e)._renderer.pop(xe.renderer),Object.assign(this||_e,xe.props)):console.warn("pop() was called without matching push()")},xe.default.prototype.redraw=function(xe){if(!(this||_e)._inUserDraw&&(this||_e)._setupDone){var we=parseInt(xe),Se=((isNaN(we)||we<1)&&(we=1),(this||_e)._isGlobal?window:this||_e);if("function"==typeof Se.draw){void 0===Se.setup&&Se.scale(Se._pixelDensity,Se._pixelDensity);for(var Te=0;Te<we;Te++){Se.resetMatrix(),((this||_e)._accessibleOutputs.grid||(this||_e)._accessibleOutputs.text)&&this._updateAccsOutput(),Se._renderer.isP3D&&Se._renderer._update(),Se._setProperty("frameCount",Se.frameCount+1),this.callRegisteredHooksFor("pre"),(this||_e)._inUserDraw=!0;try{Se.draw()}finally{(this||_e)._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}};xe=xe.default;Se.default=xe},{"./main":275,"core-js/modules/es.object.assign":176}],288:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("./main"))&&xe.__esModule?xe:{default:xe};function o(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Te.default.prototype.applyMatrix=function(){var xe=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||xe?(xe=(this||_e)._renderer).applyMatrix.apply(xe,o(arguments.length<=0?void 0:arguments[0])):(xe=(this||_e)._renderer).applyMatrix.apply(xe,arguments),this||_e},Te.default.prototype.resetMatrix=function(){return(this||_e)._renderer.resetMatrix(),this||_e},Te.default.prototype.rotate=function(xe,we){return Te.default._validateParameters("rotate",arguments),(this||_e)._renderer.rotate(this._toRadians(xe),we),this||_e},Te.default.prototype.rotateX=function(xe){return this._assert3d("rotateX"),Te.default._validateParameters("rotateX",arguments),(this||_e)._renderer.rotateX(this._toRadians(xe)),this||_e},Te.default.prototype.rotateY=function(xe){return this._assert3d("rotateY"),Te.default._validateParameters("rotateY",arguments),(this||_e)._renderer.rotateY(this._toRadians(xe)),this||_e},Te.default.prototype.rotateZ=function(xe){return this._assert3d("rotateZ"),Te.default._validateParameters("rotateZ",arguments),(this||_e)._renderer.rotateZ(this._toRadians(xe)),this||_e},Te.default.prototype.scale=function(xe,we,Se){var Me;return Te.default._validateParameters("scale",arguments),xe instanceof Te.default.Vector?(xe=(Me=xe).x,we=Me.y,Se=Me.z):xe instanceof Array&&(xe=(Me=xe)[0],we=Me[1],Se=Me[2]||1),isNaN(we)?we=Se=xe:isNaN(Se)&&(Se=1),(this||_e)._renderer.scale.call((this||_e)._renderer,xe,we,Se),this||_e},Te.default.prototype.shearX=function(xe){Te.default._validateParameters("shearX",arguments);xe=this._toRadians(xe);return(this||_e)._renderer.applyMatrix(1,0,Math.tan(xe),1,0,0),this||_e},Te.default.prototype.shearY=function(xe){Te.default._validateParameters("shearY",arguments);xe=this._toRadians(xe);return(this||_e)._renderer.applyMatrix(1,Math.tan(xe),0,1,0,0),this||_e},Te.default.prototype.translate=function(xe,we,Se){return Te.default._validateParameters("translate",arguments),(this||_e)._renderer.isP3D?(this||_e)._renderer.translate(xe,we,Se):(this||_e)._renderer.translate(xe,we),this||_e};xe=Te.default;Se.default=xe},{"./main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238}],289:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.ends-with"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.ends-with"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator");var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function s(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}Te.default.prototype.storeItem=function(_e,xe){"string"!=typeof _e&&console.log("The argument that you passed to storeItem() - ".concat(_e," is not a string.")),_e.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(_e," must not end with 'p5TypeID'.")),void 0===xe&&console.log("You cannot store undefined variables using storeItem().");var we=i(xe);switch(we){case"number":case"boolean":xe=xe.toString();break;case"object":xe instanceof Te.default.Color?we="p5.Color":xe instanceof Te.default.Vector&&(we="p5.Vector",xe=[xe.x,xe.y,xe.z]),xe=JSON.stringify(xe)}localStorage.setItem(_e,xe);_e="".concat(_e,"p5TypeID");localStorage.setItem(_e,we)},Te.default.prototype.getItem=function(xe){var we=localStorage.getItem(xe),Se=localStorage.getItem("".concat(xe,"p5TypeID"));if(void 0===Se)console.log("Unable to determine type of item stored under ".concat(xe,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==we)switch(Se){case"number":we=parseFloat(we);break;case"boolean":we="true"===we;break;case"object":we=JSON.parse(we);break;case"p5.Color":we=JSON.parse(we),we=(this||_e).color.apply(this||_e,s(we.levels));break;case"p5.Vector":we=JSON.parse(we),we=(this||_e).createVector.apply(this||_e,s(we))}return we},Te.default.prototype.clearStorage=function(){localStorage.clear()},Te.default.prototype.removeItem=function(_e){"string"!=typeof _e&&console.log("The argument that you passed to removeItem() - ".concat(_e," is not a string.")),localStorage.removeItem(_e),localStorage.removeItem("".concat(_e,"p5TypeID"))}},{"../core/main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],290:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function n(_e){return(n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.object.keys"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function i(_e,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(xe&&xe.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),xe&&a(_e,xe)}function a(_e,xe){return(a=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}function l(xe){return function(){var we,Se=u(xe);Se=(we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?(we=u(this||_e).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||_e,arguments),this||_e);if(!we||"object"!==n(we)&&"function"!=typeof we){if(void 0!==Se)return Se;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return we}}function u(_e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(_e)}function c(_e,xe){if(!(_e instanceof xe))throw new TypeError("Cannot call a class as a function")}function d(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function h(_e,xe,we){xe&&d(_e.prototype,xe),we&&d(_e,we)}Te.default.prototype.createStringDict=function(_e,xe){return Te.default._validateParameters("createStringDict",arguments),new Te.default.StringDict(_e,xe)},Te.default.prototype.createNumberDict=function(_e,xe){return Te.default._validateParameters("createNumberDict",arguments),new Te.default.NumberDict(_e,xe)},Te.default.TypedDict=function(){function r(xe,we){return c(this||_e,r),xe instanceof Object?(this||_e).data=xe:((this||_e).data={},(this||_e).data[xe]=we),this||_e}return h(r,[{key:"size",value:function(){return Object.keys((this||_e).data).length}},{key:"hasKey",value:function(xe){return(this||_e).data.hasOwnProperty(xe)}},{key:"get",value:function(xe){if((this||_e).data.hasOwnProperty(xe))return(this||_e).data[xe];console.log("".concat(xe," does not exist in this Dictionary"))}},{key:"set",value:function(xe,we){this._validate(we)?(this||_e).data[xe]=we:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(_e){for(var xe in _e)this.set(xe,_e[xe])}},{key:"create",value:function(_e,xe){_e instanceof Object&&void 0===xe?this._addObj(_e):void 0!==_e?this.set(_e,xe):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){(this||_e).data={}}},{key:"remove",value:function(xe){if(!(this||_e).data.hasOwnProperty(xe))throw new Error("".concat(xe," does not exist in this Dictionary"));delete(this||_e).data[xe]}},{key:"print",value:function(){for(var xe in(this||_e).data)console.log("key:".concat(xe," value:").concat((this||_e).data[xe]))}},{key:"saveTable",value:function(xe){var we,Se="";for(we in(this||_e).data)Se+="".concat(we,",").concat((this||_e).data[we],"\n");var Me=new Blob([Se],{type:"text/csv"});Te.default.prototype.downloadFile(Me,xe||"mycsv","csv")}},{key:"saveJSON",value:function(xe,we){Te.default.prototype.saveJSON((this||_e).data,xe,we)}},{key:"_validate",value:function(_e){return!0}}]),r}(),Te.default.StringDict=function(){i(n,Te.default.TypedDict);var xe=l(n);function n(){c(this||_e,n);for(var we=arguments.length,Se=new Array(we),Te=0;Te<we;Te++)Se[Te]=arguments[Te];return xe.call.apply(xe,[this||_e].concat(Se))}return h(n,[{key:"_validate",value:function(_e){return"string"==typeof _e}}]),n}(),Te.default.NumberDict=function(){i(n,Te.default.TypedDict);var xe=l(n);function n(){c(this||_e,n);for(var we=arguments.length,Se=new Array(we),Te=0;Te<we;Te++)Se[Te]=arguments[Te];return xe.call.apply(xe,[this||_e].concat(Se))}return h(n,[{key:"_validate",value:function(_e){return"number"==typeof _e}},{key:"add",value:function(xe,we){(this||_e).data.hasOwnProperty(xe)?(this||_e).data[xe]+=we:console.log("The key - ".concat(xe," does not exist in this dictionary."))}},{key:"sub",value:function(_e,xe){this.add(_e,-xe)}},{key:"mult",value:function(xe,we){(this||_e).data.hasOwnProperty(xe)?(this||_e).data[xe]*=we:console.log("The key - ".concat(xe," does not exist in this dictionary."))}},{key:"div",value:function(xe,we){(this||_e).data.hasOwnProperty(xe)?(this||_e).data[xe]/=we:console.log("The key - ".concat(xe," does not exist in this dictionary."))}},{key:"_valueTest",value:function(xe){if(0===Object.keys((this||_e).data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys((this||_e).data).length)return(this||_e).data[Object.keys((this||_e).data)[0]];var we,Se=(this||_e).data[Object.keys((this||_e).data)[0]];for(we in(this||_e).data)(this||_e).data[we]*xe<Se*xe&&(Se=(this||_e).data[we]);return Se}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(xe){if(0===Object.keys((this||_e).data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys((this||_e).data).length)return Object.keys((this||_e).data)[0];for(var we=Object.keys((this||_e).data)[0],Se=1;Se<Object.keys((this||_e).data).length;Se++)Object.keys((this||_e).data)[Se]*xe<we*xe&&(we=Object.keys((this||_e).data)[Se]);return we}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),n}();xe=Te.default.TypedDict;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],291:[function(xe,we,Se){function n(_e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/web.url"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/web.url"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function s(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function a(_e,xe,we){xe&&s(_e.prototype,xe),we&&s(_e,we)}function l(_e,xe){return(l=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}function u(xe){return function(){var we,Se,Te=i(xe);return we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?(we=i(this||_e).constructor,Reflect.construct(Te,arguments,we)):Te.apply(this||_e,arguments),Te=this||_e,!(Se=we)||"object"!==h(Se)&&"function"!=typeof Se?c(Te):Se}}function c(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function i(_e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(_e)}function d(_e,xe){if(!(_e instanceof xe))throw new TypeError("Cannot call a class as a function")}function h(_e){return(h="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(_e){return n(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":n(_e)})(_e)}function p(_e,xe,we){(xe._userNode||document.body).appendChild(_e);we=new(we?Te.default.MediaElement:Te.default.Element)(_e,xe);return xe._elements.push(we),we}function m(_e,xe,we,Se){var Te=document.createElement(xe),Me=("string"==typeof(we=we||"")&&(we=[we]),!0),Ye=(xe=!1,void 0);try{for(var Ze,Qe=we[Symbol.iterator]();!(Me=(Ze=Qe.next()).done);Me=!0){var Ke=Ze.value,Je=document.createElement("source");Je.setAttribute("src",Ke),Te.appendChild(Je)}}catch(_e){xe=!0,Ye=_e}finally{try{Me||null==Qe.return||Qe.return()}finally{if(xe)throw Ye}}"function"==typeof Se&&Te.addEventListener("canplaythrough",(function e(){Se(),Te.removeEventListener("canplaythrough",e)}));var $e=p(Te,_e,!0);return $e.loadedmetadata=!1,Te.addEventListener("loadedmetadata",(function(){$e.width=Te.videoWidth,$e.height=Te.videoHeight,0===$e.elt.width&&($e.elt.width=Te.videoWidth),0===$e.elt.height&&($e.elt.height=Te.videoHeight),$e.presetPlaybackRate&&($e.elt.playbackRate=$e.presetPlaybackRate,delete $e.presetPlaybackRate),$e.loadedmetadata=!0})),$e}Te.default.prototype.select=function(_e,xe){Te.default._validateParameters("select",arguments);xe=this._getContainer(xe).querySelector(_e);return xe?this._wrapElement(xe):null},Te.default.prototype.selectAll=function(_e,xe){Te.default._validateParameters("selectAll",arguments);var we=[],Se=this._getContainer(xe).querySelectorAll(_e);if(Se)for(var Me=0;Me<Se.length;Me++){var Ye=this._wrapElement(Se[Me]);we.push(Ye)}return we},Te.default.prototype._getContainer=function(_e){var xe=document;return"string"==typeof _e?xe=document.querySelector(_e)||document:_e instanceof Te.default.Element?xe=_e.elt:_e instanceof HTMLElement&&(xe=_e),xe},Te.default.prototype._wrapElement=function(xe){var we,Se=Array.prototype.slice.call(xe.children);return"INPUT"===xe.tagName&&"checkbox"===xe.type?((we=new Te.default.Element(xe,this||_e)).checked=function(){return 0===arguments.length?(this||_e).elt.checked:((this||_e).elt.checked=!(arguments.length<=0||!arguments[0]),this||_e)},we):"VIDEO"===xe.tagName||"AUDIO"===xe.tagName?new Te.default.MediaElement(xe,this||_e):"SELECT"===xe.tagName?this.createSelect(new Te.default.Element(xe,this||_e)):0<Se.length&&Se.every((function(_e){return"INPUT"===_e.tagName||"LABEL"===_e.tagName}))?this.createRadio(new Te.default.Element(xe,this||_e)):new Te.default.Element(xe,this||_e)},Te.default.prototype.removeElements=function(xe){Te.default._validateParameters("removeElements",arguments);(this||_e)._elements.filter((function(_e){return!(_e.elt instanceof HTMLCanvasElement)})).map((function(_e){return _e.remove()}))},Te.default.Element.prototype.changed=function(xe){return Te.default.Element._adjustListener("change",xe,this||_e),this||_e},Te.default.Element.prototype.input=function(xe){return Te.default.Element._adjustListener("input",xe,this||_e),this||_e},Te.default.prototype.createDiv=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",we=document.createElement("div");return we.innerHTML=xe,p(we,this||_e)},Te.default.prototype.createP=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",we=document.createElement("p");return we.innerHTML=xe,p(we,this||_e)},Te.default.prototype.createSpan=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",we=document.createElement("span");return we.innerHTML=xe,p(we,this||_e)},Te.default.prototype.createImg=function(){Te.default._validateParameters("createImg",arguments);var xe,we=document.createElement("img"),Se=arguments;return 1<Se.length&&"string"==typeof Se[1]&&(we.alt=Se[1]),2<Se.length&&"string"==typeof Se[2]&&(we.crossOrigin=Se[2]),we.src=Se[0],xe=p(we,this||_e),we.addEventListener("load",(function(){xe.width=we.offsetWidth||we.width,xe.height=we.offsetHeight||we.height;var _e=Se[Se.length-1];"function"==typeof _e&&_e(xe)})),xe},Te.default.prototype.createA=function(xe,we,Se){Te.default._validateParameters("createA",arguments);var Me=document.createElement("a");return Me.href=xe,Me.innerHTML=we,Se&&(Me.target=Se),p(Me,this||_e)},Te.default.prototype.createSlider=function(xe,we,Se,Me){Te.default._validateParameters("createSlider",arguments);var Ye=document.createElement("input");return Ye.type="range",Ye.min=xe,Ye.max=we,0===Me?Ye.step=1e-18:Me&&(Ye.step=Me),"number"==typeof Se&&(Ye.value=Se),p(Ye,this||_e)},Te.default.prototype.createButton=function(xe,we){Te.default._validateParameters("createButton",arguments);var Se=document.createElement("button");return Se.innerHTML=xe,we&&(Se.value=we),p(Se,this||_e)},Te.default.prototype.createCheckbox=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("createCheckbox",we);var Me=document.createElement("div"),Ye=document.createElement("input"),Ze=(Ye.type="checkbox",document.createElement("label")),Qe=(Ze.appendChild(Ye),Me.appendChild(Ze),p(Me,this||_e));return Qe.checked=function(){var _e=Qe.elt.firstElementChild.getElementsByTagName("input")[0];if(_e){if(0===arguments.length)return _e.checked;_e.checked=!(arguments.length<=0||!arguments[0])}return Qe},(this||_e).value=function(xe){return Qe.value=xe,this||_e},we[0]&&(Qe.value(we[0]),(Me=document.createElement("span")).innerHTML=we[0],Ze.appendChild(Me)),we[1]&&(Ye.checked=!0),Qe},Te.default.prototype.createSelect=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];Te.default._validateParameters("createSelect",Se);var Ye,Ze=Se[0];return Ze instanceof Te.default.Element&&Ze.elt instanceof HTMLSelectElement?(this||_e).elt=(xe=Ze).elt:Ze instanceof HTMLSelectElement?(xe=p(Ze,this||_e),(this||_e).elt=Ze):(Ye=document.createElement("select"),Ze&&"boolean"==typeof Ze&&Ye.setAttribute("multiple","true"),xe=p(Ye,this||_e),(this||_e).elt=Ye),xe.option=function(xe,we){var Se;if(void 0!==xe){for(var Te,Me=0;Me<(this||_e).elt.length;Me+=1)if((this||_e).elt[Me].textContent===xe){Se=Me;break}void 0!==Se?!1===we?(this||_e).elt.remove(Se):(this||_e).elt[Se].value=we:((Te=document.createElement("option")).textContent=xe,Te.value=void 0===we?xe:we,(this||_e).elt.appendChild(Te),(this||_e)._pInst._elements.push(Te))}},xe.selected=function(xe){if(void 0!==xe){for(var we=0;we<(this||_e).elt.length;we+=1)(this||_e).elt[we].value.toString()===xe.toString()&&((this||_e).elt.selectedIndex=we);return this||_e}if((this||_e).elt.getAttribute("multiple")){var Se=[],Te=!0,Me=!1,Ye=void 0;try{for(var Ze,Qe=(this||_e).elt.selectedOptions[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;Se.push(Ke.value)}}catch(xe){Me=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Me)throw Ye}}return Se}return(this||_e).elt.value},xe.disable=function(xe){if("string"==typeof xe)for(var we=0;we<(this||_e).elt.length;we++)(this||_e).elt[we].value.toString()===xe&&((this||_e).elt[we].disabled=!0,(this||_e).elt[we].selected=!1);else(this||_e).elt.disabled=!0;return this||_e},xe.enable=function(xe){if("string"==typeof xe)for(var we=0;we<(this||_e).elt.length;we++)(this||_e).elt[we].value.toString()===xe&&((this||_e).elt[we].disabled=!1,(this||_e).elt[we].selected=!1);else{(this||_e).elt.disabled=!1;for(var Se=0;Se<(this||_e).elt.length;Se++)(this||_e).elt[Se].disabled=!1,(this||_e).elt[Se].selected=!1}return this||_e},xe},Te.default.prototype.createRadio=function(){function t(_e){return _e instanceof HTMLInputElement&&"radio"===_e.type}function d(_e){return _e instanceof HTMLLabelElement}var xe,we,Se,Me=arguments.length<=0?void 0:arguments[0];Me instanceof Te.default.Element&&(Me.elt instanceof HTMLDivElement||Me.elt instanceof HTMLSpanElement)?(xe=Me,(this||_e).elt=Me.elt):Me instanceof HTMLDivElement||Me instanceof HTMLSpanElement?(xe=p(Me,this||_e),we=(this||_e).elt=Me,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(Se=arguments.length<=1?void 0:arguments[1])):("string"==typeof Me&&(Se=Me),we=document.createElement("div"),xe=p(we,this||_e),(this||_e).elt=we),xe._name=Se||"radioOption";return xe._getOptionsArray=function(){return Array.from((this||_e).elt.children).filter((function(_e){return t(_e)||d(_e)&&t(_e.firstElementChild)})).map((function(_e){return t(_e)?_e:_e.firstElementChild}))},xe.option=function(we,Se){var Te,Me,Ye,Ze=!0,Qe=!1,Ke=void 0;try{for(var Je,$e=xe._getOptionsArray()[Symbol.iterator]();!(Ze=(Je=$e.next()).done);Ze=!0){var et=Je.value;if(et.value===we){Te=et;break}}}catch(we){Qe=!0,Ke=we}finally{try{Ze||null==$e.return||$e.return()}finally{if(Qe)throw Ke}}return void 0===Te&&((Te=document.createElement("input")).setAttribute("type","radio"),Te.setAttribute("value",we)),Te.setAttribute("name",xe._name),d(Te.parentElement)?Me=Te.parentElement:(Me=document.createElement("label")).insertAdjacentElement("afterbegin",Te),Me.lastElementChild instanceof HTMLSpanElement?Ye=Me.lastElementChild:(Ye=document.createElement("span"),Te.insertAdjacentElement("afterend",Ye)),Ye.innerHTML=void 0===Se?we:Se,(this||_e).elt.appendChild(Me),Te},xe.remove=function(_e){var we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=xe._getOptionsArray()[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0){var Ze=Me.value;if(Ze.value===_e)return void(d(Ze.parentElement)?Ze.parentElement:Ze).remove()}}catch(_e){Se=!0,Te=_e}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}},xe.value=function(){var _e="",we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=xe._getOptionsArray()[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0){var Ze=Me.value;if(Ze.checked){_e=Ze.value;break}}}catch(_e){Se=!0,Te=_e}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}return _e},xe.selected=function(_e){var we=null;if(void 0===_e){var Se=!0,Te=!1,Me=void 0;try{for(var Ye,Ze=xe._getOptionsArray()[Symbol.iterator]();!(Se=(Ye=Ze.next()).done);Se=!0){var Qe=Ye.value;if(Qe.checked){we=Qe;break}}}catch(_e){Te=!0,Me=_e}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Me}}}else{xe._getOptionsArray().forEach((function(_e){_e.checked=!1,_e.removeAttribute("checked")}));var Ke=!0;Te=!1,Me=void 0;try{for(var Je,$e=xe._getOptionsArray()[Symbol.iterator]();!(Ke=(Je=$e.next()).done);Ke=!0){var et=Je.value;et.value===_e&&(et.setAttribute("checked",!0),et.checked=!0,we=et)}}catch(_e){Te=!0,Me=_e}finally{try{Ke||null==$e.return||$e.return()}finally{if(Te)throw Me}}}return we},xe.disable=function(){var _e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=xe._getOptionsArray()[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0)Me.value.setAttribute("disabled",_e)}catch(_e){Se=!0,Te=_e}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}},xe},Te.default.prototype.createColorPicker=function(xe){Te.default._validateParameters("createColorPicker",arguments);var we=document.createElement("input");return we.type="color",xe?xe instanceof Te.default.Color?we.value=xe.toString("#rrggbb"):(Te.default.prototype._colorMode="rgb",Te.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},we.value=Te.default.prototype.color(xe).toString("#rrggbb")):we.value="#000000",(we=p(we,this||_e)).color=function(){return xe&&(xe.mode&&(Te.default.prototype._colorMode=xe.mode),xe.maxes&&(Te.default.prototype._colorMaxes=xe.maxes)),Te.default.prototype.color((this||_e).elt.value)},we},Te.default.prototype.createInput=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",Se=(Te.default._validateParameters("createInput",arguments),document.createElement("input"));return Se.setAttribute("value",xe),Se.setAttribute("type",we),p(Se,this||_e)},Te.default.prototype.createFileInput=function(xe){var we,Se=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Te.default._validateParameters("createFileInput",arguments);if(window.File&&window.FileReader&&window.FileList&&window.Blob)return(we=document.createElement("input")).setAttribute("type","file"),Se&&we.setAttribute("multiple",!0),we.addEventListener("change",(function(_e){var we=!0,Se=!1,Me=void 0;try{for(var Ye,Ze=_e.target.files[Symbol.iterator]();!(we=(Ye=Ze.next()).done);we=!0){var Qe=Ye.value;Te.default.File._load(Qe,xe)}}catch(_e){Se=!0,Me=_e}finally{try{we||null==Ze.return||Ze.return()}finally{if(Se)throw Me}}}),!1),p(we,this||_e);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},Te.default.prototype.createVideo=function(xe,we){return Te.default._validateParameters("createVideo",arguments),m(this||_e,"video",xe,we)},Te.default.prototype.createAudio=function(xe,we){return Te.default._validateParameters("createAudio",arguments),m(this||_e,"audio",xe,we)},Te.default.prototype.VIDEO="video",Te.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(_e){var xe=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return xe?new Promise((function(we,Se){xe.call(navigator,_e,we,Se)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),Te.default.prototype.createCapture=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];if(Te.default._validateParameters("createCapture",we),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var Me,Ye=!0,Ze=!0,Qe=0,Ke=we;Qe<Ke.length;Qe++){var Je=Ke[Qe];Je===Te.default.prototype.VIDEO?Ze=!1:Je===Te.default.prototype.AUDIO?Ye=!1:"object"===h(Je)?$e=Je:"function"==typeof Je&&(Me=Je)}var $e=$e||{video:Ye,audio:Ze},et=document.createElement("video"),tt=(et.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia($e).then((function(_e){try{"srcObject"in et?et.srcObject=_e:et.src=window.URL.createObjectURL(_e)}catch(xe){et.src=_e}}),console.log),p(et,this||_e,!0));return tt.loadedmetadata=!1,et.addEventListener("loadedmetadata",(function(){et.play(),et.width?(tt.width=et.width,tt.height=et.height):(tt.width=tt.elt.width=et.videoWidth,tt.height=tt.elt.height=et.videoHeight),tt.loadedmetadata=!0,Me&&Me(et.srcObject)})),tt},Te.default.prototype.createElement=function(xe,we){Te.default._validateParameters("createElement",arguments);xe=document.createElement(xe);return void 0!==we&&(xe.innerHTML=we),p(xe,this||_e)},Te.default.Element.prototype.addClass=function(xe){return(this||_e).elt.className?this.hasClass(xe)||((this||_e).elt.className=(this||_e).elt.className+" "+xe):(this||_e).elt.className=xe,this||_e},Te.default.Element.prototype.removeClass=function(xe){return(this||_e).elt.classList.remove(xe),this||_e},Te.default.Element.prototype.hasClass=function(xe){return(this||_e).elt.classList.contains(xe)},Te.default.Element.prototype.toggleClass=function(xe){return(this||_e).elt.classList.contains(xe)?(this||_e).elt.classList.remove(xe):(this||_e).elt.classList.add(xe),this||_e},Te.default.Element.prototype.child=function(xe){return void 0===xe?(this||_e).elt.childNodes:("string"==typeof xe?("#"===xe[0]&&(xe=xe.substring(1)),xe=document.getElementById(xe)):xe instanceof Te.default.Element&&(xe=xe.elt),xe instanceof HTMLElement&&(this||_e).elt.appendChild(xe),this||_e)},Te.default.Element.prototype.center=function(xe){var we=(this||_e).elt.style.display,Se="none"===(this||_e).elt.style.display,Te="none"===this.parent().style.display,Me={x:(this||_e).elt.offsetLeft,y:(this||_e).elt.offsetTop},Ye=(Se&&this.show(),Te&&this.parent().show(),(this||_e).elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-(this||_e).elt.offsetWidth)),Ze=Math.abs(this.parent().offsetHeight-(this||_e).elt.offsetHeight);return"both"===xe||void 0===xe?this.position(Ye/2+this.parent().offsetLeft,Ze/2+this.parent().offsetTop):"horizontal"===xe?this.position(Ye/2+this.parent().offsetLeft,Me.y):"vertical"===xe&&this.position(Me.x,Ze/2+this.parent().offsetTop),this.style("display",we),Se&&this.hide(),Te&&this.parent().hide(),this||_e},Te.default.Element.prototype.html=function(){return 0===arguments.length?(this||_e).elt.innerHTML:(arguments.length<=1||!arguments[1]?(this||_e).elt.innerHTML=arguments.length<=0?void 0:arguments[0]:(this||_e).elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this||_e)},Te.default.Element.prototype.position=function(){return 0===arguments.length?{x:(this||_e).elt.offsetLeft,y:(this||_e).elt.offsetTop}:((this||_e).elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],(this||_e).elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",(this||_e).elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",(this||_e).x=arguments.length<=0?void 0:arguments[0],(this||_e).y=arguments.length<=1?void 0:arguments[1],this||_e)},Te.default.Element.prototype._translate=function(){(this||_e).elt.style.position="absolute";var xe="";return(this||_e).elt.style.transform&&(xe=(xe=(this||_e).elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?(this||_e).elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&((this||_e).elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",(this||_e).elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),(this||_e).elt.style.transform+=xe,this||_e},Te.default.Element.prototype._rotate=function(){var xe="";return(this||_e).elt.style.transform&&(xe=(xe=(this||_e).elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?(this||_e).elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?(this||_e).elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&((this||_e).elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",(this||_e).elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",(this||_e).elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),(this||_e).elt.style.transform+=xe,this||_e},Te.default.Element.prototype.style=function(xe,we){if(void 0===(we=we instanceof Te.default.Color?"rgba("+we.levels[0]+","+we.levels[1]+","+we.levels[2]+","+we.levels[3]/255+")":we)){if(-1===xe.indexOf(":"))return window.getComputedStyle((this||_e).elt).getPropertyValue(xe);for(var Se=xe.split(";"),Me=0;Me<Se.length;Me++){var Ye=Se[Me].split(":");Ye[0]&&Ye[1]&&((this||_e).elt.style[Ye[0].trim()]=Ye[1].trim())}}else(this||_e).elt.style[xe]=we,"width"!==xe&&"height"!==xe&&"left"!==xe&&"top"!==xe||(we=window.getComputedStyle((this||_e).elt).getPropertyValue(xe).replace(/[^\d.]/g,""),(this||_e)[xe]=Math.round(parseFloat(we,10)));return this||_e},Te.default.Element.prototype.attribute=function(xe,we){if(null==(this||_e).elt.firstChild||"checkbox"!==(this||_e).elt.firstChild.type&&"radio"!==(this||_e).elt.firstChild.type)return void 0===we?(this||_e).elt.getAttribute(xe):((this||_e).elt.setAttribute(xe,we),this||_e);if(void 0===we)return(this||_e).elt.firstChild.getAttribute(xe);for(var Se=0;Se<(this||_e).elt.childNodes.length;Se++)(this||_e).elt.childNodes[Se].setAttribute(xe,we)},Te.default.Element.prototype.removeAttribute=function(xe){if(null!=(this||_e).elt.firstChild&&("checkbox"===(this||_e).elt.firstChild.type||"radio"===(this||_e).elt.firstChild.type))for(var we=0;we<(this||_e).elt.childNodes.length;we++)(this||_e).elt.childNodes[we].removeAttribute(xe);return(this||_e).elt.removeAttribute(xe),this||_e},Te.default.Element.prototype.value=function(){return 0<arguments.length?((this||_e).elt.value=arguments.length<=0?void 0:arguments[0],this||_e):"range"===(this||_e).elt.type?parseFloat((this||_e).elt.value):(this||_e).elt.value},Te.default.Element.prototype.show=function(){return(this||_e).elt.style.display="block",this||_e},Te.default.Element.prototype.hide=function(){return(this||_e).elt.style.display="none",this||_e},Te.default.Element.prototype.size=function(xe,we){if(0===arguments.length)return{width:(this||_e).elt.offsetWidth,height:(this||_e).elt.offsetHeight};var Se=xe,Me=we,Ye=Te.default.prototype.AUTO;if(Se!==Ye||Me!==Ye){if(Se===Ye?Se=we*(this||_e).width/(this||_e).height:Me===Ye&&(Me=xe*(this||_e).height/(this||_e).width),(this||_e).elt instanceof HTMLCanvasElement){var Ze,Qe={},Ke=(this||_e).elt.getContext("2d");for(Ze in Ke)Qe[Ze]=Ke[Ze];for(Ze in(this||_e).elt.setAttribute("width",Se*(this||_e)._pInst._pixelDensity),(this||_e).elt.setAttribute("height",Me*(this||_e)._pInst._pixelDensity),(this||_e).elt.style.width=Se+"px",(this||_e).elt.style.height=Me+"px",(this||_e)._pInst.scale((this||_e)._pInst._pixelDensity,(this||_e)._pInst._pixelDensity),Qe)(this||_e).elt.getContext("2d")[Ze]=Qe[Ze]}else(this||_e).elt.style.width=Se+"px",(this||_e).elt.style.height=Me+"px",(this||_e).elt.width=Se,(this||_e).elt.height=Me;(this||_e).width=(this||_e).elt.offsetWidth,(this||_e).height=(this||_e).elt.offsetHeight,(this||_e)._pInst&&(this||_e)._pInst._curElement&&(this||_e)._pInst._curElement.elt===(this||_e).elt&&((this||_e)._pInst._setProperty("width",(this||_e).elt.offsetWidth),(this||_e)._pInst._setProperty("height",(this||_e).elt.offsetHeight))}return this||_e},Te.default.Element.prototype.remove=function(){(this||_e)instanceof Te.default.MediaElement&&(this.stop(),null!==(we=(this||_e).elt.srcObject)&&we.getTracks().forEach((function(_e){_e.stop()})));var xe,we=(this||_e)._pInst._elements.indexOf(this||_e);for(xe in-1!==we&&(this||_e)._pInst._elements.splice(we,1),(this||_e)._events)(this||_e).elt.removeEventListener(xe,(this||_e)._events[xe]);(this||_e).elt&&(this||_e).elt.parentNode&&(this||_e).elt.parentNode.removeChild((this||_e).elt)},Te.default.Element.prototype.drop=function(xe,we){var Se;return window.File&&window.FileReader&&window.FileList&&window.Blob?((this||_e)._dragDisabled||((this||_e)._dragDisabled=!0,(this||_e).elt.addEventListener("dragover",Se=function(_e){_e.preventDefault()}),(this||_e).elt.addEventListener("dragleave",Se)),Te.default.Element._attachListener("drop",(function(Se){Se.preventDefault(),"function"==typeof we&&we.call(this||_e,Se);Se=Se.dataTransfer.files;var Me=!0,Ye=!1,Ze=void 0;try{for(var Qe,Ke=Se[Symbol.iterator]();!(Me=(Qe=Ke.next()).done);Me=!0){var Je=Qe.value;Te.default.File._load(Je,xe)}}catch(Se){Ye=!0,Ze=Se}finally{try{Me||null==Ke.return||Ke.return()}finally{if(Ye)throw Ze}}}),this||_e)):console.log("The File APIs are not fully supported in this browser."),this||_e},Te.default.Element.prototype.draggable=function(xe){var we,Se="ontouchstart"in window,Te=0,Me=0,Ye=0,Ze=0,Qe=Se?"touchend":"mouseup",Ke=Se?"touchmove":"mousemove";function c(_e){var we;_e=_e||window.event,Ze=Se?(we=_e.changedTouches,Te=Ye-parseInt(we[0].clientX),Me=Ze-parseInt(we[0].clientY),Ye=parseInt(we[0].clientX),parseInt(we[0].clientY)):(Te=Ye-parseInt(_e.clientX),Me=Ze-parseInt(_e.clientY),Ye=parseInt(_e.clientX),parseInt(_e.clientY)),xe.style.left=xe.offsetLeft-Te+"px",xe.style.top=xe.offsetTop-Me+"px"}function d(){document.removeEventListener(Qe,d,!1),document.removeEventListener(Ke,c,!1)}return void 0===xe?we=xe=(this||_e).elt:xe!==(this||_e).elt&&xe.elt!==(this||_e).elt&&(xe=xe.elt,we=(this||_e).elt),we.addEventListener(Se?"touchstart":"mousedown",(function(_e){var xe;_e=_e||window.event,Ze=Se?(xe=_e.changedTouches,Ye=parseInt(xe[0].clientX),parseInt(xe[0].clientY)):(Ye=parseInt(_e.clientX),parseInt(_e.clientY));return document.addEventListener(Qe,d,!1),document.addEventListener(Ke,c,!1),!1}),!1),we.style.cursor="move",this||_e};function y(xe,we,Se,Te){d(this||_e,y),(this||_e).callback=xe,(this||_e).time=we,(this||_e).id=Se,(this||_e).val=Te}xe=function(xe){var we=i;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&l(we,xe);var Se=u(i);function i(xe,we){d(this||_e,i);var Te=c(we=Se.call(this||_e,xe,we));return we.elt.crossOrigin="anonymous",we._prevTime=0,we._cueIDCounter=0,we._cues=[],we.pixels=[],we._pixelsState=c(we),we._pixelDensity=1,we._modified=!1,we._frameOnCanvas=-1,Object.defineProperty(Te,"src",{get:function(){var _e=Te.elt.children[0].src,xe=Te.elt.src===window.location.href?"":Te.elt.src;return _e===window.location.href?xe:_e},set:function(_e){for(var we=0;we<Te.elt.children.length;we++)Te.elt.removeChild(Te.elt.children[we]);var Se=document.createElement("source");Se.src=_e,xe.appendChild(Se),Te.elt.src=_e,Te.modified=!0}}),Te._onended=function(){},Te.elt.onended=function(){Te._onended(Te)},we}return a(i,[{key:"play",value:function(){var xe;return(this||_e).elt.currentTime===(this||_e).elt.duration&&((this||_e).elt.currentTime=0),1<(this||_e).elt.readyState||(this||_e).elt.load(),(xe=(this||_e).elt.play())&&xe.catch&&xe.catch((function(_e){"NotAllowedError"===_e.name?console.error(_e):console.error("Media play method encountered an unexpected error",_e)})),this||_e}},{key:"stop",value:function(){return(this||_e).elt.pause(),(this||_e).elt.currentTime=0,this||_e}},{key:"pause",value:function(){return(this||_e).elt.pause(),this||_e}},{key:"loop",value:function(){return(this||_e).elt.setAttribute("loop",!0),this.play(),this||_e}},{key:"noLoop",value:function(){return(this||_e).elt.removeAttribute("loop"),this||_e}},{key:"_setupAutoplayFailDetection",value:function(){var xe=setTimeout((function(){console.error(e)}),500);(this||_e).elt.addEventListener("play",(function(){return clearTimeout(xe)}),{passive:!0,once:!0})}},{key:"autoplay",value:function(xe){var we=this||_e,Se=(this||_e).elt.getAttribute("autoplay");return(this||_e).elt.setAttribute("autoplay",xe),xe&&!Se&&(xe=function(){return we._setupAutoplayFailDetection()},4===(this||_e).elt.readyState?xe():(this||_e).elt.addEventListener("canplay",xe,{passive:!0,once:!0})),this||_e}},{key:"volume",value:function(xe){if(void 0===xe)return(this||_e).elt.volume;(this||_e).elt.volume=xe}},{key:"speed",value:function(xe){if(void 0===xe)return(this||_e).presetPlaybackRate||(this||_e).elt.playbackRate;(this||_e).loadedmetadata?(this||_e).elt.playbackRate=xe:(this||_e).presetPlaybackRate=xe}},{key:"time",value:function(xe){return void 0===xe?(this||_e).elt.currentTime:((this||_e).elt.currentTime=xe,this||_e)}},{key:"duration",value:function(){return(this||_e).elt.duration}},{key:"_ensureCanvas",value:function(){(this||_e).canvas||((this||_e).canvas=document.createElement("canvas"),(this||_e).drawingContext=(this||_e).canvas.getContext("2d"),this.setModified(!0));var xe=(this||_e)._frameOnCanvas!==(this||_e)._pInst.frameCount;(this||_e).loadedmetadata&&xe&&((this||_e).canvas.width!==(this||_e).elt.width&&((this||_e).canvas.width=(this||_e).elt.width,(this||_e).canvas.height=(this||_e).elt.height,(this||_e).width=(this||_e).canvas.width,(this||_e).height=(this||_e).canvas.height),(this||_e).drawingContext.clearRect(0,0,(this||_e).canvas.width,(this||_e).canvas.height),(this||_e).drawingContext.drawImage((this||_e).elt,0,0,(this||_e).canvas.width,(this||_e).canvas.height),this.setModified(!0),(this||_e)._frameOnCanvas=(this||_e)._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default.Renderer2D.prototype.loadPixels.apply(this||_e,we)}},{key:"updatePixels",value:function(xe,we,Se,Me){return(this||_e).loadedmetadata&&(this._ensureCanvas(),Te.default.Renderer2D.prototype.updatePixels.call(this||_e,xe,we,Se,Me)),this.setModified(!0),this||_e}},{key:"get",value:function(){this._ensureCanvas();for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default.Renderer2D.prototype.get.apply(this||_e,we)}},{key:"_getPixel",value:function(){this.loadPixels();for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default.Renderer2D.prototype._getPixel.apply(this||_e,we)}},{key:"set",value:function(xe,we,Se){(this||_e).loadedmetadata&&(this._ensureCanvas(),Te.default.Renderer2D.prototype.set.call(this||_e,xe,we,Se),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default.prototype.copy.apply(this||_e,we)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default.Image.prototype.mask.apply(this||_e,we)}},{key:"isModified",value:function(){return(this||_e)._modified}},{key:"setModified",value:function(xe){(this||_e)._modified=xe}},{key:"onended",value:function(xe){return(this||_e)._onended=xe,this||_e}},{key:"connect",value:function(xe){var we,Se;if("function"==typeof Te.default.prototype.getAudioContext)we=Te.default.prototype.getAudioContext(),Se=Te.default.soundOut.input;else try{Se=(we=xe.context).destination}catch(xe){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}(this||_e).audioSourceNode||((this||_e).audioSourceNode=we.createMediaElementSource((this||_e).elt),(this||_e).audioSourceNode.connect(Se)),xe?xe.input?(this||_e).audioSourceNode.connect(xe.input):(this||_e).audioSourceNode.connect(xe):(this||_e).audioSourceNode.connect(Se)}},{key:"disconnect",value:function(){if(!(this||_e).audioSourceNode)throw"nothing to disconnect";(this||_e).audioSourceNode.disconnect()}},{key:"showControls",value:function(){(this||_e).elt.style["text-align"]="inherit",(this||_e).elt.controls=!0}},{key:"hideControls",value:function(){(this||_e).elt.controls=!1}},{key:"addCue",value:function(xe,we,Se){var Te=(this||_e)._cueIDCounter++;we=new y(we,xe,Te,Se);return(this||_e)._cues.push(we),(this||_e).elt.ontimeupdate||((this||_e).elt.ontimeupdate=(this||_e)._onTimeUpdate.bind(this||_e)),Te}},{key:"removeCue",value:function(xe){for(var we=0;we<(this||_e)._cues.length;we++)(this||_e)._cues[we].id===xe&&(console.log(xe),(this||_e)._cues.splice(we,1));0===(this||_e)._cues.length&&((this||_e).elt.ontimeupdate=null)}},{key:"clearCues",value:function(){(this||_e)._cues=[],(this||_e).elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var xe=this.time(),we=0;we<(this||_e)._cues.length;we++){var Se=(this||_e)._cues[we].time,Te=(this||_e)._cues[we].val;(this||_e)._prevTime<Se&&Se<=xe&&(this||_e)._cues[we].callback(Te)}(this||_e)._prevTime=xe}}]),i}(Te.default.Element),Te.default.MediaElement=xe,xe=function(){function r(xe,we){d(this||_e,r),(this||_e).file=xe,(this||_e)._pInst=we;we=xe.type.split("/");(this||_e).type=we[0],(this||_e).subtype=we[1],(this||_e).name=xe.name,(this||_e).size=xe.size,(this||_e).data=void 0}return a(r,null,[{key:"_createLoader",value:function(_e,xe){var we=new FileReader;return we.onload=function(we){var Se,Me=new Te.default.File(_e);"application/json"===Me.file.type?Me.data=JSON.parse(we.target.result):"text/xml"===Me.file.type?(Se=(new DOMParser).parseFromString(we.target.result,"text/xml"),Me.data=new Te.default.XML(Se.documentElement)):Me.data=we.target.result,xe(Me)},we}},{key:"_load",value:function(_e,xe){var we;/^text\//.test(_e.type)||"application/json"===_e.type?Te.default.File._createLoader(_e,xe).readAsText(_e):/^(video|audio)\//.test(_e.type)?((we=new Te.default.File(_e)).data=URL.createObjectURL(_e),xe(we)):Te.default.File._createLoader(_e,xe).readAsDataURL(_e)}}]),r}(),Te.default.File=xe,xe=Te.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240}],292:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(rt=xe("../core/main"))&&rt.__esModule?rt:{default:rt},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}Te.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",Te.default.prototype.accelerationX=0,Te.default.prototype.accelerationY=0,Te.default.prototype.accelerationZ=0,Te.default.prototype.pAccelerationX=0,Te.default.prototype.pAccelerationY=0,Te.default.prototype.pAccelerationZ=0,Te.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",(this||_e).accelerationX),this._setProperty("pAccelerationY",(this||_e).accelerationY),this._setProperty("pAccelerationZ",(this||_e).accelerationZ)},Te.default.prototype.rotationX=0,Te.default.prototype.rotationY=0,Te.default.prototype.rotationZ=0,Te.default.prototype.pRotationX=0,Te.default.prototype.pRotationY=0;var Ye=Te.default.prototype.pRotationZ=0,Ze=0,Qe=0,Ke="clockwise",Je="clockwise",$e="clockwise",et=(Te.default.prototype.pRotateDirectionX=void 0,Te.default.prototype.pRotateDirectionY=void 0,Te.default.prototype.pRotateDirectionZ=void 0,Te.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",(this||_e).rotationX),this._setProperty("pRotationY",(this||_e).rotationY),this._setProperty("pRotationZ",(this||_e).rotationZ)},Te.default.prototype.turnAxis=void 0,.5),tt=30,rt=(Te.default.prototype.setMoveThreshold=function(_e){Te.default._validateParameters("setMoveThreshold",arguments),et=_e},Te.default.prototype.setShakeThreshold=function(_e){Te.default._validateParameters("setShakeThreshold",arguments),tt=_e},Te.default.prototype._ondeviceorientation=function(xe){this._updatePRotations(),(this||_e)._angleMode===Me.radians&&(xe.beta=xe.beta*(_PI/180),xe.gamma=xe.gamma*(_PI/180),xe.alpha=xe.alpha*(_PI/180)),this._setProperty("rotationX",xe.beta),this._setProperty("rotationY",xe.gamma),this._setProperty("rotationZ",xe.alpha),this._handleMotion()},Te.default.prototype._ondevicemotion=function(_e){this._updatePAccelerations(),this._setProperty("accelerationX",2*_e.acceleration.x),this._setProperty("accelerationY",2*_e.acceleration.y),this._setProperty("accelerationZ",2*_e.acceleration.z),this._handleMotion()},Te.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var xe,we,Se,Te,Me,rt=(this||_e)._isGlobal?window:this||_e;"function"==typeof rt.deviceMoved&&(Math.abs((this||_e).accelerationX-(this||_e).pAccelerationX)>et||Math.abs((this||_e).accelerationY-(this||_e).pAccelerationY)>et||Math.abs((this||_e).accelerationZ-(this||_e).pAccelerationZ)>et)&&rt.deviceMoved(),"function"==typeof rt.deviceTurned&&(we=(this||_e).rotationX+180,xe=(this||_e).pRotationX+180,Se=Ye+180,0<we-xe&&we-xe<270||we-xe<-270?Ke="clockwise":(we-xe<0||270<we-xe)&&(Ke="counter-clockwise"),Ke!==(this||_e).pRotateDirectionX&&(Se=we),90<Math.abs(we-Se)&&Math.abs(we-Se)<270&&(Se=we,this._setProperty("turnAxis","X"),rt.deviceTurned()),(this||_e).pRotateDirectionX=Ke,Ye=Se-180,xe=(this||_e).rotationY+180,we=(this||_e).pRotationY+180,Se=Ze+180,0<xe-we&&xe-we<270||xe-we<-270?Je="clockwise":(xe-we<0||270<xe-(this||_e).pRotationY)&&(Je="counter-clockwise"),Je!==(this||_e).pRotateDirectionY&&(Se=xe),90<Math.abs(xe-Se)&&Math.abs(xe-Se)<270&&(Se=xe,this._setProperty("turnAxis","Y"),rt.deviceTurned()),(this||_e).pRotateDirectionY=Je,Ze=Se-180,0<(this||_e).rotationZ-(this||_e).pRotationZ&&(this||_e).rotationZ-(this||_e).pRotationZ<270||(this||_e).rotationZ-(this||_e).pRotationZ<-270?$e="clockwise":((this||_e).rotationZ-(this||_e).pRotationZ<0||270<(this||_e).rotationZ-(this||_e).pRotationZ)&&($e="counter-clockwise"),$e!==(this||_e).pRotateDirectionZ&&(Qe=(this||_e).rotationZ),90<Math.abs((this||_e).rotationZ-Qe)&&Math.abs((this||_e).rotationZ-Qe)<270&&(Qe=(this||_e).rotationZ,this._setProperty("turnAxis","Z"),rt.deviceTurned()),(this||_e).pRotateDirectionZ=$e,this._setProperty("turnAxis",void 0)),"function"==typeof rt.deviceShaken&&(null!==(this||_e).pAccelerationX&&(Te=Math.abs((this||_e).accelerationX-(this||_e).pAccelerationX),Me=Math.abs((this||_e).accelerationY-(this||_e).pAccelerationY)),tt<Te+Me&&rt.deviceShaken())},Te.default);Se.default=rt},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],293:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype.isKeyPressed=!1,Te.default.prototype.keyIsPressed=!1,Te.default.prototype.key="",Te.default.prototype.keyCode=0,Te.default.prototype._onkeydown=function(xe){var we;(this||_e)._downKeys[xe.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",xe.which),(this||_e)._downKeys[xe.which]=!0,this._setProperty("key",xe.key||String.fromCharCode(xe.which)||xe.which),"function"!=typeof(we=(this||_e)._isGlobal?window:this||_e).keyPressed||xe.charCode||!1===we.keyPressed(xe)&&xe.preventDefault())},Te.default.prototype._onkeyup=function(xe){(this||_e)._downKeys[xe.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",xe.key||String.fromCharCode(xe.which)||xe.which),this._setProperty("keyCode",xe.which);var we=(this||_e)._isGlobal?window:this||_e;"function"==typeof we.keyReleased&&!1===we.keyReleased(xe)&&xe.preventDefault()},Te.default.prototype._onkeypress=function(xe){var we;xe.which!==(this||_e)._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",xe.which),this._setProperty("key",xe.key||String.fromCharCode(xe.which)||xe.which),"function"==typeof(we=(this||_e)._isGlobal?window:this||_e).keyTyped&&!1===we.keyTyped(xe)&&xe.preventDefault())},Te.default.prototype._onblur=function(xe){(this||_e)._downKeys={}},Te.default.prototype.keyIsDown=function(xe){return Te.default._validateParameters("keyIsDown",arguments),(this||_e)._downKeys[xe]||!1},Te.default.prototype._areDownKeys=function(){for(var xe in(this||_e)._downKeys)if((this||_e)._downKeys.hasOwnProperty(xe)&&!0===(this||_e)._downKeys[xe])return!0;return!1};xe=Te.default;Se.default=xe},{"../core/main":275}],294:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.string.includes"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Te=xe("../core/main"))&&Te.__esModule?Te:{default:Te},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}Te.default.prototype.movedX=0,Te.default.prototype.movedY=0,Te.default.prototype._hasMouseInteracted=!1,Te.default.prototype.mouseX=0,Te.default.prototype.mouseY=0,Te.default.prototype.pmouseX=0,Te.default.prototype.pmouseY=0,Te.default.prototype.winMouseX=0,Te.default.prototype.winMouseY=0,Te.default.prototype.pwinMouseX=0,Te.default.prototype.pwinMouseY=0,Te.default.prototype.mouseButton=0,Te.default.prototype.mouseIsPressed=!1,Te.default.prototype._updateNextMouseCoords=function(xe){var we,Se,Te,Me,Ye;null!==(this||_e)._curElement&&(!xe.touches||0<xe.touches.length)&&(we=(this||_e)._curElement.elt,Se=(this||_e).width,Te=(this||_e).height,(Me=xe)&&!Me.clientX&&(Me.touches?Me=Me.touches[0]:Me.changedTouches&&(Me=Me.changedTouches[0])),Ye=we.getBoundingClientRect(),Se=we.scrollWidth/Se||1,we=we.scrollHeight/Te||1,Te={x:(Me.clientX-Ye.left)/Se,y:(Me.clientY-Ye.top)/we,winX:Me.clientX,winY:Me.clientY,id:Me.identifier},this._setProperty("movedX",xe.movementX),this._setProperty("movedY",xe.movementY),this._setProperty("mouseX",Te.x),this._setProperty("mouseY",Te.y),this._setProperty("winMouseX",Te.winX),this._setProperty("winMouseY",Te.winY)),(this||_e)._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},Te.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",(this||_e).mouseX),this._setProperty("pmouseY",(this||_e).mouseY),this._setProperty("pwinMouseX",(this||_e).winMouseX),this._setProperty("pwinMouseY",(this||_e).winMouseY),this._setProperty("_pmouseWheelDeltaY",(this||_e)._mouseWheelDeltaY)},Te.default.prototype._setMouseButton=function(_e){1===_e.button?this._setProperty("mouseButton",Me.CENTER):2===_e.button?this._setProperty("mouseButton",Me.RIGHT):this._setProperty("mouseButton",Me.LEFT)},Te.default.prototype._onmousemove=function(xe){var we=(this||_e)._isGlobal?window:this||_e;this._updateNextMouseCoords(xe),(this||_e).mouseIsPressed?"function"==typeof we.mouseDragged?!1===we.mouseDragged(xe)&&xe.preventDefault():"function"==typeof we.touchMoved&&!1===we.touchMoved(xe)&&xe.preventDefault():"function"==typeof we.mouseMoved&&!1===we.mouseMoved(xe)&&xe.preventDefault()},Te.default.prototype._onmousedown=function(xe){var we=(this||_e)._isGlobal?window:this||_e;this._setProperty("mouseIsPressed",!0),this._setMouseButton(xe),this._updateNextMouseCoords(xe),"function"==typeof we.mousePressed?!1===we.mousePressed(xe)&&xe.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof we.touchStarted&&!1===we.touchStarted(xe)&&xe.preventDefault()},Te.default.prototype._onmouseup=function(xe){var we=(this||_e)._isGlobal?window:this||_e;this._setProperty("mouseIsPressed",!1),"function"==typeof we.mouseReleased?!1===we.mouseReleased(xe)&&xe.preventDefault():"function"==typeof we.touchEnded&&!1===we.touchEnded(xe)&&xe.preventDefault()},Te.default.prototype._ondragend=Te.default.prototype._onmouseup,Te.default.prototype._ondragover=Te.default.prototype._onmousemove,Te.default.prototype._onclick=function(xe){var we=(this||_e)._isGlobal?window:this||_e;"function"==typeof we.mouseClicked&&!1===we.mouseClicked(xe)&&xe.preventDefault()},Te.default.prototype._ondblclick=function(xe){var we=(this||_e)._isGlobal?window:this||_e;"function"==typeof we.doubleClicked&&!1===we.doubleClicked(xe)&&xe.preventDefault()},Te.default.prototype._mouseWheelDeltaY=0,Te.default.prototype._pmouseWheelDeltaY=0,Te.default.prototype._onwheel=function(xe){var we=(this||_e)._isGlobal?window:this||_e;this._setProperty("_mouseWheelDeltaY",xe.deltaY),"function"==typeof we.mouseWheel&&(xe.delta=xe.deltaY,!1===we.mouseWheel(xe)&&xe.preventDefault())},Te.default.prototype.requestPointerLock=function(){var xe=(this||_e)._curElement.elt;return xe.requestPointerLock=xe.requestPointerLock||xe.mozRequestPointerLock,xe.requestPointerLock?(xe.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},Te.default.prototype.exitPointerLock=function(){document.exitPointerLock()};xe=Te.default;Se.default=xe},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],295:[function(xe,we,Se){xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.string.includes"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype.touches=[],xe.default.prototype._updateTouchCoords=function(xe){if(null!==(this||_e)._curElement){for(var we=[],Se=0;Se<xe.touches.length;Se++)we[Se]=function(_e,xe,we,Se){var Te=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,Me=_e.getBoundingClientRect();xe=_e.scrollWidth/xe||1,_e=_e.scrollHeight/we||1,we=Se.touches[Te]||Se.changedTouches[Te];return{x:(we.clientX-Me.left)/xe,y:(we.clientY-Me.top)/_e,winX:we.clientX,winY:we.clientY,id:we.identifier}}((this||_e)._curElement.elt,(this||_e).width,(this||_e).height,xe,Se);this._setProperty("touches",we)}},xe.default.prototype._ontouchstart=function(xe){var we=(this||_e)._isGlobal?window:this||_e;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(xe),this._updateNextMouseCoords(xe),this._updateMouseCoords(),"function"==typeof we.touchStarted?!1===we.touchStarted(xe)&&xe.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof we.mousePressed&&!1===we.mousePressed(xe)&&xe.preventDefault()},xe.default.prototype._ontouchmove=function(xe){var we=(this||_e)._isGlobal?window:this||_e;this._updateTouchCoords(xe),this._updateNextMouseCoords(xe),"function"==typeof we.touchMoved?!1===we.touchMoved(xe)&&xe.preventDefault():"function"==typeof we.mouseDragged&&!1===we.mouseDragged(xe)&&xe.preventDefault()},xe.default.prototype._ontouchend=function(xe){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(xe),this._updateNextMouseCoords(xe);var we=(this||_e)._isGlobal?window:this||_e;"function"==typeof we.touchEnded?!1===we.touchEnded(xe)&&xe.preventDefault():"function"==typeof we.mouseReleased&&!1===we.mouseReleased(xe)&&xe.preventDefault()};xe=xe.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.string.includes":191}],296:[function(xe,we,Se){xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.int32-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.int32-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te,Me,Ye,Ze,Qe={_toPixels:function(_e){var xe,we;return _e instanceof ImageData?_e.data:_e.getContext("2d")?_e.getContext("2d").getImageData(0,0,_e.width,_e.height).data:_e.getContext("webgl")?(we=(xe=_e.getContext("webgl")).drawingBufferWidth*xe.drawingBufferHeight*4,we=new Uint8Array(we),xe.readPixels(0,0,_e.width,_e.height,xe.RGBA,xe.UNSIGNED_BYTE,we),we):void 0},_getARGB:function(_e,xe){xe*=4;return _e[3+xe]<<24&4278190080|_e[xe]<<16&16711680|_e[1+xe]<<8&65280|255&_e[2+xe]},_setPixels:function(_e,xe){for(var we,Se=0,Te=_e.length;Se<Te;Se++)_e[0+(we=4*Se)]=(16711680&xe[Se])>>>16,_e[1+we]=(65280&xe[Se])>>>8,_e[2+we]=255&xe[Se],_e[3+we]=(4278190080&xe[Se])>>>24},_toImageData:function(_e){return _e instanceof ImageData?_e:_e.getContext("2d").getImageData(0,0,_e.width,_e.height)},_createImageData:function(xe,we){return Qe._tmpCanvas=document.createElement("canvas"),Qe._tmpCtx=Qe._tmpCanvas.getContext("2d"),(this||_e)._tmpCtx.createImageData(xe,we)},apply:function(_e,xe,we){var Se=_e.getContext("2d"),Te=Se.getImageData(0,0,_e.width,_e.height);xe=xe(Te,we);xe instanceof ImageData?Se.putImageData(xe,0,0,0,0,_e.width,_e.height):Se.putImageData(Te,0,0,0,0,_e.width,_e.height)},threshold:function(_e,xe){for(var we=Qe._toPixels(_e),Se=(void 0===xe&&(xe=.5),Math.floor(255*xe)),Te=0;Te<we.length;Te+=4){var Me=void 0;Me=Se<=.2126*we[Te]+.7152*we[Te+1]+.0722*we[Te+2]?255:0;we[Te]=we[Te+1]=we[Te+2]=Me}},gray:function(_e){for(var xe=Qe._toPixels(_e),we=0;we<xe.length;we+=4){var Se=xe[we],Te=xe[we+1],Me=xe[we+2];xe[we]=xe[we+1]=xe[we+2]=.2126*Se+.7152*Te+.0722*Me}},opaque:function(_e){for(var xe=Qe._toPixels(_e),we=0;we<xe.length;we+=4)xe[we+3]=255;return xe},invert:function(_e){for(var xe=Qe._toPixels(_e),we=0;we<xe.length;we+=4)xe[we]=255-xe[we],xe[we+1]=255-xe[we+1],xe[we+2]=255-xe[we+2]},posterize:function(_e,xe){var we=Qe._toPixels(_e);if((xe=void 0===xe?4:xe)<2||255<xe)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var Se=xe-1,Te=0;Te<we.length;Te+=4){var Me=we[Te],Ye=we[Te+1],Ze=we[Te+2];we[Te]=255*(Me*xe>>8)/Se,we[Te+1]=255*(Ye*xe>>8)/Se,we[Te+2]=255*(Ze*xe>>8)/Se}},dilate:function(_e){for(var xe,we,Se,Te,Me,Ye,Ze,Ke,Je,$e=Qe._toPixels(_e),et=0,tt=$e.length?$e.length/4:0,rt=new Int32Array(tt);et<tt;)for(we=(xe=et)+_e.width;et<we;)Te=Se=Qe._getARGB($e,et),(Je=et-1)<xe&&(Je=et),we<=(Ke=et+1)&&(Ke=et),(Me=et-_e.width)<0&&(Me=0),tt<=(Ye=et+_e.width)&&(Ye=et),Me=Qe._getARGB($e,Me),Je=Qe._getARGB($e,Je),Ye=Qe._getARGB($e,Ye),(Te=77*(Te>>16&255)+151*(Te>>8&255)+28*(255&Te))<(Ze=77*(Je>>16&255)+151*(Je>>8&255)+28*(255&Je))&&(Se=Je,Te=Ze),Te<(Ze=77*((Je=Qe._getARGB($e,Ke))>>16&255)+151*(Je>>8&255)+28*(255&Je))&&(Se=Je,Te=Ze),Te<(Ke=77*(Me>>16&255)+151*(Me>>8&255)+28*(255&Me))&&(Se=Me,Te=Ke),Te<(Je=77*(Ye>>16&255)+151*(Ye>>8&255)+28*(255&Ye))&&(Se=Ye,Te=Je),rt[et++]=Se;Qe._setPixels($e,rt)},erode:function(_e){for(var xe,we,Se,Te,Me,Ye,Ze,Ke,Je,$e=Qe._toPixels(_e),et=0,tt=$e.length?$e.length/4:0,rt=new Int32Array(tt);et<tt;)for(we=(xe=et)+_e.width;et<we;)Te=Se=Qe._getARGB($e,et),(Je=et-1)<xe&&(Je=et),we<=(Ke=et+1)&&(Ke=et),(Me=et-_e.width)<0&&(Me=0),tt<=(Ye=et+_e.width)&&(Ye=et),Me=Qe._getARGB($e,Me),Je=Qe._getARGB($e,Je),Ye=Qe._getARGB($e,Ye),(Ze=77*(Je>>16&255)+151*(Je>>8&255)+28*(255&Je))<(Te=77*(Te>>16&255)+151*(Te>>8&255)+28*(255&Te))&&(Se=Je,Te=Ze),(Ze=77*((Je=Qe._getARGB($e,Ke))>>16&255)+151*(Je>>8&255)+28*(255&Je))<Te&&(Se=Je,Te=Ze),(Ke=77*(Me>>16&255)+151*(Me>>8&255)+28*(255&Me))<Te&&(Se=Me,Te=Ke),(Je=77*(Ye>>16&255)+151*(Ye>>8&255)+28*(255&Ye))<Te&&(Se=Ye,Te=Je),rt[et++]=Se;Qe._setPixels($e,rt)},blur:function(_e,xe){for(var we,Se,Ke,Je,$e,et,tt,rt,ot,nt,st=Qe._toPixels(_e),it=_e.width,dt=_e.height,ht=it*dt,ft=new Int32Array(ht),pt=0;pt<ht;pt++)ft[pt]=Qe._getARGB(st,pt);var mt,yt,gt,wt,Dt,Xt,Yt,br,jr=new Int32Array(ht),xr=new Int32Array(ht),wr=new Int32Array(ht),Sr=new Int32Array(ht),Tr=0,Mr=3.5*xe|0;if(Te!==(Mr=Mr<1?1:Mr<248?Mr:248)){Me=1+(Te=Mr)<<1,Ye=new Int32Array(Me),Ze=new Array(Me);for(var Pr=0;Pr<Me;Pr++)Ze[Pr]=new Int32Array(256);for(var Lr=1,Ar=Mr-1;Lr<Mr;Lr++){Ye[Mr+Lr]=Ye[Ar]=Xt=Ar*Ar,Yt=Ze[Mr+Lr],br=Ze[Ar--];for(var Rr=0;Rr<256;Rr++)Yt[Rr]=br[Rr]=Xt*Rr}Dt=Ye[Mr]=Mr*Mr,Yt=Ze[Mr];for(var Ir=0;Ir<256;Ir++)Yt[Ir]=Dt*Ir}for(yt=0;yt<dt;yt++){for(mt=0;mt<it;mt++){if(Je=Ke=Se=$e=we=0,(et=mt-Te)<0)nt=-et,et=0;else{if(it<=et)break;nt=0}for(gt=nt;gt<Me&&!(it<=et);gt++){var Dr=ft[et+Tr];wt=Ze[gt],$e+=wt[(-16777216&Dr)>>>24],Se+=wt[(16711680&Dr)>>16],Ke+=wt[(65280&Dr)>>8],Je+=wt[255&Dr],we+=Ye[gt],et++}jr[tt=Tr+mt]=$e/we,xr[tt]=Se/we,wr[tt]=Ke/we,Sr[tt]=Je/we}Tr+=it}for(ot=(rt=-Te)*it,yt=Tr=0;yt<dt;yt++){for(mt=0;mt<it;mt++){if(Je=Ke=Se=$e=we=0,rt<0)nt=tt=-rt,et=mt;else{if(dt<=rt)break;nt=0,tt=rt,et=mt+ot}for(gt=nt;gt<Me&&!(dt<=tt);gt++)wt=Ze[gt],$e+=wt[jr[et]],Se+=wt[xr[et]],Ke+=wt[wr[et]],Je+=wt[Sr[et]],we+=Ye[gt],tt++,et+=it;ft[mt+Tr]=$e/we<<24|Se/we<<16|Ke/we<<8|Je/we}Tr+=it,ot+=it,rt++}Qe._setPixels(st,ft)}};Se.default=Qe},{"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int32-array":217,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234}],297:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=o(xe("../core/main")),Me=o(xe("omggif"));function o(_e){return _e&&_e.__esModule?_e:{default:_e}}function P(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Te.default.prototype.createImage=function(_e,xe){return Te.default._validateParameters("createImage",arguments),new Te.default.Image(_e,xe)},Te.default.prototype.saveCanvas=function(){Te.default._validateParameters("saveCanvas",arguments);var xe,we,Se,Me,Ye,Ze,Qe=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(xe=arguments[0],Qe.shift()):arguments[0]instanceof Te.default.Element?(xe=arguments[0].elt,Qe.shift()):arguments[0]instanceof Te.default.Framebuffer?((Ye=this.createGraphics((Me=arguments[0]).width,Me.height)).pixelDensity(pixelDensity()),Me.loadPixels(),Ye.loadPixels(),Ye.pixels.set(Me.pixels),Ye.updatePixels(),xe=Ye.elt,Qe.shift()):xe=(this||_e)._curElement&&(this||_e)._curElement.elt,1<=Qe.length&&(we=Qe[0]),Se=(Se=2<=Qe.length?Qe[1]:Se)||Te.default.prototype._checkFileExtension(we,Se)[1]||"png"){default:Ze="image/png";break;case"jpeg":case"jpg":Ze="image/jpeg"}xe.toBlob((function(_e){Te.default.prototype.downloadFile(_e,we,Se),Ye&&Ye.remove()}),Ze)},Te.default.prototype.encodeAndDownloadGif=function(_e,xe){for(var we=_e.gifProperties,Se=we.loopLimit,Ye=(1===Se?Se=null:null===Se&&(Se=0),new Uint8Array(_e.width*_e.height*we.numFrames)),Ze=[],Qe={},Ke=0;Ke<we.numFrames;Ke++){for(var Je=new Set,$e=we.frames[Ke].image.data,et=$e.length,tt=new Uint32Array(_e.width*_e.height),rt=0,ot=0;rt<et;rt+=4,ot++){var nt=$e[rt+0]<<16|$e[rt+1]<<8|$e[rt+2]<<0;Je.add(nt),tt[ot]=nt}var st=P(Je).sort().toString();void 0===Qe[st]?Qe[st]={freq:1,frames:[Ke]}:(Qe[st].freq+=1,Qe[st].frames.push(Ke)),Ze.push(tt)}for(var it=[],dt=Object.keys(Qe).sort((function(_e,xe){return Qe[xe].freq-Qe[_e].freq})),ht=dt[0].split(",").map((function(_e){return parseInt(_e)})),ft=(it=it.concat(Qe[ht].frames),new Set(ht)),pt=1;pt<dt.length;pt++){var mt=dt[pt].split(",").map((function(_e){return parseInt(_e)})).filter((function(_e){return!ft.has(_e)}));if(ht.length+mt.length<=256){for(var yt=0;yt<mt.length;yt++)ht.push(mt[yt]),ft.add(mt[yt]);it=it.concat(Qe[dt[pt]].frames)}}it=new Set(it);for(var gt={},wt=0;wt<ht.length;wt++)gt[ht[wt]]||(gt[ht[wt]]=wt);for(var Dt=1;Dt<ht.length;)Dt<<=1;ht.length=Dt;Se={loop:Se,palette:new Uint32Array(ht)};for(var Xt=new Me.default.GifWriter(Ye,_e.width,_e.height,Se),Yt={},br=0;br<we.numFrames;br++)!function(xe){var Se=!it.has(xe),Te=Se?[]:ht,Me=new Uint8Array(_e.width*_e.height),Ye={},Qe=new Set,Ke=(Ze[xe].forEach((function(_e,we){Se?(void 0===Ye[_e]&&(Ye[_e]=Te.length,Te.push(_e)),Me[we]=Ye[_e]):Me[we]=gt[_e],0<xe&&Ze[xe-1][we]!==_e&&Qe.add(_e)})),{}),Je=Te.filter((function(_e){return!Qe.has(_e)}));if(0<Je.length){Je=Je[0];var $e=(Se?Ye:gt)[Je];if(0<xe){for(var et=0;et<Ze[xe].length;et++)Ze[xe-1][et]===Ze[xe][et]&&(Me[et]=$e);Ke.transparent=$e,Yt.frameOpts.disposal=1}}if(Ke.delay=we.frames[xe].delay/10,Se){for(var tt=1;tt<Te.length;)tt<<=1;Te.length=tt,Ke.palette=new Uint32Array(Te)}0<xe&&Xt.addFrame(0,0,_e.width,_e.height,Yt.pixelPaletteIndex,Yt.frameOpts),Yt={pixelPaletteIndex:Me,frameOpts:Ke}}(br);Yt.frameOpts.disposal=1,Xt.addFrame(0,0,_e.width,_e.height,Yt.pixelPaletteIndex,Yt.frameOpts);Se=new Blob([Ye.slice(0,Xt.end())],{type:"image/gif"});Te.default.prototype.downloadFile(Se,xe,"gif")},Te.default.prototype.saveFrames=function(xe,we,Se,Me,Ye){Te.default._validateParameters("saveFrames",arguments);Se=Te.default.prototype.constrain(Se=Se||3,0,15);Se*=1e3;Me=Te.default.prototype.constrain(Me||15,0,22);var Ze=0,Qe=Te.default.prototype._makeFrame,Ke=(this||_e)._curElement.elt,Je=[],$e=setInterval((function(){Je.push(Qe(xe+Ze,we,Ke)),Ze++}),1e3/Me);setTimeout((function(){if(clearInterval($e),Ye)Ye(Je);else for(var _e=0,xe=Je;_e<xe.length;_e++){var we=xe[_e];Te.default.prototype.downloadFile(we.imageData,we.filename,we.ext)}Je=[]}),.01+Se)},Te.default.prototype._makeFrame=function(xe,we,Se){var Te;Se=this||_e?(this||_e)._curElement.elt:Se;if(we)switch(we.toLowerCase()){case"png":Te="image/png";break;case"jpeg":case"jpg":Te="image/jpeg";break;default:Te="image/png"}else we="png",Te="image/png";Se=(Se=Se.toDataURL(Te)).replace(Te,"image/octet-stream");var Me={};return Me.imageData=Se,Me.filename=xe,Me.ext=we,Me};xe=Te.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,omggif:248}],298:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.copy-within"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint8-clamped-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.copy-within"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint8-clamped-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0,xe("regenerator-runtime/runtime");var Te=n(xe("../core/main")),Me=n(xe("../core/helpers")),Ye=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants")),Ze=n(xe("omggif")),Qe=xe("gifenc");function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function n(_e){return _e&&_e.__esModule?_e:{default:_e}}function l(_e,xe,we,Se,Te,Me,Ye){try{var Ze=_e[Me](Ye),Qe=Ze.value}catch(_e){return void we(_e)}Ze.done?xe(Qe):Promise.resolve(Qe).then(Se,Te)}function y(_e,xe,we,Se,Te,Me,Ze,Qe,Ke,Je,$e){var et,tt,rt,ot,nt,st,it,dt,ht;return _e===Ye.COVER&&(et=xe,rt=we,it=Me,dt=Ze,st=Qe,ht=Ke,tt=Je,ot=$e,nt=Math.max(it/tt,dt/ot),it/=nt,dt/=nt,nt=st,st=ht,et===Ye.CENTER?nt+=(tt-it)/2:et===Ye.RIGHT&&(nt+=tt-it),rt===Ye.CENTER?st+=(ot-dt)/2:rt===Ye.BOTTOM&&(st+=ot-dt),Qe=(ht={x:nt,y:st,w:it,h:dt}).x,Ke=ht.y,Je=ht.w,$e=ht.h),_e===Ye.CONTAIN&&(et=xe,tt=we,rt=Se,ot=Te,nt=Me,st=Ze,it=Je,dt=$e,ht=Math.max(it/nt,dt/st),it/=ht,dt/=ht,ht=rt,rt=ot,et===Ye.CENTER?ht+=(nt-it)/2:et===Ye.RIGHT&&(ht+=nt-it),tt===Ye.CENTER?rt+=(st-dt)/2:tt===Ye.BOTTOM&&(rt+=st-dt),Se=(_e={x:ht,y:rt,w:it,h:dt}).x,Te=_e.y,Me=_e.w,Ze=_e.h),{sx:Qe,sy:Ke,sw:Je,sh:$e,dx:Se,dy:Te,dw:Me,dh:Ze}}function v(_e,xe){return 0<_e&&_e<xe?_e:xe}xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.loadImage=function(xe,we,Se){Te.default._validateParameters("loadImage",arguments);var Me=new Te.default.Image(1,1,this||_e),Ye=this||_e,Qe=new Request(xe,{method:"GET",mode:"cors"});return fetch(xe,Qe).then((function(_e){var Qe,Ke=_e.headers.get("content-type");null===Ke&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),Ke&&Ke.includes("image/gif")?_e.arrayBuffer().then((function(_e){if(_e){_e=new Uint8Array(_e);for(var xe=Me,Qe=we,Ke=Se,Je=function(_e){Ye._decrementPreload()}.bind(Ye),$e=new Ze.default.GifReader(_e),et=(xe.width=xe.canvas.width=$e.width,xe.height=xe.canvas.height=$e.height,[]),tt=$e.numFrames(),rt=new Uint8ClampedArray(xe.width*xe.height*4),ot=0;ot<tt;ot++){var nt=$e.frameInfo(ot),st=xe.drawingContext.getImageData(0,0,xe.width,xe.height),it=(rt=st.data.slice(),!function(_e,we){try{we.decodeAndBlitFrameRGBA(_e,rt)}catch(_e){Te.default._friendlyFileLoadError(8,xe.src),"function"==typeof Ke?Ke(_e):console.error(_e)}}(ot,$e),new ImageData(rt,xe.width,xe.height));it=(xe.drawingContext.putImageData(it,0,0),nt.delay);0===it&&(it=10),et.push({image:xe.drawingContext.getImageData(0,0,xe.width,xe.height),delay:10*it}),2===nt.disposal?xe.drawingContext.clearRect(nt.x,nt.y,nt.width,nt.height):3===nt.disposal&&xe.drawingContext.putImageData(st,0,0,nt.x,nt.y,nt.width,nt.height)}null===(_e=$e.loopCount())?_e=1:0===_e&&(_e=null),xe.drawingContext.putImageData(et[0].image,0,0),1<et.length&&(xe.gifProperties={displayIndex:0,loopLimit:_e,loopCount:0,frames:et,numFrames:tt,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof Qe&&Qe(xe),Je()}}),(function(_e){"function"==typeof Se?(Se(_e),Ye._decrementPreload()):console.error(_e)})):((Qe=new Image).onload=function(){Me.width=Me.canvas.width=Qe.width,Me.height=Me.canvas.height=Qe.height,Me.drawingContext.drawImage(Qe,0,0),Me.modified=!0,"function"==typeof we&&we(Me),Ye._decrementPreload()},Qe.onerror=function(_e){Te.default._friendlyFileLoadError(0,Qe.src),"function"==typeof Se?(Se(_e),Ye._decrementPreload()):console.error(_e)},0!==xe.indexOf("data:image/")&&(Qe.crossOrigin="Anonymous"),Qe.src=xe),Me.modified=!0})).catch((function(_e){Te.default._friendlyFileLoadError(0,xe),"function"==typeof Se?(Se(_e),Ye._decrementPreload()):console.error(_e)})),Me},Te.default.prototype.saveGif=function(){xe=regeneratorRuntime.mark((function e(xe,we){var Se,Me,Ye,Ze,Ke,Je,$e,et,tt,rt,ot,nt,st,it,dt,ht,ft,pt,mt,yt,gt,wt,Dt,Xt,Yt,br,jr=arguments;return regeneratorRuntime.wrap((function(xr){for(;;)switch(xr.prev=xr.next){case 0:if(Se=2<jr.length&&void 0!==jr[2]?jr[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof xe)throw TypeError("fileName parameter must be a string");xr.next=3;break;case 3:if("number"!=typeof we)throw TypeError("Duration parameter must be a number");xr.next=5;break;case 5:if(Me=Se&&Se.delay||0,Ye=Se&&Se.units||"seconds",Ze=Se&&Se.silent||!1,Ke=Se&&Se.notificationDuration||0,Je=Se&&Se.notificationID||"progressBar","number"!=typeof Me)throw TypeError("Delay parameter must be a number");xr.next=12;break;case 12:if("seconds"!==Ye&&"frames"!==Ye)throw TypeError('Units parameter must be either "frames" or "seconds"');xr.next=14;break;case 14:if("boolean"!=typeof Ze)throw TypeError("Silent parameter must be a boolean");xr.next=16;break;case 16:if("number"!=typeof Ke)throw TypeError("Notification duration parameter must be a number");xr.next=18;break;case 18:if("string"!=typeof Je)throw TypeError("Notification ID parameter must be a string");xr.next=20;break;case 20:return(this||_e)._recording=!0,rt=(this||_e)._targetFrameRate,$e=($e=1/(rt=rt!==1/0&&void 0!==rt&&0!==rt?rt:60)*1e3)<20?20:$e,tt=(et="seconds"===Ye?we*rt:we)+(rt="seconds"===Ye?Me*rt:Me),rt,(this||_e).frameCount=rt,ot=(this||_e)._pixelDensity,this.pixelDensity(1),nt=[],null!==document.getElementById(Je)&&document.getElementById(Je).remove(),Ze||((st=this.createP("")).id(Je),st.style("font-size","16px"),st.style("font-family","Montserrat"),st.style("background-color","#ffffffa0"),st.style("padding","8px"),st.style("border-radius","10px"),st.position(0,0)),(this||_e)._renderer instanceof Te.default.RendererGL&&(dt=(this||_e).drawingContext,it=new Uint8Array(dt.drawingBufferWidth*dt.drawingBufferHeight*4)),this.noLoop(),xr.next=39,Promise.resolve();case 39:if(rt<tt)return this.redraw(),Xt=void 0,Xt=(this||_e)._renderer instanceof Te.default.RendererGL?(it=new Uint8Array(dt.drawingBufferWidth*dt.drawingBufferHeight*4),dt.readPixels(0,0,dt.drawingBufferWidth,dt.drawingBufferHeight,dt.RGBA,dt.UNSIGNED_BYTE,it),function(_e){for(var xe=parseInt(height/2),we=4*width,Se=new Uint8Array(4*width),Te=0;Te<xe;++Te){var Me=Te*we,Ye=(height-Te-1)*we;Se.set(_e.subarray(Me,Me+we)),_e.copyWithin(Me,Ye,Ye+we),_e.set(Se,Ye)}return _e}(it)):(this||_e).drawingContext.getImageData(0,0,(this||_e).width,(this||_e).height).data,nt.push(Xt),rt++,Ze||st.html("Saved frame <b>"+nt.length.toString()+"</b> out of "+et.toString()),xr.next=48,new Promise((function(_e){return setTimeout(_e,0)}));xr.next=50;break;case 48:xr.next=39;break;case 50:Ze||st.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(ot),ht=(0,Qe.GIFEncoder)(),ft=function(_e){for(var xe=new Uint8Array(_e.length*_e[0].length),we=0;we<_e.length;we++)xe.set(_e[we],we*_e[0].length);var Se=(0,Qe.quantize)(xe,256,{format:"rgba4444",oneBitAlpha:!0});256===Se.length?Se[Se.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Se.push([255*Math.random(),255*Math.random(),255*Math.random(),0]);return Se}(nt),pt={},mt=function(_e){for(var xe=_e.length/4,we=new Uint8Array(xe),Se=0;Se<xe;Se++){var Te=_e[4*Se]<<24|_e[4*Se+1]<<16|_e[4*Se+2]<<8|_e[4*Se+3];void 0===pt[Te]&&(pt[Te]=(0,Qe.nearestColorIndex)(ft,_e.slice(4*Se,4*(Se+1)))),we[Se]=pt[Te]}return we},yt=ft.length-1,gt=[],wt=0;case 60:if(!(wt<nt.length)){xr.next=71;break}if(Dt=mt(nt[wt]),Xt=Dt.slice(),0===wt)ht.writeFrame(Dt,(this||_e).width,(this||_e).height,{palette:ft,delay:$e,dispose:1});else{for(Yt=0;Yt<Dt.length;Yt++)Dt[Yt]===gt[Yt]&&(Dt[Yt]=yt);ht.writeFrame(Dt,(this||_e).width,(this||_e).height,{delay:$e,transparent:!0,transparentIndex:yt,dispose:1})}return gt=Xt,Ze||st.html("Rendered frame <b>"+wt.toString()+"</b> out of "+et.toString()),xr.next=68,new Promise((function(_e){return setTimeout(_e,0)}));case 68:wt++,xr.next=60;break;case 71:ht.finish(),br=ht.bytesView(),br=new Blob([br],{type:"image/gif"}),nt=[],(this||_e)._recording=!1,this.loop(),Ze||(st.html("Done. Downloading your gif!"),0<Ke&&setTimeout((function(){return st.remove()}),1e3*Ke)),Te.default.prototype.downloadFile(br,xe,"gif");case 80:case"end":return xr.stop()}}),e,this||_e)}));var xe,r=function(){var we=this||_e,Se=arguments;return new Promise((function(_e,Te){var Me=xe.apply(we,Se);function n(xe){l(Me,_e,Te,n,s,"next",xe)}function s(xe){l(Me,_e,Te,n,s,"throw",xe)}n(void 0)}))};return function(xe,we){return r.apply(this||_e,arguments)}}(),Te.default.prototype.image=function(xe,we,Se,Ze,Qe,Ke,Je,$e,et,tt,rt,ot){Te.default._validateParameters("image",arguments);var nt=xe.width,st=xe.height,it=(ot=ot||Ye.CENTER,rt=rt||Ye.CENTER,xe.elt&&(nt=void 0!==nt?nt:xe.elt.width,st=void 0!==st?st:xe.elt.height),xe.elt&&xe.elt.videoWidth&&!xe.canvas&&(nt=void 0!==nt?nt:xe.elt.videoWidth,st=void 0!==st?st:xe.elt.videoHeight),Ze||nt);Qe=Qe||st,Ke=Ke||0,Je=Je||0,$e=v(void 0!==$e?$e:nt,nt),nt=v(void 0!==et?et:st,st),et=1;xe.elt&&!xe.canvas&&xe.elt.style.width&&(et=xe.elt.videoWidth&&!Ze?xe.elt.videoWidth:xe.elt.width,et/=parseInt(xe.elt.style.width,10)),Ke*=et,Je*=et,nt*=et,$e*=et;st=y(tt,rt,ot,(st=Me.default.modeAdjust(we,Se,it,Qe,(this||_e)._renderer._imageMode)).x,st.y,st.w,st.h,Ke,Je,$e,nt);(this||_e)._renderer.image(xe,st.sx,st.sy,st.sw,st.sh,st.dx,st.dy,st.dw,st.dh)},Te.default.prototype.tint=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("tint",we);var Me=(this||_e).color.apply(this||_e,we);(this||_e)._renderer._tint=Me.levels},Te.default.prototype.noTint=function(){(this||_e)._renderer._tint=null},Te.default.prototype._getTintedImageCanvas=Te.default.Renderer2D.prototype._getTintedImageCanvas,Te.default.prototype.imageMode=function(xe){Te.default._validateParameters("imageMode",arguments),xe!==Ye.CORNER&&xe!==Ye.CORNERS&&xe!==Ye.CENTER||((this||_e)._renderer._imageMode=xe)};xe=Te.default;Se.default=xe},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/helpers":271,"../core/main":275,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,gifenc:245,omggif:248,"regenerator-runtime/runtime":252}],299:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=o(xe("../core/main")),Me=o(xe("./filters"));function o(_e){return _e&&_e.__esModule?_e:{default:_e}}function i(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}Te.default.Image=function(){function r(xe,we){if(!((this||_e)instanceof r))throw new TypeError("Cannot call a class as a function");(this||_e).width=xe,(this||_e).height=we,(this||_e).canvas=document.createElement("canvas"),(this||_e).canvas.width=(this||_e).width,(this||_e).canvas.height=(this||_e).height,(this||_e).drawingContext=(this||_e).canvas.getContext("2d"),((this||_e)._pixelsState=this||_e)._pixelDensity=1,(this||_e).gifProperties=null,(this||_e)._modified=!1,(this||_e).pixels=[]}var xe,we,Se;return xe=r,(we=[{key:"pixelDensity",value:function(xe){return void 0!==xe?(xe<=0&&(Te.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),xe=1),(this||_e)._pixelDensity=xe,(this||_e).width/=xe,(this||_e).height/=xe,this||_e):(this||_e)._pixelDensity}},{key:"_animateGif",value:function(xe){var we,Se=(this||_e).gifProperties;xe=xe._lastRealFrameTime;0===Se.lastChangeTime&&(Se.lastChangeTime=xe),Se.playing&&(Se.timeDisplayed=xe-Se.lastChangeTime,we=Se.frames[Se.displayIndex].delay,Se.timeDisplayed>=we&&(we=Math.floor(Se.timeDisplayed/we),Se.timeDisplayed=0,Se.lastChangeTime=xe,Se.displayIndex+=we,Se.loopCount=Math.floor(Se.displayIndex/Se.numFrames),null!==Se.loopLimit&&Se.loopCount>=Se.loopLimit?Se.playing=!1:(xe=Se.displayIndex%Se.numFrames,(this||_e).drawingContext.putImageData(Se.frames[xe].image,0,0),Se.displayIndex=xe,this.setModified(!0))))}},{key:"_setProperty",value:function(xe,we){(this||_e)[xe]=we,this.setModified(!0)}},{key:"loadPixels",value:function(){Te.default.Renderer2D.prototype.loadPixels.call(this||_e),this.setModified(!0)}},{key:"updatePixels",value:function(xe,we,Se,Me){Te.default.Renderer2D.prototype.updatePixels.call(this||_e,xe,we,Se,Me),this.setModified(!0)}},{key:"get",value:function(xe,we,Se,Me){return Te.default._validateParameters("p5.Image.get",arguments),Te.default.Renderer2D.prototype.get.apply(this||_e,arguments)}},{key:"_getPixel",value:function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default.Renderer2D.prototype._getPixel.apply(this||_e,we)}},{key:"set",value:function(xe,we,Se){Te.default.Renderer2D.prototype.set.call(this||_e,xe,we,Se),this.setModified(!0)}},{key:"resize",value:function(xe,we){0===xe&&0===we?(xe=(this||_e).canvas.width,we=(this||_e).canvas.height):0===xe?xe=(this||_e).canvas.width*we/(this||_e).canvas.height:0===we&&(we=(this||_e).canvas.height*xe/(this||_e).canvas.width),xe=Math.floor(xe),we=Math.floor(we);var Se=document.createElement("canvas");if(Se.width=xe,Se.height=we,(this||_e).gifProperties)for(var Te=(this||_e).gifProperties,Me=0;Me<Te.numFrames;Me++){for(var Ye=(this||_e).drawingContext.createImageData(xe,we),Ze=(et=et=$e=Je=Ke=void 0,Te.frames[Me].image),Qe=Ye,Ke=0,Je=0;Je<Qe.height;Je++)for(var $e=0;$e<Qe.width;$e++){var et=Math.floor($e*Ze.width/Qe.width);et=4*(Math.floor(Je*Ze.height/Qe.height)*Ze.width+et);Qe.data[Ke++]=Ze.data[et++],Qe.data[Ke++]=Ze.data[et++],Qe.data[Ke++]=Ze.data[et++],Qe.data[Ke++]=Ze.data[+et]}Te.frames[Me].image=Ye}Se.getContext("2d").drawImage((this||_e).canvas,0,0,(this||_e).canvas.width,(this||_e).canvas.height,0,0,Se.width,Se.height),(this||_e).canvas.width=(this||_e).width=xe,(this||_e).canvas.height=(this||_e).height=we,(this||_e).drawingContext.drawImage(Se,0,0,xe,we,0,0,xe,we),0<(this||_e).pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default.prototype.copy.apply(this||_e,we)}},{key:"mask",value:function(xe){var we=(this||_e).drawingContext.globalCompositeOperation,Se=1,Me=[xe=void 0===xe?this||_e:xe,0,0,(Se=xe instanceof Te.default.Renderer?xe._pInst._pixelDensity:Se)*xe.width,Se*xe.height,0,0,(this||_e).width,(this||_e).height];if((this||_e).drawingContext.globalCompositeOperation="destination-in",(this||_e).gifProperties){for(var Ye=0;Ye<(this||_e).gifProperties.frames.length;Ye++)(this||_e).drawingContext.putImageData((this||_e).gifProperties.frames[Ye].image,0,0),(this||_e).copy.apply(this||_e,Me),(this||_e).gifProperties.frames[Ye].image=(this||_e).drawingContext.getImageData(0,0,(this||_e).width,(this||_e).height);(this||_e).drawingContext.putImageData((this||_e).gifProperties.frames[(this||_e).gifProperties.displayIndex].image,0,0)}else(this||_e).copy.apply(this||_e,Me);(this||_e).drawingContext.globalCompositeOperation=we,this.setModified(!0)}},{key:"filter",value:function(xe,we){Me.default.apply((this||_e).canvas,Me.default[xe],we),this.setModified(!0)}},{key:"blend",value:function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("p5.Image.blend",arguments),Te.default.prototype.blend.apply(this||_e,we),this.setModified(!0)}},{key:"setModified",value:function(xe){(this||_e)._modified=xe}},{key:"isModified",value:function(){return(this||_e)._modified}},{key:"save",value:function(xe,we){(this||_e).gifProperties?Te.default.prototype.encodeAndDownloadGif(this||_e,xe):Te.default.prototype.saveCanvas((this||_e).canvas,xe,we)}},{key:"reset",value:function(){var xe;(this||_e).gifProperties&&((xe=(this||_e).gifProperties).playing=!0,xe.timeSinceStart=0,xe.timeDisplayed=0,xe.lastChangeTime=0,xe.loopCount=0,xe.displayIndex=0,(this||_e).drawingContext.putImageData(xe.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var xe;if((this||_e).gifProperties)return(xe=(this||_e).gifProperties).displayIndex%xe.numFrames}},{key:"setFrame",value:function(xe){var we;(this||_e).gifProperties&&(xe<(we=(this||_e).gifProperties).numFrames&&0<=xe?(we.timeDisplayed=0,we.lastChangeTime=0,we.displayIndex=xe,(this||_e).drawingContext.putImageData(we.frames[xe].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if((this||_e).gifProperties)return(this||_e).gifProperties.numFrames}},{key:"play",value:function(){(this||_e).gifProperties&&((this||_e).gifProperties.playing=!0)}},{key:"pause",value:function(){(this||_e).gifProperties&&((this||_e).gifProperties.playing=!1)}},{key:"delay",value:function(xe,we){if((this||_e).gifProperties){var Se=(this||_e).gifProperties;if(we<Se.numFrames&&0<=we)Se.frames[we].delay=xe;else{var Te=!0,Me=(we=!1,void 0);try{for(var Ye,Ze=Se.frames[Symbol.iterator]();!(Te=(Ye=Ze.next()).done);Te=!0)Ye.value.delay=xe}catch(xe){we=!0,Me=xe}finally{try{Te||null==Ze.return||Ze.return()}finally{if(we)throw Me}}}}}}])&&i(xe.prototype,we),Se&&i(xe,Se),r}();xe=Te.default.Image;Se.default=xe},{"../core/main":275,"./filters":296,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],300:[function(xe,we,Se){xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.filter"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=o(xe("../core/main")),Me=o(xe("./filters"));function o(_e){return _e&&_e.__esModule?_e:{default:_e}}xe("../color/p5.Color"),Te.default.prototype.pixels=[],Te.default.prototype.blend=function(){for(var xe,we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];Te.default._validateParameters("blend",Se),(this||_e)._renderer?(xe=(this||_e)._renderer).blend.apply(xe,Se):Te.default.Renderer2D.prototype.blend.apply(this||_e,Se)},Te.default.prototype.copy=function(){for(var xe,we,Se,Me,Ye,Ze,Qe,Ke,Je,$e=arguments.length,et=new Array($e),tt=0;tt<$e;tt++)et[tt]=arguments[tt];if(Te.default._validateParameters("copy",et),9===et.length)xe=et[0],we=et[1],Se=et[2],Me=et[3],Ye=et[4],Ze=et[5],Qe=et[6],Ke=et[7],Je=et[8];else{if(8!==et.length)throw new Error("Signature not supported");xe=this||_e,we=et[0],Se=et[1],Me=et[2],Ye=et[3],Ze=et[4],Qe=et[5],Ke=et[6],Je=et[7]}Te.default.prototype._copyHelper(this||_e,xe,we,Se,Me,Ye,Ze,Qe,Ke,Je)},Te.default.prototype._copyHelper=function(_e,xe,we,Se,Me,Ye,Ze,Qe,Ke,Je){var $e=xe.canvas.width/xe.width,et=0,tt=0;xe._renderer&&xe._renderer.isP3D&&(et=xe.width/2,tt=xe.height/2),_e._renderer&&_e._renderer.isP3D?Te.default.RendererGL.prototype.image.call(_e._renderer,xe,we+et,Se+tt,Me,Ye,Ze,Qe,Ke,Je):_e.drawingContext.drawImage(xe.canvas,$e*(we+et),$e*(Se+tt),$e*Me,$e*Ye,Ze,Qe,Ke,Je)},Te.default.prototype.getFilterGraphicsLayer=function(){return(this||_e)._renderer.getFilterGraphicsLayer()},Te.default.prototype.filter=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("filter",arguments);var Ye=function(){var _e,xe={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof Te.default.Shader?xe.shader=arguments.length<=0?void 0:arguments[0]:(xe.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(xe.value=arguments.length<=1?void 0:arguments[1]),!1===((_e=arguments.length-1)<0||arguments.length<=_e?void 0:arguments[_e])&&(xe.useWebGL=!1)),xe}.apply(void 0,we),Ze=Ye.shader,Qe=Ye.operation,Ke=Ye.value;Ye=Ye.useWebGL;(this||_e)._renderer.isP3D&&Ze?Te.default.RendererGL.prototype.filter.call((this||_e)._renderer,Ze):Ye||(this||_e)._renderer.isP3D?(!Ye&&(this||_e)._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),(this||_e)._renderer.isP3D?Te.default.RendererGL.prototype.filter.call((this||_e)._renderer,Qe,Ke):((Ze=this.getFilterGraphicsLayer()).copy((this||_e)._renderer,0,0,(this||_e).width,(this||_e).height,-(this||_e).width/2,-(this||_e).height/2,(this||_e).width,(this||_e).height),(this||_e)._renderer.clear(),(this||_e)._renderer.resetMatrix(),Ze.filter.apply(Ze,we),(this||_e)._renderer._pInst.image(Ze,0,0),Ze.clear())):void 0!==(this||_e).canvas?Me.default.apply((this||_e).canvas,Me.default[Qe],Ke):Me.default.apply((this||_e).elt,Me.default[Qe],Ke)},Te.default.prototype.get=function(xe,we,Se,Me){var Ye;return Te.default._validateParameters("get",arguments),(Ye=(this||_e)._renderer).get.apply(Ye,arguments)},Te.default.prototype.loadPixels=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("loadPixels",we),(this||_e)._renderer.loadPixels()},Te.default.prototype.set=function(xe,we,Se){(this||_e)._renderer.set(xe,we,Se)},Te.default.prototype.updatePixels=function(xe,we,Se,Me){Te.default._validateParameters("updatePixels",arguments),0!==(this||_e).pixels.length&&(this||_e)._renderer.updatePixels(xe,we,Se,Me)};xe=Te.default;Se.default=xe},{"../color/p5.Color":262,"../core/main":275,"./filters":296,"core-js/modules/es.array.filter":155}],301:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.last-index-of"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.from-entries"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/web.url"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.last-index-of"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.from-entries"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/web.url"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=s(xe("../core/main")),Me=(xe("whatwg-fetch"),xe("es6-promise/auto"),s(xe("fetch-jsonp"))),Ye=s(xe("file-saver"));function s(_e){return _e&&_e.__esModule?_e:{default:_e}}function y(_e){return(y="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}function g(_e){return _e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function i(_e,xe){xe&&!0!==xe&&"true"!==xe||(xe="");var we="";return(_e=_e||"untitled")&&_e.includes(".")&&(we=_e.split(".").pop()),xe&&we!==xe&&(we=xe,_e="".concat(_e,".").concat(we)),[_e,we]}xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.loadJSON=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("loadJSON",we);for(var Me,Ye,Ze,Qe=we[0],Ke={},Je="json",$e=1;$e<we.length;$e++){var et=we[$e];"string"==typeof et?"jsonp"!==et&&"json"!==et||(Je=et):"function"==typeof et?Me?Ye=et:Me=et:"object"===y(et)&&(et.hasOwnProperty("jsonpCallback")||et.hasOwnProperty("jsonpCallbackFunction"))&&(Je="jsonp",Ze=et)}var tt=this||_e;return this.httpDo(Qe,"GET",Ze,Je,(function(_e){for(var xe in _e)Ke[xe]=_e[xe];void 0!==Me&&Me(_e),tt._decrementPreload()}),(function(_e){if(Te.default._friendlyFileLoadError(5,Qe),!Ye)throw _e;Ye(_e)})),Ke},Te.default.prototype.loadStrings=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("loadStrings",we);for(var Me,Ye,Ze=[],Qe=1;Qe<we.length;Qe++){var Ke=we[Qe];"function"==typeof Ke&&(void 0===Me?Me=Ke:void 0===Ye&&(Ye=Ke))}var Je=this||_e;return Te.default.prototype.httpDo.call(this||_e,we[0],"GET","text",(function(_e){for(var xe=_e.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),we=0,Se=xe.length;we<Se;we+=32768)Array.prototype.push.apply(Ze,xe.slice(we,Math.min(we+32768,Se)));void 0!==Me&&Me(Ze),Je._decrementPreload()}),(function(_e){if(Te.default._friendlyFileLoadError(3,_e),!Ye)throw _e;Ye(_e)})),Ze},Te.default.prototype.loadTable=function(xe){var we,Se,Me,Ye=[],Ze=!1,Qe=xe.substring(xe.lastIndexOf(".")+1,xe.length);"csv"===Qe?Me=",":"ssv"===Qe?Me=";":"tsv"===Qe&&(Me="\t");for(var Ke=1;Ke<arguments.length;Ke++)"function"==typeof arguments[Ke]?void 0===we?we=arguments[Ke]:void 0===Se&&(Se=arguments[Ke]):"string"==typeof arguments[Ke]&&(Ye.push(arguments[Ke]),"header"===arguments[Ke]&&(Ze=!0),"csv"===arguments[Ke]?Me=",":"ssv"===arguments[Ke]?Me=";":"tsv"===arguments[Ke]&&(Me="\t"));var Je=new Te.default.Table,$e=this||_e;return this.httpDo(xe,"GET","table",(function(_e){for(var xe,Se,Ye={},Qe=0,Ke=[],et=0,tt=null,l=function(){Ye.currentState=Qe,Ye.token=""},u=function(){tt.push(Ye.token),l()},c=function(){Ye.currentState=4,Ke.push(tt),tt=null};;){if(null==(xe=_e[et++])){if(Ye.escaped)throw new Error("Unclosed quote in file.");if(tt){u(),c();break}}if(null===tt&&(Ye.escaped=!1,tt=[],l()),Ye.currentState===Qe){if('"'===xe){Ye.escaped=!0,Ye.currentState=1;continue}Ye.currentState=1}if(1===Ye.currentState&&Ye.escaped)if('"'===xe)'"'===_e[et]?(Ye.token+='"',et++):(Ye.escaped=!1,Ye.currentState=2);else{if("\r"===xe)continue;Ye.token+=xe}else"\r"===xe?("\n"===_e[et]&&et++,u(),c()):"\n"===xe?(u(),c()):xe===Me?u():1===Ye.currentState&&(Ye.token+=xe)}if(Ze)Je.columns=Ke.shift();else for(var rt=0;rt<Ke[0].length;rt++)Je.columns[rt]="null";for(var ot=0;ot<Ke.length;ot++)(1!==Ke[ot].length||"undefined"!==Ke[ot][0]&&""!==Ke[ot][0])&&((Se=new Te.default.TableRow).arr=Ke[ot],Se.obj=function(_e,xe){if(void 0===(xe=xe||[]))for(var we=0;we<_e.length;we++)xe[we.toString()]=we;return Object.fromEntries(xe.map((function(xe,we){return[xe,_e[we]]})))}(Ke[ot],Je.columns),Je.addRow(Se));"function"==typeof we&&we(Je),$e._decrementPreload()}),(function(_e){Te.default._friendlyFileLoadError(2,xe),Se?Se(_e):console.error(_e)})),Je},Te.default.prototype.loadXML=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];for(var Me,Ye,Ze=new Te.default.XML,Qe=1;Qe<we.length;Qe++){var Ke=we[Qe];"function"==typeof Ke&&(void 0===Me?Me=Ke:void 0===Ye&&(Ye=Ke))}var Je=this||_e;return this.httpDo(we[0],"GET","xml",(function(_e){for(var xe in _e)Ze[xe]=_e[xe];void 0!==Me&&Me(Ze),Je._decrementPreload()}),(function(_e){if(Te.default._friendlyFileLoadError(1,_e),!Ye)throw _e;Ye(_e)})),Ze},Te.default.prototype.loadBytes=function(xe,we,Se){var Me={},Ye=this||_e;return this.httpDo(xe,"GET","arrayBuffer",(function(_e){Me.bytes=new Uint8Array(_e),"function"==typeof we&&we(Me),Ye._decrementPreload()}),(function(_e){if(Te.default._friendlyFileLoadError(6,xe),!Se)throw _e;Se(_e)})),Me},Te.default.prototype.httpGet=function(){Te.default._validateParameters("httpGet",arguments);var xe=Array.prototype.slice.call(arguments);return xe.splice(1,0,"GET"),Te.default.prototype.httpDo.apply(this||_e,xe)},Te.default.prototype.httpPost=function(){Te.default._validateParameters("httpPost",arguments);var xe=Array.prototype.slice.call(arguments);return xe.splice(1,0,"POST"),Te.default.prototype.httpDo.apply(this||_e,xe)},Te.default.prototype.httpDo=function(){for(var _e,xe,we,Se={},Ye=0,Ze="text/plain",Qe=arguments.length-1;0<Qe&&"function"==typeof(Qe<0||arguments.length<=Qe?void 0:arguments[Qe]);Qe--)Ye++;var Ke=arguments.length-Ye,Je=arguments.length<=0?void 0:arguments[0];if(2==Ke&&"string"==typeof Je&&"object"===y(arguments.length<=1?void 0:arguments[1]))nt=new Request(Je,arguments.length<=1?void 0:arguments[1]),xe=arguments.length<=2?void 0:arguments[2],we=arguments.length<=3?void 0:arguments[3];else{for(var $e,et="GET",tt=1;tt<arguments.length;tt++){var rt=tt<0||arguments.length<=tt?void 0:arguments[tt];if("string"==typeof rt)"GET"===rt||"POST"===rt||"PUT"===rt||"DELETE"===rt?et=rt:"json"===rt||"jsonp"===rt||"binary"===rt||"arrayBuffer"===rt||"xml"===rt||"text"===rt||"table"===rt?_e=rt:$e=rt;else if("number"==typeof rt)$e=rt.toString();else if("object"===y(rt))if(rt.hasOwnProperty("jsonpCallback")||rt.hasOwnProperty("jsonpCallbackFunction"))for(var ot in rt)Se[ot]=rt[ot];else Ze=rt instanceof Te.default.XML?($e=rt.serialize(),"application/xml"):($e=JSON.stringify(rt),"application/json");else"function"==typeof rt&&(xe?we=rt:xe=rt)}Ke="GET"===et?new Headers:new Headers({"Content-Type":Ze});var nt=new Request(Je,{method:et,mode:"cors",body:$e,headers:Ke})}return(Ke=(Ke="jsonp"===(_e=_e||(Je.includes("json")?"json":Je.includes("xml")?"xml":"text"))?(0,Me.default)(Je,Se):fetch(nt)).then((function(xe){if(!xe.ok)throw(we=new Error(xe.body)).status=xe.status,we.ok=!1,we;var we=0;switch((we="jsonp"!==_e?xe.headers.get("content-length"):we)&&64e6<we&&Te.default._friendlyFileLoadError(7,Je),_e){case"json":case"jsonp":return xe.json();case"binary":return xe.blob();case"arrayBuffer":return xe.arrayBuffer();case"xml":return xe.text().then((function(_e){_e=(new DOMParser).parseFromString(_e,"text/xml");return new Te.default.XML(_e.documentElement)}));default:return xe.text()}}))).then(xe||function(){}),Ke.catch(we||console.error),Ke},window.URL=window.URL||window.webkitURL,Te.default.prototype._pWriters=[],Te.default.prototype.createWriter=function(_e,xe){var we,Se;for(Se in Te.default.prototype._pWriters)if(Te.default.prototype._pWriters[Se].name===_e)return we=new Te.default.PrintWriter(_e+this.millis(),xe),Te.default.prototype._pWriters.push(we),we;return we=new Te.default.PrintWriter(_e,xe),Te.default.prototype._pWriters.push(we),we},Te.default.PrintWriter=function(xe,we){var Se=this||_e;(this||_e).name=xe,(this||_e).content="",(this||_e).write=function(xe){(this||_e).content+=xe},(this||_e).print=function(xe){(this||_e).content+="".concat(xe,"\n")},(this||_e).clear=function(){(this||_e).content=""},(this||_e).close=function(){var Me,Ye=[];for(Me in Ye.push((this||_e).content),Te.default.prototype.writeFile(Ye,xe,we),Te.default.prototype._pWriters)Te.default.prototype._pWriters[Me].name===(this||_e).name&&Te.default.prototype._pWriters.splice(Me,1);Se.clear(),Se={}}},Te.default.prototype.save=function(xe,we,Se){var Me=arguments,Ye=((this||_e)._curElement||this||_e).elt;if(0===Me.length)Te.default.prototype.saveCanvas(Ye);else if(Me[0]instanceof Te.default.Renderer||Me[0]instanceof Te.default.Graphics)Te.default.prototype.saveCanvas(Me[0].elt,Me[1],Me[2]);else if(1===Me.length&&"string"==typeof Me[0])Te.default.prototype.saveCanvas(Ye,Me[0]);else switch(i(Me[1],Me[2])[1]){case"json":return void Te.default.prototype.saveJSON(Me[0],Me[1],Me[2]);case"txt":return void Te.default.prototype.saveStrings(Me[0],Me[1],Me[2]);default:Me[0]instanceof Array?Te.default.prototype.saveStrings(Me[0],Me[1],Me[2]):Me[0]instanceof Te.default.Table?Te.default.prototype.saveTable(Me[0],Me[1],Me[2]):Me[0]instanceof Te.default.Image?Te.default.prototype.saveCanvas(Me[0].canvas,Me[1]):Me[0]instanceof Te.default.SoundFile&&Te.default.prototype.saveSound(Me[0],Me[1],Me[2],Me[3])}},Te.default.prototype.saveJSON=function(_e,xe,we){Te.default._validateParameters("saveJSON",arguments),we=we?JSON.stringify(_e):JSON.stringify(_e,void 0,2),this.saveStrings(we.split("\n"),xe,"json")},Te.default.prototype.saveJSONObject=Te.default.prototype.saveJSON,Te.default.prototype.saveJSONArray=Te.default.prototype.saveJSON,Te.default.prototype.saveStrings=function(_e,xe,we,Se){Te.default._validateParameters("saveStrings",arguments);for(var Me=this.createWriter(xe,we||"txt"),Ye=0;Ye<_e.length;Ye++)Se?Me.write(_e[Ye]+"\r\n"):Me.write(_e[Ye]+"\n");Me.close(),Me.clear()},Te.default.prototype.saveTable=function(_e,xe,we){Te.default._validateParameters("saveTable",arguments),Se=void 0===we?xe.substring(xe.lastIndexOf(".")+1,xe.length):we;var Se,Me=this.createWriter(xe,Se),Ye=_e.columns,Ze="tsv"===Se?"\t":",";if("html"!==Se){if("0"!==Ye[0]){for(var Qe=0;Qe<Ye.length;Qe++)Qe<Ye.length-1?Me.write(Ye[Qe]+Ze):Me.write(Ye[Qe]);Me.write("\n")}for(var Ke=0;Ke<_e.rows.length;Ke++){var Je=void 0;for(Je=0;Je<_e.rows[Ke].arr.length;Je++)Je<_e.rows[Ke].arr.length-1?"csv"===Se&&String(_e.rows[Ke].arr[Je]).includes(",")?Me.write('"'+_e.rows[Ke].arr[Je]+'"'+Ze):Me.write(_e.rows[Ke].arr[Je]+Ze):"csv"===Se&&String(_e.rows[Ke].arr[Je]).includes(",")?Me.write('"'+_e.rows[Ke].arr[Je]+'"'):Me.write(_e.rows[Ke].arr[Je]);Me.write("\n")}}else{Me.print("<html>"),Me.print("<head>");if(Me.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),Me.print("</head>"),Me.print("<body>"),Me.print("  <table>"),"0"!==Ye[0]){Me.print("    <tr>");for(var $e=0;$e<Ye.length;$e++){var et=g(Ye[$e]);Me.print("      <td>".concat(et)),Me.print("      </td>")}Me.print("    </tr>")}for(var tt=0;tt<_e.rows.length;tt++){Me.print("    <tr>");for(var rt=0;rt<_e.columns.length;rt++){var ot=g(_e.rows[tt].getString(rt));Me.print("      <td>".concat(ot)),Me.print("      </td>")}Me.print("    </tr>")}Me.print("  </table>"),Me.print("</body>"),Me.print("</html>")}Me.close(),Me.clear()},Te.default.prototype.writeFile=function(_e,xe,we){var Se="application/octet-stream";_e=(Te.default.prototype._isSafari()&&(Se="text/plain"),new Blob(_e,{type:Se}));Te.default.prototype.downloadFile(_e,xe,we)},Te.default.prototype.downloadFile=function(_e,xe,we){var Se;xe=i(xe,we),we=xe[0];_e instanceof Blob?Ye.default.saveAs(_e,we):((Se=document.createElement("a")).href=_e,Se.download=we,Se.onclick=function(_e){document.body.removeChild(_e.target),_e.stopPropagation()},Se.style.display="none",document.body.appendChild(Se),Te.default.prototype._isSafari()&&(_e=(_e='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(xe[1],'"'),alert(_e)),Se.click())},Te.default.prototype._checkFileExtension=i,Te.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};xe=Te.default;Se.default=xe},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240,"es6-promise/auto":241,"fetch-jsonp":243,"file-saver":244,"whatwg-fetch":253}],302:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.replace"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function s(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}Te.default.Table=function(){function t(xe){if(!((this||_e)instanceof t))throw new TypeError("Cannot call a class as a function");(this||_e).columns=[],(this||_e).rows=[]}var xe,we,Se;return xe=t,(we=[{key:"addRow",value:function(xe){xe=xe||new Te.default.TableRow;if(void 0===xe.arr||void 0===xe.obj)throw new Error("invalid TableRow: ".concat(xe));return(xe.table=this||_e).rows.push(xe),xe}},{key:"removeRow",value:function(xe){(this||_e).rows[xe].table=null;xe=(this||_e).rows.splice(xe+1,(this||_e).rows.length);(this||_e).rows.pop(),(this||_e).rows=(this||_e).rows.concat(xe)}},{key:"getRow",value:function(xe){return(this||_e).rows[xe]}},{key:"getRows",value:function(){return(this||_e).rows}},{key:"findRow",value:function(xe,we){if("string"==typeof we){for(var Se=0;Se<(this||_e).rows.length;Se++)if((this||_e).rows[Se].obj[we]===xe)return(this||_e).rows[Se]}else for(var Te=0;Te<(this||_e).rows.length;Te++)if((this||_e).rows[Te].arr[we]===xe)return(this||_e).rows[Te];return null}},{key:"findRows",value:function(xe,we){var Se=[];if("string"==typeof we)for(var Te=0;Te<(this||_e).rows.length;Te++)(this||_e).rows[Te].obj[we]===xe&&Se.push((this||_e).rows[Te]);else for(var Me=0;Me<(this||_e).rows.length;Me++)(this||_e).rows[Me].arr[we]===xe&&Se.push((this||_e).rows[Me]);return Se}},{key:"matchRow",value:function(xe,we){if("number"==typeof we){for(var Se=0;Se<(this||_e).rows.length;Se++)if((this||_e).rows[Se].arr[we].match(xe))return(this||_e).rows[Se]}else for(var Te=0;Te<(this||_e).rows.length;Te++)if((this||_e).rows[Te].obj[we].match(xe))return(this||_e).rows[Te];return null}},{key:"matchRows",value:function(xe,we){var Se=[];if("number"==typeof we)for(var Te=0;Te<(this||_e).rows.length;Te++)(this||_e).rows[Te].arr[we].match(xe)&&Se.push((this||_e).rows[Te]);else for(var Me=0;Me<(this||_e).rows.length;Me++)(this||_e).rows[Me].obj[we].match(xe)&&Se.push((this||_e).rows[Me]);return Se}},{key:"getColumn",value:function(xe){var we=[];if("string"==typeof xe)for(var Se=0;Se<(this||_e).rows.length;Se++)we.push((this||_e).rows[Se].obj[xe]);else for(var Te=0;Te<(this||_e).rows.length;Te++)we.push((this||_e).rows[Te].arr[xe]);return we}},{key:"clearRows",value:function(){delete(this||_e).rows,(this||_e).rows=[]}},{key:"addColumn",value:function(xe){(this||_e).columns.push(xe||null)}},{key:"getColumnCount",value:function(){return(this||_e).columns.length}},{key:"getRowCount",value:function(){return(this||_e).rows.length}},{key:"removeTokens",value:function(xe,we){for(var Se=[],Te=0;Te<xe.length;Te++)Se.push(xe.charAt(Te).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var Me=new RegExp(Se.join("|"),"g");if(void 0===we)for(var Ye=0;Ye<(this||_e).columns.length;Ye++)for(var Ze=0;Ze<(this||_e).rows.length;Ze++){var Qe=(Qe=(this||_e).rows[Ze].arr[Ye]).replace(Me,"");(this||_e).rows[Ze].arr[Ye]=Qe,(this||_e).rows[Ze].obj[(this||_e).columns[Ye]]=Qe}else if("string"==typeof we)for(var Ke=0;Ke<(this||_e).rows.length;Ke++){var Je=(Je=(this||_e).rows[Ke].obj[we]).replace(Me,""),$e=((this||_e).rows[Ke].obj[we]=Je,(this||_e).columns.indexOf(we));(this||_e).rows[Ke].arr[$e]=Je}else for(var et=0;et<(this||_e).rows.length;et++){var tt=(tt=(this||_e).rows[et].arr[we]).replace(Me,"");(this||_e).rows[et].arr[we]=tt,(this||_e).rows[et].obj[(this||_e).columns[we]]=tt}}},{key:"trim",value:function(xe){var we=new RegExp(" ","g");if(void 0===xe)for(var Se=0;Se<(this||_e).columns.length;Se++)for(var Te=0;Te<(this||_e).rows.length;Te++){var Me=(Me=(this||_e).rows[Te].arr[Se]).replace(we,"");(this||_e).rows[Te].arr[Se]=Me,(this||_e).rows[Te].obj[(this||_e).columns[Se]]=Me}else if("string"==typeof xe)for(var Ye=0;Ye<(this||_e).rows.length;Ye++){var Ze=(Ze=(this||_e).rows[Ye].obj[xe]).replace(we,""),Qe=((this||_e).rows[Ye].obj[xe]=Ze,(this||_e).columns.indexOf(xe));(this||_e).rows[Ye].arr[Qe]=Ze}else for(var Ke=0;Ke<(this||_e).rows.length;Ke++){var Je=(Je=(this||_e).rows[Ke].arr[xe]).replace(we,"");(this||_e).rows[Ke].arr[xe]=Je,(this||_e).rows[Ke].obj[(this||_e).columns[xe]]=Je}}},{key:"removeColumn",value:function(xe){"string"==typeof xe?Se=(this||_e).columns.indexOf(we=xe):we=(this||_e).columns[Se=xe];var we,Se;xe=(this||_e).columns.splice(Se+1,(this||_e).columns.length);(this||_e).columns.pop(),(this||_e).columns=(this||_e).columns.concat(xe);for(var Te=0;Te<(this||_e).rows.length;Te++){var Me=(this||_e).rows[Te].arr,Ye=Me.splice(Se+1,Me.length);Me.pop(),(this||_e).rows[Te].arr=Me.concat(Ye),delete(this||_e).rows[Te].obj[we]}}},{key:"set",value:function(xe,we,Se){(this||_e).rows[xe].set(we,Se)}},{key:"setNum",value:function(xe,we,Se){(this||_e).rows[xe].setNum(we,Se)}},{key:"setString",value:function(xe,we,Se){(this||_e).rows[xe].setString(we,Se)}},{key:"get",value:function(xe,we){return(this||_e).rows[xe].get(we)}},{key:"getNum",value:function(xe,we){return(this||_e).rows[xe].getNum(we)}},{key:"getString",value:function(xe,we){return(this||_e).rows[xe].getString(we)}},{key:"getObject",value:function(xe){for(var we,Se={},Te=0;Te<(this||_e).rows.length;Te++)if(we=(this||_e).rows[Te].obj,"string"==typeof xe){if(!(0<=(this||_e).columns.indexOf(xe)))throw new Error('This table has no column named "'.concat(xe,'"'));Se[we[xe]]=we}else Se[Te]=(this||_e).rows[Te].obj;return Se}},{key:"getArray",value:function(){for(var xe=[],we=0;we<(this||_e).rows.length;we++)xe.push((this||_e).rows[we].arr);return xe}}])&&s(xe.prototype,we),Se&&s(xe,Se),t}();xe=Te.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.splice":167,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196}],303:[function(xe,we,Se){xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.from-entries"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.from-entries"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}xe.default.TableRow=function(){function o(xe,we){if(!((this||_e)instanceof o))throw new TypeError("Cannot call a class as a function");var Se=[];xe&&(Se=xe.split(we=we||",")),(this||_e).arr=Se,(this||_e).obj=Object.fromEntries(Se.entries()),(this||_e).table=null}var xe,we,Se;return xe=o,(we=[{key:"set",value:function(xe,we){if("string"==typeof xe){var Se=(this||_e).table.columns.indexOf(xe);if(!(0<=Se))throw new Error('This table has no column named "'.concat(xe,'"'));(this||_e).obj[xe]=we,(this||_e).arr[Se]=we}else{if(!(xe<(this||_e).table.columns.length))throw new Error("Column #".concat(xe," is out of the range of this table"));(this||_e).arr[xe]=we;Se=(this||_e).table.columns[xe];(this||_e).obj[Se]=we}}},{key:"setNum",value:function(_e,xe){xe=parseFloat(xe);this.set(_e,xe)}},{key:"setString",value:function(_e,xe){xe=xe.toString();this.set(_e,xe)}},{key:"get",value:function(xe){return("string"==typeof xe?(this||_e).obj:(this||_e).arr)[xe]}},{key:"getNum",value:function(xe){var we="string"==typeof xe?parseFloat((this||_e).obj[xe]):parseFloat((this||_e).arr[xe]);if("NaN"===we.toString())throw"Error: ".concat((this||_e).obj[xe]," is NaN (Not a Number)");return we}},{key:"getString",value:function(xe){return("string"==typeof xe?(this||_e).obj:(this||_e).arr)[xe].toString()}}])&&n(xe.prototype,we),Se&&n(xe,Se),o}();xe=xe.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238}],304:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function s(_e){for(var xe=[],we=0;we<_e.length;we++)xe.push(new Te.default.XML(_e[we]));return xe}Te.default.XML=function(){function t(xe){if(!((this||_e)instanceof t))throw new TypeError("Cannot call a class as a function");xe?(this||_e).DOM=xe:(xe=document.implementation.createDocument(null,"doc"),(this||_e).DOM=xe.createElement("root"))}var xe,we,Se;return xe=t,(we=[{key:"getParent",value:function(){return new Te.default.XML((this||_e).DOM.parentElement)}},{key:"getName",value:function(){return(this||_e).DOM.tagName}},{key:"setName",value:function(xe){var we=(this||_e).DOM.innerHTML,Se=(this||_e).DOM.attributes,Te=document.implementation.createDocument(null,"default").createElement(xe);Te.innerHTML=we;for(var Me=0;Me<Se.length;Me++)Te.setAttribute(Se[Me].nodeName,Se.nodeValue);(this||_e).DOM=Te}},{key:"hasChildren",value:function(){return 0<(this||_e).DOM.children.length}},{key:"listChildren",value:function(){for(var xe=[],we=0;we<(this||_e).DOM.childNodes.length;we++)xe.push((this||_e).DOM.childNodes[we].nodeName);return xe}},{key:"getChildren",value:function(xe){return s(xe?(this||_e).DOM.getElementsByTagName(xe):(this||_e).DOM.children)}},{key:"getChild",value:function(xe){if("string"!=typeof xe)return new Te.default.XML((this||_e).DOM.children[xe]);var we=!0,Se=!1,Me=void 0;try{for(var Ye,Ze=(this||_e).DOM.children[Symbol.iterator]();!(we=(Ye=Ze.next()).done);we=!0){var Qe=Ye.value;if(Qe.tagName===xe)return new Te.default.XML(Qe)}}catch(xe){Se=!0,Me=xe}finally{try{we||null==Ze.return||Ze.return()}finally{if(Se)throw Me}}}},{key:"addChild",value:function(xe){xe instanceof Te.default.XML&&(this||_e).DOM.appendChild(xe.DOM)}},{key:"removeChild",value:function(xe){var we=-1;if("string"==typeof xe){for(var Se=0;Se<(this||_e).DOM.children.length;Se++)if((this||_e).DOM.children[Se].tagName===xe){we=Se;break}}else we=xe;-1!==we&&(this||_e).DOM.removeChild((this||_e).DOM.children[we])}},{key:"getAttributeCount",value:function(){return(this||_e).DOM.attributes.length}},{key:"listAttributes",value:function(){var xe=[],we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=(this||_e).DOM.attributes[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0){var Ze=Me.value;xe.push(Ze.nodeName)}}catch(xe){Se=!0,Te=xe}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}return xe}},{key:"hasAttribute",value:function(xe){var we={},Se=!0,Te=!1,Me=void 0;try{for(var Ye,Ze=(this||_e).DOM.attributes[Symbol.iterator]();!(Se=(Ye=Ze.next()).done);Se=!0){var Qe=Ye.value;we[Qe.nodeName]=Qe.nodeValue}}catch(xe){Te=!0,Me=xe}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Me}}return!!we[xe]}},{key:"getNum",value:function(xe,we){var Se={},Te=!0,Me=!1,Ye=void 0;try{for(var Ze,Qe=(this||_e).DOM.attributes[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;Se[Ke.nodeName]=Ke.nodeValue}}catch(xe){Me=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Me)throw Ye}}return Number(Se[xe])||we||0}},{key:"getString",value:function(xe,we){var Se={},Te=!0,Me=!1,Ye=void 0;try{for(var Ze,Qe=(this||_e).DOM.attributes[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;Se[Ke.nodeName]=Ke.nodeValue}}catch(xe){Me=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Me)throw Ye}}return Se[xe]?String(Se[xe]):we||null}},{key:"setAttribute",value:function(xe,we){(this||_e).DOM.setAttribute(xe,we)}},{key:"getContent",value:function(xe){var we=(this||_e).DOM.textContent;return(we=we.replace(/\s\s+/g,","))||xe||null}},{key:"setContent",value:function(xe){(this||_e).DOM.children.length||((this||_e).DOM.textContent=xe)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString((this||_e).DOM)}}])&&n(xe.prototype,we),Se&&n(xe,Se),t}();xe=Te.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],305:[function(_e,xe,we){_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.includes"),_e("core-js/modules/es.array.index-of"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.math.hypot"),_e("core-js/modules/es.number.constructor"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.string.includes"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/web.dom-collections.iterator"),_e("core-js/modules/es.symbol"),_e("core-js/modules/es.symbol.description"),_e("core-js/modules/es.symbol.iterator"),_e("core-js/modules/es.array.includes"),_e("core-js/modules/es.array.index-of"),_e("core-js/modules/es.array.iterator"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.math.hypot"),_e("core-js/modules/es.number.constructor"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.string.includes"),_e("core-js/modules/es.string.iterator"),_e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(_e=_e("../core/main"))&&_e.__esModule?_e:{default:_e};Se.default.prototype.abs=Math.abs,Se.default.prototype.ceil=Math.ceil,Se.default.prototype.constrain=function(_e,xe,we){return Se.default._validateParameters("constrain",arguments),Math.max(Math.min(_e,we),xe)},Se.default.prototype.dist=function(){for(var _e=arguments.length,xe=new Array(_e),we=0;we<_e;we++)xe[we]=arguments[we];return Se.default._validateParameters("dist",xe),4===xe.length?Math.hypot(xe[2]-xe[0],xe[3]-xe[1]):6===xe.length?Math.hypot(xe[3]-xe[0],xe[4]-xe[1],xe[5]-xe[2]):void 0},Se.default.prototype.exp=Math.exp,Se.default.prototype.floor=Math.floor,Se.default.prototype.lerp=function(_e,xe,we){return Se.default._validateParameters("lerp",arguments),we*(xe-_e)+_e},Se.default.prototype.log=Math.log,Se.default.prototype.mag=function(_e,xe){return Se.default._validateParameters("mag",arguments),Math.hypot(_e,xe)},Se.default.prototype.map=function(_e,xe,we,Te,Me,Ye){Se.default._validateParameters("map",arguments);_e=(_e-xe)/(we-xe)*(Me-Te)+Te;return Ye?Te<Me?this.constrain(_e,Te,Me):this.constrain(_e,Me,Te):_e},Se.default.prototype.max=function(){for(var e=function(_e){var xe=-1/0,we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=_e[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0){var Ze=Me.value;xe=xe<Ze?Ze:xe}}catch(_e){Se=!0,Te=_e}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}return xe},_e=arguments.length,xe=new Array(_e),we=0;we<_e;we++)xe[we]=arguments[we];return xe[0]instanceof Array?e(xe[0]):e(xe)},Se.default.prototype.min=function(){for(var e=function(_e){var xe=1/0,we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=_e[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0){var Ze=Me.value;xe=Ze<xe?Ze:xe}}catch(_e){Se=!0,Te=_e}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}return xe},_e=arguments.length,xe=new Array(_e),we=0;we<_e;we++)xe[we]=arguments[we];return xe[0]instanceof Array?e(xe[0]):e(xe)},Se.default.prototype.norm=function(_e,xe,we){return Se.default._validateParameters("norm",arguments),this.map(_e,xe,we,0,1)},Se.default.prototype.pow=Math.pow,Se.default.prototype.round=function(_e,xe){return xe?(xe=Math.pow(10,xe),Math.round(_e*xe)/xe):Math.round(_e)},Se.default.prototype.sq=function(_e){return _e*_e},Se.default.prototype.sqrt=Math.sqrt,Se.default.prototype.fract=function(_e){Se.default._validateParameters("fract",arguments);var xe,we=0;_e=Number(_e);return isNaN(_e)||Math.abs(_e)===1/0?_e:(_e<0&&(_e=-_e,we=1),String(_e).includes(".")&&!String(_e).includes("e")?(xe=String(_e),xe=Number("0"+xe.slice(xe.indexOf("."))),Math.abs(we-xe)):_e<1?Math.abs(we-_e):0)};_e=Se.default;we.default=_e},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],306:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.slice"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(_e,xe,we){return(n=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?Reflect.construct:function(_e,xe,we){var Se=[null];Se.push.apply(Se,xe);xe=new(Function.bind.apply(_e,Se));return we&&s(xe,we.prototype),xe}).apply(null,arguments)}function s(_e,xe){return(s=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}Te.default.prototype.createVector=function(xe,we,Se){return(this||_e)instanceof Te.default?n(Te.default.Vector,[(this||_e)._fromRadians.bind(this||_e),(this||_e)._toRadians.bind(this||_e)].concat(Array.prototype.slice.call(arguments))):new Te.default.Vector(xe,we,Se)};xe=Te.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188}],307:[function(_e,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;_e=(_e=_e("../core/main"))&&_e.__esModule?_e:{default:_e};function b(_e){return.5*(1-Math.cos(_e*Math.PI))}var Se,Te=4095,Me=4,Ye=.5;_e=(_e.default.prototype.noise=function(_e){var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,we=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==Se){Se=new Array(4096);for(var Ze=0;Ze<4096;Ze++)Se[Ze]=Math.random()}_e<0&&(_e=-_e),xe<0&&(xe=-xe),we<0&&(we=-we);for(var Qe,Ke,Je=Math.floor(_e),$e=Math.floor(xe),et=Math.floor(we),tt=_e-Je,rt=xe-$e,ot=we-et,nt=0,st=.5,it=0;it<Me;it++){var dt=Je+($e<<4)+(et<<8),ht=b(tt),ft=b(rt),pt=Se[dt&Te];pt+=ht*(Se[dt+1&Te]-pt),Qe=Se[dt+16&Te],pt+=ft*((Qe+=ht*(Se[dt+16+1&Te]-Qe))-pt),Qe=Se[(dt+=256)&Te],Qe+=ht*(Se[dt+1&Te]-Qe),Ke=Se[dt+16&Te],Qe+=ft*((Ke+=ht*(Se[dt+16+1&Te]-Ke))-Qe),nt+=(pt+=b(ot)*(Qe-pt))*st,st*=Ye,Je<<=1,$e<<=1,et<<=1,1<=(tt*=2)&&(Je++,tt--),1<=(rt*=2)&&($e++,rt--),1<=(ot*=2)&&(et++,ot--)}return nt},_e.default.prototype.noiseDetail=function(_e,xe){0<_e&&(Me=_e),0<xe&&(Ye=xe)},_e.default.prototype.noiseSeed=function(_e){Te=4294967296;var xe,we,Te,Me={setSeed:function(_e){we=xe=(null==_e?Math.random()*Te:_e)>>>0},getSeed:function(){return xe},rand:function(){return(we=(1664525*we+1013904223)%Te)/Te}};Me.setSeed(_e),Se=new Array(4096);for(var Ye=0;Ye<4096;Ye++)Se[Ye]=Me.rand()},_e.default);we.default=_e},{"../core/main":275}],308:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.number.is-finite"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.number.is-finite"),xe("core-js/modules/es.string.sub"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=l();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function l(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,l=function(){return _e},_e)}function u(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function c(xe,we){return 0!==xe&&((this||_e).x=(this||_e).x%xe),0!==we&&((this||_e).y=(this||_e).y%we),this||_e}function d(xe,we,Se){return 0!==xe&&((this||_e).x=(this||_e).x%xe),0!==we&&((this||_e).y=(this||_e).y%we),0!==Se&&((this||_e).z=(this||_e).z%Se),this||_e}Te.default.Vector=function(){function n(){var xe=this||_e,we=n;if(!(xe instanceof we))throw new TypeError("Cannot call a class as a function");var Se,Te;xe="function"==typeof(arguments.length<=0?void 0:arguments[0])?((this||_e).isPInst=!0,(this||_e)._fromRadians=arguments.length<=0?void 0:arguments[0],(this||_e)._toRadians=arguments.length<=1?void 0:arguments[1],Se=(arguments.length<=2?void 0:arguments[2])||0,Te=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(Se=(arguments.length<=0?void 0:arguments[0])||0,Te=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);(this||_e).x=Se,(this||_e).y=Te,(this||_e).z=xe}var xe,we,Se;return xe=n,Se=[{key:"fromAngle",value:function(_e,xe){return new Te.default.Vector((xe=void 0===xe?1:xe)*Math.cos(_e),xe*Math.sin(_e),0)}},{key:"fromAngles",value:function(_e,xe,we){void 0===we&&(we=1);var Se=Math.cos(xe),Me=(xe=Math.sin(xe),Math.cos(_e));_e=Math.sin(_e);return new Te.default.Vector(we*_e*xe,-we*Me,we*_e*Se)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*Me.TWO_PI)}},{key:"random3D",value:function(){var _e=Math.random()*Me.TWO_PI,xe=2*Math.random()-1,we=Math.sqrt(1-xe*xe),Se=we*Math.cos(_e);we*=Math.sin(_e);return new Te.default.Vector(Se,we,xe)}},{key:"copy",value:function(_e){return _e.copy(_e)}},{key:"add",value:function(_e,xe,we){return we?we.set(_e):(we=_e.copy(),3===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),we.add(xe),we}},{key:"rem",value:function(_e,xe){if(_e instanceof Te.default.Vector&&xe instanceof Te.default.Vector)return(_e=_e.copy()).rem(xe),_e}},{key:"sub",value:function(_e,xe,we){return we?we.set(_e):(we=_e.copy(),3===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),we.sub(xe),we}},{key:"mult",value:function(_e,xe,we){return we?we.set(_e):(we=_e.copy(),3===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),we.mult(xe),we}},{key:"rotate",value:function(_e,xe,we){return 2===arguments.length?we=_e.copy():(we instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),we.set(_e)),we.rotate(xe),we}},{key:"div",value:function(_e,xe,we){return we?we.set(_e):(we=_e.copy(),3===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),we.div(xe),we}},{key:"dot",value:function(_e,xe){return _e.dot(xe)}},{key:"cross",value:function(_e,xe){return _e.cross(xe)}},{key:"dist",value:function(_e,xe){return _e.dist(xe)}},{key:"lerp",value:function(_e,xe,we,Se){return Se?Se.set(_e):(Se=_e.copy(),4===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),Se.lerp(xe,we),Se}},{key:"slerp",value:function(_e,xe,we,Se){return Se?Se.set(_e):(Se=_e.copy(),4===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),Se.slerp(xe,we),Se}},{key:"mag",value:function(_e){return _e.mag()}},{key:"magSq",value:function(_e){return _e.magSq()}},{key:"normalize",value:function(_e,xe){return arguments.length<2?xe=_e.copy():(xe instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),xe.set(_e)),xe.normalize()}},{key:"limit",value:function(_e,xe,we){return arguments.length<3?we=_e.copy():(we instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),we.set(_e)),we.limit(xe)}},{key:"setMag",value:function(_e,xe,we){return arguments.length<3?we=_e.copy():(we instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),we.set(_e)),we.setMag(xe)}},{key:"heading",value:function(_e){return _e.heading()}},{key:"angleBetween",value:function(_e,xe){return _e.angleBetween(xe)}},{key:"reflect",value:function(_e,xe,we){return arguments.length<3?we=_e.copy():(we instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),we.set(_e)),we.reflect(xe)}},{key:"array",value:function(_e){return _e.array()}},{key:"equals",value:function(_e,xe){var we;return _e instanceof Te.default.Vector?we=_e:_e instanceof Array?we=(new Te.default.Vector).set(_e):Te.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),we.equals(xe)}}],(we=[{key:"toString",value:function(){return"p5.Vector Object : [".concat((this||_e).x,", ").concat((this||_e).y,", ").concat((this||_e).z,"]")}},{key:"set",value:function(xe,we,Se){return xe instanceof Te.default.Vector?((this||_e).x=xe.x||0,(this||_e).y=xe.y||0,(this||_e).z=xe.z||0):Array.isArray(xe)?((this||_e).x=xe[0]||0,(this||_e).y=xe[1]||0,(this||_e).z=xe[2]||0):((this||_e).x=xe||0,(this||_e).y=we||0,(this||_e).z=Se||0),this||_e}},{key:"copy",value:function(){return(this||_e).isPInst?new Te.default.Vector((this||_e)._fromRadians,(this||_e)._toRadians,(this||_e).x,(this||_e).y,(this||_e).z):new Te.default.Vector((this||_e).x,(this||_e).y,(this||_e).z)}},{key:"add",value:function(xe,we,Se){return xe instanceof Te.default.Vector?((this||_e).x+=xe.x||0,(this||_e).y+=xe.y||0,(this||_e).z+=xe.z||0):Array.isArray(xe)?((this||_e).x+=xe[0]||0,(this||_e).y+=xe[1]||0,(this||_e).z+=xe[2]||0):((this||_e).x+=xe||0,(this||_e).y+=we||0,(this||_e).z+=Se||0),this||_e}},{key:"rem",value:function(xe,we,Se){var Me;if(xe instanceof Te.default.Vector){if([xe.x,xe.y,xe.z].every(Number.isFinite))return Ye=parseFloat(xe.x),Ze=parseFloat(xe.y),Me=parseFloat(xe.z),d.call(this||_e,Ye,Ze,Me)}else if(Array.isArray(xe)){if(xe.every((function(_e){return Number.isFinite(_e)})))return 2===xe.length?c.call(this||_e,xe[0],xe[1]):3===xe.length?d.call(this||_e,xe[0],xe[1],xe[2]):void 0}else if(1===arguments.length){if(Number.isFinite(xe)&&0!==xe)return(this||_e).x=(this||_e).x%xe,(this||_e).y=(this||_e).y%xe,(this||_e).z=(this||_e).z%xe,this||_e}else if(2===arguments.length){var Ye=Array.prototype.slice.call(arguments);if(Ye.every((function(_e){return Number.isFinite(_e)}))&&2===Ye.length)return c.call(this||_e,Ye[0],Ye[1])}else if(3===arguments.length){var Ze=Array.prototype.slice.call(arguments);if(Ze.every((function(_e){return Number.isFinite(_e)}))&&3===Ze.length)return d.call(this||_e,Ze[0],Ze[1],Ze[2])}}},{key:"sub",value:function(xe,we,Se){return xe instanceof Te.default.Vector?((this||_e).x-=xe.x||0,(this||_e).y-=xe.y||0,(this||_e).z-=xe.z||0):Array.isArray(xe)?((this||_e).x-=xe[0]||0,(this||_e).y-=xe[1]||0,(this||_e).z-=xe[2]||0):((this||_e).x-=xe||0,(this||_e).y-=we||0,(this||_e).z-=Se||0),this||_e}},{key:"mult",value:function(xe,we,Se){var Me;return xe instanceof Te.default.Vector?Number.isFinite(xe.x)&&Number.isFinite(xe.y)&&Number.isFinite(xe.z)&&"number"==typeof xe.x&&"number"==typeof xe.y&&"number"==typeof xe.z?((this||_e).x*=xe.x,(this||_e).y*=xe.y,(this||_e).z*=xe.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(xe)?xe.every((function(_e){return Number.isFinite(_e)}))&&xe.every((function(_e){return"number"==typeof _e}))?1===xe.length?((this||_e).x*=xe[0],(this||_e).y*=xe[0],(this||_e).z*=xe[0]):2===xe.length?((this||_e).x*=xe[0],(this||_e).y*=xe[1]):3===xe.length&&((this||_e).x*=xe[0],(this||_e).y*=xe[1],(this||_e).z*=xe[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(Me=Array.prototype.slice.call(arguments)).every((function(_e){return Number.isFinite(_e)}))&&Me.every((function(_e){return"number"==typeof _e}))?(1===arguments.length&&((this||_e).x*=xe,(this||_e).y*=xe,(this||_e).z*=xe),2===arguments.length&&((this||_e).x*=xe,(this||_e).y*=we),3===arguments.length&&((this||_e).x*=xe,(this||_e).y*=we,(this||_e).z*=Se)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this||_e}},{key:"div",value:function(xe,we,Se){if(xe instanceof Te.default.Vector)if(Number.isFinite(xe.x)&&Number.isFinite(xe.y)&&Number.isFinite(xe.z)&&"number"==typeof xe.x&&"number"==typeof xe.y&&"number"==typeof xe.z){var Me=0===xe.z&&0===(this||_e).z;if(0===xe.x||0===xe.y||!Me&&0===xe.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this||_e;(this||_e).x/=xe.x,(this||_e).y/=xe.y,Me||((this||_e).z/=xe.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(xe))if(xe.every((function(_e){return Number.isFinite(_e)}))&&xe.every((function(_e){return"number"==typeof _e}))){if(xe.some((function(_e){return 0===_e})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this||_e;1===xe.length?((this||_e).x/=xe[0],(this||_e).y/=xe[0],(this||_e).z/=xe[0]):2===xe.length?((this||_e).x/=xe[0],(this||_e).y/=xe[1]):3===xe.length&&((this||_e).x/=xe[0],(this||_e).y/=xe[1],(this||_e).z/=xe[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else{Me=Array.prototype.slice.call(arguments);if(Me.every((function(_e){return Number.isFinite(_e)}))&&Me.every((function(_e){return"number"==typeof _e}))){if(Me.some((function(_e){return 0===_e})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this||_e;1===arguments.length&&((this||_e).x/=xe,(this||_e).y/=xe,(this||_e).z/=xe),2===arguments.length&&((this||_e).x/=xe,(this||_e).y/=we),3===arguments.length&&((this||_e).x/=xe,(this||_e).y/=we,(this||_e).z/=Se)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number")}return this||_e}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var xe=(this||_e).x,we=(this||_e).y,Se=(this||_e).z;return xe*xe+we*we+Se*Se}},{key:"dot",value:function(xe,we,Se){return xe instanceof Te.default.Vector?this.dot(xe.x,xe.y,xe.z):(this||_e).x*(xe||0)+(this||_e).y*(we||0)+(this||_e).z*(Se||0)}},{key:"cross",value:function(xe){var we=(this||_e).y*xe.z-(this||_e).z*xe.y,Se=(this||_e).z*xe.x-(this||_e).x*xe.z;xe=(this||_e).x*xe.y-(this||_e).y*xe.x;return(this||_e).isPInst?new Te.default.Vector((this||_e)._fromRadians,(this||_e)._toRadians,we,Se,xe):new Te.default.Vector(we,Se,xe)}},{key:"dist",value:function(xe){return xe.copy().sub(this||_e).mag()}},{key:"normalize",value:function(){var xe=this.mag();return 0!==xe&&this.mult(1/xe),this||_e}},{key:"limit",value:function(xe){var we=this.magSq();return xe*xe<we&&this.div(Math.sqrt(we)).mult(xe),this||_e}},{key:"setMag",value:function(_e){return this.normalize().mult(_e)}},{key:"heading",value:function(){var xe=Math.atan2((this||_e).y,(this||_e).x);return(this||_e).isPInst?this._fromRadians(xe):xe}},{key:"setHeading",value:function(xe){(this||_e).isPInst&&(xe=this._toRadians(xe));var we=this.mag();return(this||_e).x=we*Math.cos(xe),(this||_e).y=we*Math.sin(xe),this||_e}},{key:"rotate",value:function(xe){xe=this.heading()+xe;var we=((this||_e).isPInst&&(xe=this._toRadians(xe)),this.mag());return(this||_e).x=Math.cos(xe)*we,(this||_e).y=Math.sin(xe)*we,this||_e}},{key:"angleBetween",value:function(xe){var we;return 0==this.magSq()*xe.magSq()?NaN:(we=this.cross(xe),xe=Math.atan2(we.mag(),this.dot(xe))*Math.sign(we.z||1),(this||_e).isPInst?this._fromRadians(xe):xe)}},{key:"lerp",value:function(xe,we,Se,Me){return xe instanceof Te.default.Vector?this.lerp(xe.x,xe.y,xe.z,we):((this||_e).x+=(xe-(this||_e).x)*Me||0,(this||_e).y+=(we-(this||_e).y)*Me||0,(this||_e).z+=(Se-(this||_e).z)*Me||0,this||_e)}},{key:"slerp",value:function(xe,we){if(0!==we){if(1===we)return this.set(xe);var Se=this.mag(),Te=xe.mag();if(0==Se*Te)this.mult(1-we).add(xe.x*we,xe.y*we,xe.z*we);else{var Me=this.cross(xe),Ye=Me.mag(),Ze=Math.atan2(Ye,this.dot(xe));if(0<Ye)Me.x/=Ye,Me.y/=Ye,Me.z/=Ye;else{if(Ze<.5*Math.PI)return this.mult(1-we).add(xe.x*we,xe.y*we,xe.z*we),this||_e;0===(this||_e).z&&0===xe.z?Me.set(0,0,1):0!==(this||_e).x?Me.set((this||_e).y,-(this||_e).x,0).normalize():Me.set(1,0,0)}Ye=Me.cross(this||_e),xe=1-we+we*Te/Se,Me=xe*Math.cos(we*Ze),Te=xe*Math.sin(we*Ze);(this||_e).x=(this||_e).x*Me+Ye.x*Te,(this||_e).y=(this||_e).y*Me+Ye.y*Te,(this||_e).z=(this||_e).z*Me+Ye.z*Te}}return this||_e}},{key:"reflect",value:function(_e){return _e.normalize(),this.sub(_e.mult(2*this.dot(_e)))}},{key:"array",value:function(){return[(this||_e).x||0,(this||_e).y||0,(this||_e).z||0]}},{key:"equals",value:function(xe,we,Se){var Me,Ye;xe=xe instanceof Te.default.Vector?(Me=xe.x||0,Ye=xe.y||0,xe.z||0):Array.isArray(xe)?(Me=xe[0]||0,Ye=xe[1]||0,xe[2]||0):(Me=xe||0,Ye=we||0,Se||0);return(this||_e).x===Me&&(this||_e).y===Ye&&(this||_e).z===xe}}])&&u(xe.prototype,we),Se&&u(xe,Se),n}();var Ye=Te.default.Vector;Se.default=Ye},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.constructor":173,"core-js/modules/es.number.is-finite":174,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],309:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};var Me="_lcg_random_state",Ye=4294967296,Ze=0;xe=(Te.default.prototype._lcg=function(xe){return(this||_e)[xe]=(1664525*(this||_e)[xe]+1013904223)%Ye,(this||_e)[xe]/Ye},Te.default.prototype._lcgSetSeed=function(xe,we){(this||_e)[xe]=(null==we?Math.random()*Ye:we)>>>0},Te.default.prototype.randomSeed=function(xe){this._lcgSetSeed(Me,xe),(this||_e)._gaussian_previous=!1},Te.default.prototype.random=function(xe,we){var Se,Ye;return Te.default._validateParameters("random",arguments),Se=null!=(this||_e)[Me]?this._lcg(Me):Math.random(),void 0===xe?Se:void 0===we?xe instanceof Array?xe[Math.floor(Se*xe.length)]:Se*xe:(we<xe&&(Ye=xe,xe=we,we=Ye),Se*(we-xe)+xe)},Te.default.prototype.randomGaussian=function(xe){var we,Se,Te,Me,Ye=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if((this||_e)._gaussian_previous)we=Ze,(this||_e)._gaussian_previous=!1;else{for(;1<=(Me=(Se=this.random(2)-1)*Se+(Te=this.random(2)-1)*Te););we=Se*(Me=Math.sqrt(-2*Math.log(Me)/Me)),Ze=Te*Me,(this||_e)._gaussian_previous=!0}return we*Ye+(xe||0)},Te.default);Se.default=xe},{"../core/main":275}],310:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}Te.default.prototype._angleMode=Me.RADIANS,Te.default.prototype.acos=function(_e){return this._fromRadians(Math.acos(_e))},Te.default.prototype.asin=function(_e){return this._fromRadians(Math.asin(_e))},Te.default.prototype.atan=function(_e){return this._fromRadians(Math.atan(_e))},Te.default.prototype.atan2=function(_e,xe){return this._fromRadians(Math.atan2(_e,xe))},Te.default.prototype.cos=function(_e){return Math.cos(this._toRadians(_e))},Te.default.prototype.sin=function(_e){return Math.sin(this._toRadians(_e))},Te.default.prototype.tan=function(_e){return Math.tan(this._toRadians(_e))},Te.default.prototype.degrees=function(_e){return _e*Me.RAD_TO_DEG},Te.default.prototype.radians=function(_e){return _e*Me.DEG_TO_RAD},Te.default.prototype.angleMode=function(xe){if(Te.default._validateParameters("angleMode",arguments),void 0===xe)return(this||_e)._angleMode;xe!==Me.DEGREES&&xe!==Me.RADIANS||((this||_e)._angleMode=xe)},Te.default.prototype._toRadians=function(xe){return(this||_e)._angleMode===Me.DEGREES?xe*Me.DEG_TO_RAD:xe},Te.default.prototype._toDegrees=function(xe){return(this||_e)._angleMode===Me.RADIANS?xe*Me.RAD_TO_DEG:xe},Te.default.prototype._fromRadians=function(xe){return(this||_e)._angleMode===Me.DEGREES?xe*Me.RAD_TO_DEG:xe};var Ye=Te.default;Se.default=Ye},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],311:[function(xe,we,Se){xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype.textAlign=function(xe,we){var Se;return Te.default._validateParameters("textAlign",arguments),(Se=(this||_e)._renderer).textAlign.apply(Se,arguments)},Te.default.prototype.textLeading=function(xe){var we;return Te.default._validateParameters("textLeading",arguments),(we=(this||_e)._renderer).textLeading.apply(we,arguments)},Te.default.prototype.textSize=function(xe){var we;return Te.default._validateParameters("textSize",arguments),(we=(this||_e)._renderer).textSize.apply(we,arguments)},Te.default.prototype.textStyle=function(xe){var we;return Te.default._validateParameters("textStyle",arguments),(we=(this||_e)._renderer).textStyle.apply(we,arguments)},Te.default.prototype.textWidth=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];if(we[0]+="",Te.default._validateParameters("textWidth",we),0===we[0].length)return 0;for(var Me=we[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),Ye=[],Ze=0;Ze<Me.length;Ze++)Ye.push((this||_e)._renderer.textWidth(Me[Ze]));return Math.max.apply(Math,Ye)},Te.default.prototype.textAscent=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("textAscent",we),(this||_e)._renderer.textAscent()},Te.default.prototype.textDescent=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("textDescent",we),(this||_e)._renderer.textDescent()},Te.default.prototype._updateTextMetrics=function(){return(this||_e)._renderer._updateTextMetrics()},Te.default.prototype.textWrap=function(xe){if("WORD"!==xe&&"CHAR"!==xe)throw"Error: textWrap accepts only WORD or CHAR";return(this||_e)._renderer.textWrap(xe)};xe=Te.default;Se.default=xe},{"../core/main":275,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],312:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.last-index-of"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.last-index-of"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.split"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ze=xe("../core/main"))&&Ze.__esModule?Ze:{default:Ze},Me=s(xe("../core/constants")),Ye=s(xe("opentype.js"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function s(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se,Te={},Me=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e)Object.prototype.hasOwnProperty.call(_e,we)&&((Se=Me?Object.getOwnPropertyDescriptor(_e,we):null)&&(Se.get||Se.set)?Object.defineProperty(Te,we,Se):Te[we]=_e[we]);return Te.default=_e,xe&&xe.set(_e,Te),Te}xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.loadFont=function(xe,we,Se){Te.default._validateParameters("loadFont",arguments);var Me=new Te.default.Font(this||_e),Ze=this||_e;return Ye.load(xe,(function(_e,Ye){if(_e)return Te.default._friendlyFileLoadError(4,xe),void 0!==Se?Se(_e):void console.error(_e,xe);Me.font=Ye,void 0!==we&&we(Me),Ze._decrementPreload();_e=xe.split("\\").pop().split("/").pop(),Ye=_e.lastIndexOf(".");var Qe=Ye<1?null:_e.slice(Ye+1);["ttf","otf","woff","woff2"].includes(Qe)&&(Qe=_e.slice(0,-1!==Ye?Ye:0),(_e=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(Qe,";\nsrc: url(").concat(xe,");\n}\n"))),document.head.appendChild(_e))})),Me},Te.default.prototype.text=function(xe,we,Se,Me,Ye){var Ze;return Te.default._validateParameters("text",arguments),(this||_e)._renderer._doFill||(this||_e)._renderer._doStroke?(Ze=(this||_e)._renderer).text.apply(Ze,arguments):this||_e},Te.default.prototype.textFont=function(xe,we){if(Te.default._validateParameters("textFont",arguments),arguments.length){if(xe)return(this||_e)._renderer._setProperty("_textFont",xe),we&&((this||_e)._renderer._setProperty("_textSize",we),(this||_e)._renderer._leadingSet||(this||_e)._renderer._setProperty("_textLeading",we*Me._DEFAULT_LEADMULT)),(this||_e)._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return(this||_e)._renderer._textFont};var Ze=Te.default;Se.default=Ze},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,"opentype.js":249}],313:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Te=xe("../core/main"))&&Te.__esModule?Te:{default:Te},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==j(_e)&&"function"!=typeof _e)return{default:_e};var xe=i();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function i(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,i=function(){return _e},_e)}function j(_e){return(j="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}function s(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function _(_e,xe){var we=_e.length;return _e[xe<0?xe%we+we:xe%we]}function x(_e,xe,we,Se){var Te,Me,Ye;return Se?(void 0===x.tmpPoint1&&(x.tmpPoint1=[],x.tmpPoint2=[]),Me=x.tmpPoint1,Ye=x.tmpPoint2,Me.x=xe.x-_e.x,Me.y=xe.y-_e.y,Ye.x=we.x-xe.x,Ye.y=we.y-xe.y,Te=Me.x*Ye.x+Me.y*Ye.y,Me=Math.sqrt(Me.x*Me.x+Me.y*Me.y),Ye=Math.sqrt(Ye.x*Ye.x+Ye.y*Ye.y),Math.acos(Te/(Me*Ye))<Se):0==(xe[0]-_e[0])*(we[1]-_e[1])-(we[0]-_e[0])*(xe[1]-_e[1])}function d(_e,xe,we,Se,Te,Me,Ye,Ze,Qe){var Ke=1-Qe,Je=Math.pow(Ke,3),$e=Math.pow(Ke,2),et=Qe*Qe,tt=et*Qe,rt=Je*_e+3*$e*Qe*we+3*Ke*Qe*Qe*Te+tt*Ye,ot=(Je=Je*xe+3*$e*Qe*Se+3*Ke*Qe*Qe*Me+tt*Ze,$e=_e+2*Qe*(we-_e)+et*(Te-2*we+_e),tt=xe+2*Qe*(Se-xe)+et*(Me-2*Se+xe),we+2*Qe*(Te-we)+et*(Ye-2*Te+we));et=Se+2*Qe*(Me-Se)+et*(Ze-2*Me+Se),_e=Ke*_e+Qe*we,we=Ke*xe+Qe*Se,xe=Ke*Te+Qe*Ye,Se=Ke*Me+Qe*Ze,Te=90-180*Math.atan2($e-ot,tt-et)/Math.PI;return(ot<$e||tt<et)&&(Te+=180),{x:rt,y:Je,m:{x:$e,y:tt},n:{x:ot,y:et},start:{x:_e,y:we},end:{x:xe,y:Se},alpha:Te}}function h(_e,xe,we,Se,Te,Me,Ye,Ze,Qe){return null==Qe?f(_e,xe,we,Se,Te,Me,Ye,Ze):d(_e,xe,we,Se,Te,Me,Ye,Ze,function(_e,xe,we,Se,Te,Me,Ye,Ze,Qe){if(!(Qe<0||f(_e,xe,we,Se,Te,Me,Ye,Ze)<Qe)){var Ke,Je=.5,$e=1-Je;for(Ke=f(_e,xe,we,Se,Te,Me,Ye,Ze,$e);.01<Math.abs(Ke-Qe);)Ke=f(_e,xe,we,Se,Te,Me,Ye,Ze,$e+=(Ke<Qe?1:-1)*(Je/=2));return $e}}(_e,xe,we,Se,Te,Me,Ye,Ze,Qe))}function w(_e,xe,we){for(var Se,Te,Me,Ye,Ze,Qe=0,Ke=0,Je=(_e=function(_e,xe){function r(_e,xe,we){var Se,Te;if(!_e)return["C",xe.x,xe.y,xe.x,xe.y,xe.x,xe.y];switch(_e[0]in{T:1,Q:1}||(xe.qx=xe.qy=null),_e[0]){case"M":xe.X=_e[1],xe.Y=_e[2];break;case"A":_e=["C"].concat(M.apply(0,[xe.x,xe.y].concat(_e.slice(1))));break;case"S":Te="C"===we||"S"===we?(Se=2*xe.x-xe.bx,2*xe.y-xe.by):(Se=xe.x,xe.y),_e=["C",Se,Te].concat(_e.slice(1));break;case"T":"Q"===we||"T"===we?(xe.qx=2*xe.x-xe.qx,xe.qy=2*xe.y-xe.qy):(xe.qx=xe.x,xe.qy=xe.y),_e=["C"].concat(E(xe.x,xe.y,xe.qx,xe.qy,_e[1],_e[2]));break;case"Q":xe.qx=_e[1],xe.qy=_e[2],_e=["C"].concat(E(xe.x,xe.y,_e[1],_e[2],_e[3],_e[4]));break;case"L":_e=["C"].concat(T(xe.x,xe.y,_e[1],_e[2]));break;case"H":_e=["C"].concat(T(xe.x,xe.y,_e[1],xe.y));break;case"V":_e=["C"].concat(T(xe.x,xe.y,xe.x,_e[1]));break;case"Z":_e=["C"].concat(T(xe.x,xe.y,xe.X,xe.Y))}return _e}function o(_e,xe){if(7<_e[xe].length){_e[xe].shift();for(var Me=_e[xe];Me.length;)Ze[xe]="A",Te&&(Qe[xe]="A"),_e.splice(xe++,0,["C"].concat(Me.splice(0,6)));_e.splice(xe,1),we=Math.max(Se.length,Te&&Te.length||0)}}function n(_e,xe,Me,Ye,Ze){_e&&xe&&"M"===_e[Ze][0]&&"M"!==xe[Ze][0]&&(xe.splice(Ze,0,["M",Ye.x,Ye.y]),Me.bx=0,Me.by=0,Me.x=_e[Ze][1],Me.y=_e[Ze][2],we=Math.max(Se.length,Te&&Te.length||0))}var we,Se=b(_e),Te=xe&&b(xe),Me={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ye={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ze=[],Qe=[],Ke="",Je="";we=Math.max(Se.length,Te&&Te.length||0);for(var $e=0;$e<we;$e++){"C"!==(Ke=Se[$e]?Se[$e][0]:Ke)&&(Ze[$e]=Ke,$e&&(Je=Ze[$e-1])),Se[$e]=r(Se[$e],Me,Je),"A"!==Ze[$e]&&"C"===Ke&&(Ze[$e]="C"),o(Se,$e),Te&&("C"!==(Ke=Te[$e]?Te[$e][0]:Ke)&&(Qe[$e]=Ke,$e&&(Je=Qe[$e-1])),Te[$e]=r(Te[$e],Ye,Je),"A"!==Qe[$e]&&"C"===Ke&&(Qe[$e]="C"),o(Te,$e)),n(Se,Te,Me,Ye,$e),n(Te,Se,Ye,Me,$e);var et=Se[$e],tt=Te&&Te[$e],rt=et.length,ot=Te&&tt.length;Me.x=et[rt-2],Me.y=et[rt-1],Me.bx=parseFloat(et[rt-4])||Me.x,Me.by=parseFloat(et[rt-3])||Me.y,Ye.bx=Te&&(parseFloat(tt[ot-4])||Ye.x),Ye.by=Te&&(parseFloat(tt[ot-3])||Ye.y),Ye.x=Te&&tt[ot-2],Ye.y=Te&&tt[ot-1]}return Te?[Se,Te]:Se}(_e)).length;Ke<Je;Ke++){if("M"===(Me=_e[Ke])[0])Se=+Me[1],Te=+Me[2];else{if(xe<Qe+(Ye=h(Se,Te,Me[1],Me[2],Me[3],Me[4],Me[5],Me[6]))&&!we)return{x:(Ze=h(Se,Te,Me[1],Me[2],Me[3],Me[4],Me[5],Me[6],xe-Qe)).x,y:Ze.y,alpha:Ze.alpha};Qe+=Ye,Se=+Me[5],Te=+Me[6]}Me.shift()}return(Ze=we?Qe:d(Se,Te,Me[0],Me[1],Me[2],Me[3],Me[4],Me[5],1)).alpha?{x:Ze.x,y:Ze.y,alpha:Ze.alpha}:Ze}function b(_e){var xe=[],we=0,Se=0,Te=0,Me=0,Ye=0;if(_e){"M"===_e[0][0]&&(Te=we=+_e[0][1],Me=Se=+_e[0][2],Ye++,xe[0]=["M",we,Se]);for(var Ze,Qe,Ke=3===_e.length&&"M"===_e[0][0]&&"R"===_e[1][0].toUpperCase()&&"Z"===_e[2][0].toUpperCase(),Je=Ye,$e=_e.length;Je<$e;Je++){if(xe.push(Ze=[]),(Qe=_e[Je])[0]!==String.prototype.toUpperCase.call(Qe[0]))switch(Ze[0]=String.prototype.toUpperCase.call(Qe[0]),Ze[0]){case"A":Ze[1]=Qe[1],Ze[2]=Qe[2],Ze[3]=Qe[3],Ze[4]=Qe[4],Ze[5]=Qe[5],Ze[6]=+(Qe[6]+we),Ze[7]=+(Qe[7]+Se);break;case"V":Ze[1]=+Qe[1]+Se;break;case"H":Ze[1]=+Qe[1]+we;break;case"R":for(var et,tt=2,rt=(et=[we,Se].concat(Qe.slice(1))).length;tt<rt;tt++)et[tt]=+et[tt]+we,et[++tt]=+et[tt]+Se;xe.pop(),xe=xe.concat(S(et,Ke));break;case"M":Te=+Qe[1]+we,Me=+Qe[2]+Se;break;default:for(var ot=1,nt=Qe.length;ot<nt;ot++)Ze[ot]=+Qe[ot]+(ot%2?we:Se)}else if("R"===Qe[0])et=[we,Se].concat(Qe.slice(1)),xe.pop(),xe=xe.concat(S(et,Ke)),Ze=["R"].concat(Qe.slice(-2));else for(var st=0,it=Qe.length;st<it;st++)Ze[st]=Qe[st];switch(Ze[0]){case"Z":we=Te,Se=Me;break;case"H":we=Ze[1];break;case"V":Se=Ze[1];break;case"M":Te=Ze[Ze.length-2],Me=Ze[Ze.length-1];break;default:we=Ze[Ze.length-2],Se=Ze[Ze.length-1]}}}return xe}function M(_e,xe,we,Se,Te,Me,Ye,Ze,Qe,Ke){function c(_e,xe,we){return{x:_e*Math.cos(we)-xe*Math.sin(we),y:_e*Math.sin(we)+xe*Math.cos(we)}}var Je,$e=Math.PI,et=120*$e/180,tt=$e/180*(+Te||0),rt=[],ot=(Ke?(ft=Ke[0],Je=Ke[1],dt=Ke[2],ht=Ke[3]):(_e=(st=c(_e,xe,-tt)).x,xe=st.y,1<(ot=(nt=(_e-(Ze=(st=c(Ze,Qe,-tt)).x))/2)*nt/(we*we)+(st=(xe-(Qe=st.y))/2)*st/(Se*Se))&&(we*=ot=Math.sqrt(ot),Se*=ot),ot=we*we,it=Se*Se,dt=(Me=(Me===Ye?-1:1)*Math.sqrt(Math.abs((ot*it-ot*st*st-it*nt*nt)/(ot*st*st+it*nt*nt))))*we*st/Se+(_e+Ze)/2,ht=Me*-Se*nt/we+(xe+Qe)/2,ft=Math.asin(((xe-ht)/Se).toFixed(9)),Je=Math.asin(((Qe-ht)/Se).toFixed(9)),(ft=_e<dt?$e-ft:ft)<0&&(ft=2*$e+ft),(Je=Ze<dt?$e-Je:Je)<0&&(Je=2*$e+Je),Ye&&Je<ft&&(ft-=2*$e),!Ye&&ft<Je&&(Je-=2*$e)),Je-ft),nt=(Math.abs(ot)>et&&(it=Je,st=Ze,Me=Qe,Je=ft+et*(Ye&&ft<Je?1:-1),rt=M(Ze=dt+we*Math.cos(Je),Qe=ht+Se*Math.sin(Je),we,Se,Te,0,Ye,st,Me,[Je,it,dt,ht])),ot=Je-ft,Math.cos(ft)),st=($e=Math.sin(ft),et=Math.cos(Je),Te=Math.sin(Je),Ye=Math.tan(ot/4),4/3*we*Ye),it=(Me=4/3*Se*Ye,[_e,xe]),dt=[_e+st*$e,xe-Me*nt],ht=[Ze+st*Te,Qe-Me*et],ft=[Ze,Qe];if(dt[0]=2*it[0]-dt[0],dt[1]=2*it[1]-dt[1],Ke)return[dt,ht,ft].concat(rt);for(var pt=[],mt=0,yt=(rt=[dt,ht,ft].concat(rt).join().split(",")).length;mt<yt;mt++)pt[mt]=mt%2?c(rt[mt-1],rt[mt],tt).y:c(rt[mt],rt[mt+1],tt).x;return pt}function S(_e,xe){for(var we=[],Se=0,Te=_e.length;Se<Te-2*!xe;Se+=2){var Me=[{x:+_e[Se-2],y:+_e[Se-1]},{x:+_e[Se],y:+_e[Se+1]},{x:+_e[Se+2],y:+_e[Se+3]},{x:+_e[Se+4],y:+_e[Se+5]}];xe?Se?Te-4===Se?Me[3]={x:+_e[0],y:+_e[1]}:Te-2===Se&&(Me[2]={x:+_e[0],y:+_e[1]},Me[3]={x:+_e[2],y:+_e[3]}):Me[0]={x:+_e[Te-2],y:+_e[Te-1]}:Te-4===Se?Me[3]=Me[2]:Se||(Me[0]={x:+_e[Se],y:+_e[Se+1]}),we.push(["C",(-Me[0].x+6*Me[1].x+Me[2].x)/6,(-Me[0].y+6*Me[1].y+Me[2].y)/6,(Me[1].x+6*Me[2].x-Me[3].x)/6,(Me[1].y+6*Me[2].y-Me[3].y)/6,Me[2].x,Me[2].y])}return we}function T(_e,xe,we,Se){return[_e,xe,we,Se,we,Se]}function E(_e,xe,we,Se,Te,Me){return[1/3*_e+2/3*we,1/3*xe+2/3*Se,1/3*Te+2/3*we,1/3*Me+2/3*Se,Te,Me]}function f(_e,xe,we,Se,Te,Me,Ye,Ze,Qe){for(var Ke=(Qe=1<(Qe=null==Qe?1:Qe)?1:Qe<0?0:Qe)/2,Je=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],$e=0,et=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],tt=0;tt<12;tt++){var rt=Ke*Je[tt]+Ke,ot=y(rt,_e,we,Te,Ye);rt=y(rt,xe,Se,Me,Ze);$e+=et[tt]*Math.sqrt(ot*ot+rt*rt)}return Ke*$e}function y(_e,xe,we,Se,Te){return _e*(_e*(-3*xe+9*we-9*Se+3*Te)+6*xe-12*we+6*Se)-3*xe+3*we}Te.default.Font=function(){function t(xe){if(!((this||_e)instanceof t))throw new TypeError("Cannot call a class as a function");(this||_e).parent=xe,(this||_e).cache={},(this||_e).font=void 0}var xe,we,Se;return xe=t,(we=[{key:"textBounds",value:function(xe){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Se=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,Te=3<arguments.length?arguments[3]:void 0,Ye=4<arguments.length?arguments[4]:void 0,Ze=Ye&&Ye.renderer&&Ye.renderer._pInst||(this||_e).parent,Qe=Ze._renderer.drawingContext;Te=(Qe.textAlign||Me.LEFT,Qe.textBaseline||Me.BASELINE,Te||Ze._renderer._textSize);if(!dt){for(var Ke=[],Je=[],$e=[],et=($e[0]=[],[]),tt=this._scale(Te),rt=Ze._renderer.textLeading(),ot=0,nt=((this||_e).font.forEachGlyph(xe,we,Se,Te,Ye,(function(_e,xe,we,Se){var Te=_e.getMetrics();0===_e.index||10===_e.index?$e[ot+=1]=[]:($e[ot].push(xe+Te.xMin*tt),$e[ot].push(xe+Te.xMax*tt),et.push(we+ot*rt+-Te.yMin*tt),et.push(we+ot*rt+-Te.yMax*tt))})),0<$e[ot].length&&(Ke[ot]=Math.min.apply(null,$e[ot]),Je[ot]=Math.max.apply(null,$e[ot])),0),st=0;st<=ot;st++){Ke[st]=Math.min.apply(null,$e[st]),Je[st]=Math.max.apply(null,$e[st]);var it=Je[st]-Ke[st];nt<it&&(nt=it)}Qe=Math.min.apply(null,Ke);var dt={x:Qe,y:Se=Math.min.apply(null,et),h:Math.max.apply(null,et)-Se,w:nt,advance:Qe-we};Te=this._handleAlignment(Ze._renderer,xe,dt.x,dt.y,dt.w+dt.advance);dt.x=Te.x,dt.y=Te.y}return dt}},{key:"textToPoints",value:function(xe,we,Se,Te,Me){var Ye=we,Ze=[],Qe=xe.split(/\r?\n|\r|\n/g);Te=Te||(this||_e).parent._renderer._textSize;for(var Ke,Je,$e,et=0;et<Qe.length;et++){var tt=0;we=Ye;for(var rt=(rt=Qe[et]).replace("\t","  "),ot=this._getGlyphs(rt),nt=0;nt<ot.length;nt++){if(Je=rt,!(($e=ot)[Ke=nt].name&&"space"===$e[Ke].name||Je.length===$e.length&&" "===Je[Ke]))for(var st=function(_e){for(var xe,we=[],Se=0;Se<_e.length;Se++)"M"===_e[Se].type&&(xe&&we.push(xe),xe=[]),xe.push(function(_e){var xe=[_e.type];"M"===_e.type||"L"===_e.type?xe.push(_e.x,_e.y):"C"===_e.type?xe.push(_e.x1,_e.y1,_e.x2,_e.y2,_e.x,_e.y):"Q"===_e.type&&xe.push(_e.x1,_e.y1,_e.x,_e.y);return xe}(_e[Se]));return we.push(xe),we}(ot[nt].getPath(we,Se,Te).commands),it=0;it<st.length;it++)for(var dt=function(_e,xe){xe=function(_e,xe){if("object"!==j(_e))_e=xe;else for(var we in xe)void 0===_e[we]&&(_e[we]=xe[we]);return _e}(xe,{sampleFactor:.1,simplifyThreshold:0});for(var we=w(_e,0,1),Se=we/(we*xe.sampleFactor),Te=[],Me=0;Me<we;Me+=Se)Te.push(w(_e,Me));xe.simplifyThreshold&&!function(_e){for(var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,we=0,Se=_e.length-1;3<_e.length&&0<=Se;--Se)x(_(_e,Se-1),_(_e,Se),_(_e,Se+1),xe)&&(_e.splice(Se%_e.length,1),we++)}(Te,xe.simplifyThreshold);return Te}(st[it],Me),ht=0;ht<dt.length;ht++)dt[ht].x+=tt,Ze.push(dt[ht]);tt+=ot[nt].advanceWidth*this._scale(Te)}Se+=(this||_e).parent._renderer._textLeading}return Ze}},{key:"_getGlyphs",value:function(xe){return(this||_e).font.stringToGlyphs(xe)}},{key:"_getPath",value:function(xe,we,Se,Te){var Me=(Te&&Te.renderer&&Te.renderer._pInst||(this||_e).parent)._renderer;we=this._handleAlignment(Me,xe,we,Se);return(this||_e).font.getPath(xe,we.x,we.y,Me._textSize,Te)}},{key:"_getPathData",value:function(_e,xe,we,Se){var Te=3;return"string"==typeof _e&&2<arguments.length?_e=this._getPath(_e,xe,we,Se):"object"===j(xe)&&(Se=xe),Se&&"number"==typeof Se.decimals&&(Te=Se.decimals),_e.toPathData(Te)}},{key:"_getSVG",value:function(_e,xe,we,Se){var Te=3;return"string"==typeof _e&&2<arguments.length?_e=this._getPath(_e,xe,we,Se):"object"===j(xe)&&(Se=xe),Se&&("number"==typeof Se.decimals&&(Te=Se.decimals),"number"==typeof Se.strokeWidth&&(_e.strokeWidth=Se.strokeWidth),void 0!==Se.fill&&(_e.fill=Se.fill),void 0!==Se.stroke&&(_e.stroke=Se.stroke)),_e.toSVG(Te)}},{key:"_renderPath",value:function(xe,we,Se,Te){var Ye=Te&&Te.renderer||(this||_e).parent._renderer,Ze=Ye.drawingContext,Qe=(xe=("object"===j(xe)&&xe.commands?xe:this._getPath(xe,we,Se,Te)).commands,Ze.beginPath(),!0);we=!1,Se=void 0;try{for(var Ke,Je=xe[Symbol.iterator]();!(Qe=(Ke=Je.next()).done);Qe=!0){var $e=Ke.value;"M"===$e.type?Ze.moveTo($e.x,$e.y):"L"===$e.type?Ze.lineTo($e.x,$e.y):"C"===$e.type?Ze.bezierCurveTo($e.x1,$e.y1,$e.x2,$e.y2,$e.x,$e.y):"Q"===$e.type?Ze.quadraticCurveTo($e.x1,$e.y1,$e.x,$e.y):"Z"===$e.type&&Ze.closePath()}}catch(xe){we=!0,Se=xe}finally{try{Qe||null==Je.return||Je.return()}finally{if(we)throw Se}}return Ye._doStroke&&Ye._strokeSet&&!Ye._clipping&&Ze.stroke(),Ye._doFill&&!Ye._clipping&&(Ye._fillSet||Ye._setFill(Me._DEFAULT_TEXT_FILL),Ze.fill()),this||_e}},{key:"_textWidth",value:function(xe,we){return(this||_e).font.getAdvanceWidth(xe,we)}},{key:"_textAscent",value:function(xe){return(this||_e).font.ascender*this._scale(xe)}},{key:"_textDescent",value:function(xe){return-(this||_e).font.descender*this._scale(xe)}},{key:"_scale",value:function(xe){return 1/(this||_e).font.unitsPerEm*(xe||(this||_e).parent._renderer._textSize)}},{key:"_handleAlignment",value:function(_e,xe,we,Se,Te){var Ye=_e._textSize;switch(void 0===Te&&(Te=this._textWidth(xe,Ye)),_e._textAlign){case Me.CENTER:we-=Te/2;break;case Me.RIGHT:we-=Te}switch(_e._textBaseline){case Me.TOP:Se+=this._textAscent(Ye);break;case Me.CENTER:Se+=this._textAscent(Ye)/2;break;case Me.BOTTOM:Se-=this._textDescent(Ye)}return{x:we,y:Se}}}])&&s(xe.prototype,we),Se&&s(xe,Se),t}();xe=Te.default;Se.default=xe},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],314:[function(_e,xe,we){_e("core-js/modules/es.array.concat"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.array.splice"),_e("core-js/modules/es.array-buffer.constructor"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.array.concat"),_e("core-js/modules/es.array.slice"),_e("core-js/modules/es.array.splice"),_e("core-js/modules/es.array-buffer.constructor"),_e("core-js/modules/es.object.to-string"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;_e=(_e=_e("../core/main"))&&_e.__esModule?_e:{default:_e};_e.default.prototype.append=function(_e,xe){return _e.push(xe),_e},_e.default.prototype.arrayCopy=function(_e,xe,we,Se,Te){var Me,Ye;_e=void 0!==Te?(Ye=Math.min(Te,_e.length),Me=Se,_e.slice(xe,Ye+xe)):(Ye=void 0!==we?(Ye=we,Math.min(Ye,_e.length)):_e.length,we=xe,_e.slice(Me=0,Ye)),Array.prototype.splice.apply(we,[Me,Ye].concat(_e))},_e.default.prototype.concat=function(_e,xe){return _e.concat(xe)},_e.default.prototype.reverse=function(_e){return _e.reverse()},_e.default.prototype.shorten=function(_e){return _e.pop(),_e},_e.default.prototype.shuffle=function(_e,xe){for(var we,Se,Te=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(_e),Me=(_e=xe||Te?_e:_e.slice()).length;1<Me;)we=this.random(0,1)*Me|0,Se=_e[--Me],_e[Me]=_e[we],_e[we]=Se;return _e},_e.default.prototype.sort=function(_e,xe){var we=xe?_e.slice(0,Math.min(xe,_e.length)):_e;xe=xe?_e.slice(Math.min(xe,_e.length)):[];return(we="string"==typeof we[0]?we.sort():we.sort((function(_e,xe){return _e-xe}))).concat(xe)},_e.default.prototype.splice=function(_e,xe,we){return Array.prototype.splice.apply(_e,[we,0].concat(xe)),_e},_e.default.prototype.subset=function(_e,xe,we){return void 0!==we?_e.slice(xe,xe+we):_e.slice(xe,_e.length)};_e=_e.default;we.default=_e},{"../core/main":275,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182}],315:[function(_e,xe,we){_e("core-js/modules/es.array.map"),_e("core-js/modules/es.number.constructor"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.repeat"),_e("core-js/modules/es.array.map"),_e("core-js/modules/es.number.constructor"),_e("core-js/modules/es.object.to-string"),_e("core-js/modules/es.regexp.to-string"),_e("core-js/modules/es.string.repeat"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(_e=_e("../core/main"))&&_e.__esModule?_e:{default:_e};Se.default.prototype.float=function(_e){return _e instanceof Array?_e.map(parseFloat):parseFloat(_e)},Se.default.prototype.int=function(_e){var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return _e===1/0||"Infinity"===_e?1/0:_e===-1/0||"-Infinity"===_e?-1/0:"string"==typeof _e?parseInt(_e,xe):"number"==typeof _e?0|_e:"boolean"==typeof _e?_e?1:0:_e instanceof Array?_e.map((function(_e){return Se.default.prototype.int(_e,xe)})):void 0},Se.default.prototype.str=function(_e){return _e instanceof Array?_e.map(Se.default.prototype.str):String(_e)},Se.default.prototype.boolean=function(_e){return"number"==typeof _e?0!==_e:"string"==typeof _e?"true"===_e.toLowerCase():"boolean"==typeof _e?_e:_e instanceof Array?_e.map(Se.default.prototype.boolean):void 0},Se.default.prototype.byte=function(_e){_e=Se.default.prototype.int(_e,10);return"number"==typeof _e?(_e+128)%256-128:_e instanceof Array?_e.map(Se.default.prototype.byte):void 0},Se.default.prototype.char=function(_e){return"number"!=typeof _e||isNaN(_e)?_e instanceof Array?_e.map(Se.default.prototype.char):"string"==typeof _e?Se.default.prototype.char(parseInt(_e,10)):void 0:String.fromCharCode(_e)},Se.default.prototype.unchar=function(_e){return"string"==typeof _e&&1===_e.length?_e.charCodeAt(0):_e instanceof Array?_e.map(Se.default.prototype.unchar):void 0},Se.default.prototype.hex=function(_e,xe){if(xe=null==xe?8:xe,_e instanceof Array)return _e.map((function(_e){return Se.default.prototype.hex(_e,xe)}));if(_e===1/0||_e===-1/0)return(_e===1/0?"F":"0").repeat(xe);if("number"==typeof _e){_e<0&&(_e=4294967295+_e+1);for(var we=Number(_e).toString(16).toUpperCase();we.length<xe;)we="0".concat(we);return we.length>=xe?we.substring(we.length-xe,we.length):we}},Se.default.prototype.unhex=function(_e){return _e instanceof Array?_e.map(Se.default.prototype.unhex):parseInt("0x".concat(_e),16)};_e=Se.default;we.default=_e},{"../core/main":275,"core-js/modules/es.array.map":164,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.repeat":195}],316:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.pad-start"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.pad-start"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Me=xe("../core/main"))&&Me.__esModule?Me:{default:Me};function i(_e,xe){return function(_e){if(Array.isArray(_e))return _e}(_e)||function(_e,xe){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e)){var we=[],Se=!0,Te=!1,Me=void 0;try{for(var Ye,Ze=_e[Symbol.iterator]();!(Se=(Ye=Ze.next()).done)&&(we.push(Ye.value),!xe||we.length!==xe);Se=!0);}catch(_e){Te=!0,Me=_e}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Me}}return we}}(_e,xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(_e,xe,we){var Se=i(_e.toString().split("."),2),Te=Se[0];Se=Se[1];return void 0===we?(Te=Te.padStart(xe,"0"),Se?Te+"."+Se:Te):(Te=(_e=i(_e.toFixed(we).toString().split("."),2))[0],Se=_e[1],Te=Te.padStart(xe,"0"),void 0===Se?Te:Te+"."+Se)}function n(_e,xe){var we=(_e=_e.toString()).indexOf("."),Se=-1!==we?_e.substring(we):"";_e=(_e=-1!==we?_e.substring(0,we):_e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(0===xe)Se="";else if(void 0!==xe)if(xe>Se.length)for(var Te=xe-(Se+=-1===we?".":"").length+1,Me=0;Me<Te;Me++)Se+="0";else Se=Se.substring(0,xe+1);return _e+Se}function a(_e){return 0<parseFloat(_e)?"+".concat(_e.toString()):_e.toString()}function l(_e){return 0<=parseFloat(_e)?" ".concat(_e.toString()):_e.toString()}xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.join=function(_e,xe){return Te.default._validateParameters("join",arguments),_e.join(xe)},Te.default.prototype.match=function(_e,xe){return Te.default._validateParameters("match",arguments),_e.match(xe)},Te.default.prototype.matchAll=function(_e,xe){Te.default._validateParameters("matchAll",arguments);for(var we=new RegExp(xe,"g"),Se=we.exec(_e),Me=[];null!==Se;)Me.push(Se),Se=we.exec(_e);return Me},Te.default.prototype.nf=function(_e,xe,we){return Te.default._validateParameters("nf",arguments),_e instanceof Array?_e.map((function(_e){return o(_e,xe,we)})):"[object Arguments]"===Object.prototype.toString.call(_e)?3===_e.length?this.nf(_e[0],_e[1],_e[2]):2===_e.length?this.nf(_e[0],_e[1]):this.nf(_e[0]):o(_e,xe,we)},Te.default.prototype.nfc=function(_e,xe){return Te.default._validateParameters("nfc",arguments),_e instanceof Array?_e.map((function(_e){return n(_e,xe)})):n(_e,xe)},Te.default.prototype.nfp=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("nfp",we);var Me=Te.default.prototype.nf.apply(this||_e,we);return Me instanceof Array?Me.map(a):a(Me)},Te.default.prototype.nfs=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("nfs",we);var Me=Te.default.prototype.nf.apply(this||_e,we);return Me instanceof Array?Me.map(l):l(Me)},Te.default.prototype.split=function(_e,xe){return Te.default._validateParameters("split",arguments),_e.split(xe)},Te.default.prototype.splitTokens=function(_e,xe){var we,Se;return Te.default._validateParameters("splitTokens",arguments),Se=void 0!==xe?(Se=/\]/g.exec(xe),(we=/\[/g.exec(xe))&&Se?(xe=xe.slice(0,Se.index)+xe.slice(Se.index+1),we=/\[/g.exec(xe),xe=xe.slice(0,we.index)+xe.slice(we.index+1),new RegExp("[\\[".concat(xe,"\\]]"),"g")):Se?(xe=xe.slice(0,Se.index)+xe.slice(Se.index+1),new RegExp("[".concat(xe,"\\]]"),"g")):we?(xe=xe.slice(0,we.index)+xe.slice(we.index+1),new RegExp("[".concat(xe,"\\[]"),"g")):new RegExp("[".concat(xe,"]"),"g")):/\s/g,_e.split(Se).filter((function(_e){return _e}))},Te.default.prototype.trim=function(xe){return Te.default._validateParameters("trim",arguments),xe instanceof Array?xe.map((this||_e).trim):xe.trim()};var Me=Te.default;Se.default=Me},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.pad-start":194,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],317:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype.day=function(){return(new Date).getDate()},xe.default.prototype.hour=function(){return(new Date).getHours()},xe.default.prototype.minute=function(){return(new Date).getMinutes()},xe.default.prototype.millis=function(){return-1===(this||_e)._millisStart?0:window.performance.now()-(this||_e)._millisStart},xe.default.prototype.month=function(){return(new Date).getMonth()+1},xe.default.prototype.second=function(){return(new Date).getSeconds()},xe.default.prototype.year=function(){return(new Date).getFullYear()};xe=xe.default;Se.default=xe},{"../core/main":275}],318:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=(xe("./p5.Geometry"),function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants")));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}Te.default.prototype.beginGeometry=function(){return(this||_e)._renderer.beginGeometry()},Te.default.prototype.endGeometry=function(){return(this||_e)._renderer.endGeometry()},Te.default.prototype.buildGeometry=function(xe){return(this||_e)._renderer.buildGeometry(xe)},Te.default.prototype.freeGeometry=function(xe){(this||_e)._renderer._freeBuffers(xe.gid)},Te.default.prototype.plane=function(xe,we,Se,Me){this._assert3d("plane"),Te.default._validateParameters("plane",arguments),void 0===xe&&(xe=50),void 0===we&&(we=xe),void 0===Me&&(Me=1);var Ye,Ze="plane|".concat(Se=void 0===Se?1:Se,"|").concat(Me);return(this||_e)._renderer.geometryInHash(Ze)||((Ye=new Te.default.Geometry(Se,Me,(function(){for(var xe,we,Se=0;Se<=(this||_e).detailY;Se++)for(var Me=Se/(this||_e).detailY,Ye=0;Ye<=(this||_e).detailX;Ye++)xe=Ye/(this||_e).detailX,we=new Te.default.Vector(xe-.5,Me-.5,0),(this||_e).vertices.push(we),(this||_e).uvs.push(xe,Me)}))).computeFaces().computeNormals(),Se<=1&&Me<=1?Ye._makeTriangleEdges()._edgesToVertices():(this||_e)._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),(this||_e)._renderer.createBuffers(Ze,Ye)),(this||_e)._renderer.drawBuffersScaled(Ze,xe,we,1),this||_e},Te.default.prototype.box=function(xe,we,Se,Me,Ye){this._assert3d("box"),Te.default._validateParameters("box",arguments),void 0===xe&&(xe=50),void 0===we&&(we=xe),void 0===Se&&(Se=we);var Ze,Qe=(this||_e)._renderer.attributes&&(this||_e)._renderer.attributes.perPixelLighting;Qe=(void 0===Ye&&(Ye=Qe?1:4),"box|".concat(Me=void 0===Me?Qe?1:4:Me,"|").concat(Ye));return(this||_e)._renderer.geometryInHash(Qe)||((Ze=new Te.default.Geometry(Me,Ye,(function(){var xe=this||_e;(this||_e).edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach((function(_e,we){we*=4;for(var Se=0;Se<4;Se++){var Me=_e[Se];Me=new Te.default.Vector((2*(1&Me)-1)/2,((2&Me)-1)/2,((4&Me)/2-1)/2);xe.vertices.push(Me),xe.uvs.push(1&Se,(2&Se)/2)}xe.faces.push([we,1+we,2+we]),xe.faces.push([2+we,1+we,3+we])}))}))).computeNormals(),Me<=4&&Ye<=4?Ze._edgesToVertices():(this||_e)._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),(this||_e)._renderer.createBuffers(Qe,Ze)),(this||_e)._renderer.drawBuffersScaled(Qe,xe,we,Se),this||_e},Te.default.prototype.sphere=function(xe,we,Se){return this._assert3d("sphere"),Te.default._validateParameters("sphere",arguments),this.ellipsoid(xe=void 0===xe?50:xe,xe,xe,we=void 0===we?24:we,Se=void 0===Se?16:Se),this||_e};function l(xe,we,Se,Me,Ye,Ze,Qe){xe=xe<=0?1:xe,we=we<0?0:we,Se=Se<=0?xe:Se,Me=Me<3?3:Me;for(var Ke,Je,$e=(Ze=void 0===Ze||Ze)?-2:0,et=(Ye=Ye<1?1:Ye)+((Qe=void 0===Qe?0!==we:Qe)?2:0),tt=Math.atan2(xe-we,Se),rt=Math.sin(tt),ot=Math.cos(tt),nt=$e;nt<=et;++nt){var st=nt/Ye,it=Se*st,dt=void 0;dt=nt<0?(st=it=0,xe):Ye<nt?(it=Se,st=1,we):xe+(we-xe)*st;for(-2!==nt&&nt!==Ye+2||(dt=0),it-=Se/2,Ke=0;Ke<Me;++Ke){var ht=Ke/(Me-1),ft=2*Math.PI*ht,pt=Math.sin(ft),mt=(ft=Math.cos(ft),(this||_e).vertices.push(new Te.default.Vector(pt*dt,it,ft*dt)),void 0);mt=nt<0?new Te.default.Vector(0,-1,0):Ye<nt&&we?new Te.default.Vector(0,1,0):new Te.default.Vector(pt*ot,rt,ft*ot);(this||_e).vertexNormals.push(mt),(this||_e).uvs.push(ht,st)}}var yt=0;if(Ze){for(Je=0;Je<Me;++Je)(this||_e).faces.push([yt+Je,yt+Me+(Je+1)%Me,yt+Me+Je]);yt+=2*Me}for(nt=0;nt<Ye;++nt){for(Ke=0;Ke<Me;++Ke){var gt=(Ke+1)%Me;(this||_e).faces.push([yt+Ke,yt+gt,yt+Me+gt]),(this||_e).faces.push([yt+Ke,yt+Me+gt,yt+Me+Ke])}yt+=Me}if(Qe)for(yt+=Me,Ke=0;Ke<Me;++Ke)(this||_e).faces.push([yt+Ke,yt+(Ke+1)%Me,yt+Me])}Te.default.prototype.cylinder=function(xe,we,Se,Me,Ye,Ze){this._assert3d("cylinder"),Te.default._validateParameters("cylinder",arguments),void 0===xe&&(xe=50),void 0===we&&(we=xe),void 0===Me&&(Me=1),void 0===Ze&&(Ze=!0),void 0===Ye&&(Ye=!0);var Qe,Ke="cylinder|".concat(Se=void 0===Se?24:Se,"|").concat(Me,"|").concat(Ye,"|").concat(Ze);return(this||_e)._renderer.geometryInHash(Ke)||(Qe=new Te.default.Geometry(Se,Me),l.call(Qe,1,1,1,Se,Me,Ye,Ze),Se<=24&&Me<=16?Qe._makeTriangleEdges()._edgesToVertices():(this||_e)._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),(this||_e)._renderer.createBuffers(Ke,Qe)),(this||_e)._renderer.drawBuffersScaled(Ke,xe,we,xe),this||_e},Te.default.prototype.cone=function(xe,we,Se,Me,Ye){this._assert3d("cone"),Te.default._validateParameters("cone",arguments),void 0===xe&&(xe=50),void 0===we&&(we=xe),void 0===Me&&(Me=1),void 0===Ye&&(Ye=!0);var Ze,Qe="cone|".concat(Se=void 0===Se?24:Se,"|").concat(Me,"|").concat(Ye);return(this||_e)._renderer.geometryInHash(Qe)||(Ze=new Te.default.Geometry(Se,Me),l.call(Ze,1,0,1,Se,Me,Ye,!1),Se<=24&&Me<=16?Ze._makeTriangleEdges()._edgesToVertices():(this||_e)._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),(this||_e)._renderer.createBuffers(Qe,Ze)),(this||_e)._renderer.drawBuffersScaled(Qe,xe,we,xe),this||_e},Te.default.prototype.ellipsoid=function(xe,we,Se,Me,Ye){this._assert3d("ellipsoid"),Te.default._validateParameters("ellipsoid",arguments),void 0===xe&&(xe=50),void 0===we&&(we=xe),void 0===Se&&(Se=xe),void 0===Ye&&(Ye=16);var Ze,Qe="ellipsoid|".concat(Me=void 0===Me?24:Me,"|").concat(Ye);return(this||_e)._renderer.geometryInHash(Qe)||((Ze=new Te.default.Geometry(Me,Ye,(function(){for(var xe=0;xe<=(this||_e).detailY;xe++)for(var we=xe/(this||_e).detailY,Se=Math.PI*we-Math.PI/2,Me=Math.cos(Se),Ye=Math.sin(Se),Ze=0;Ze<=(this||_e).detailX;Ze++){var Qe=Ze/(this||_e).detailX,Ke=2*Math.PI*Qe,Je=Math.cos(Ke);Ke=Math.sin(Ke),Ke=new Te.default.Vector(Me*Ke,Ye,Me*Je);(this||_e).vertices.push(Ke),(this||_e).vertexNormals.push(Ke),(this||_e).uvs.push(Qe,we)}}))).computeFaces(),Me<=24&&Ye<=24?Ze._makeTriangleEdges()._edgesToVertices():(this||_e)._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),(this||_e)._renderer.createBuffers(Qe,Ze)),(this||_e)._renderer.drawBuffersScaled(Qe,xe,we,Se),this||_e},Te.default.prototype.torus=function(xe,we,Se,Me){if(this._assert3d("torus"),Te.default._validateParameters("torus",arguments),void 0===xe)xe=50;else if(!xe)return;if(void 0===we)we=10;else if(!we)return;void 0===Se&&(Se=24),void 0===Me&&(Me=16);var Ye,Ze=(we/xe).toPrecision(4);we="torus|".concat(Ze,"|").concat(Se,"|").concat(Me);return(this||_e)._renderer.geometryInHash(we)||((Ye=new Te.default.Geometry(Se,Me,(function(){for(var xe=0;xe<=(this||_e).detailY;xe++)for(var we=xe/(this||_e).detailY,Se=2*Math.PI*we,Me=Math.cos(Se),Ye=Math.sin(Se),Qe=1+Ze*Me,Ke=0;Ke<=(this||_e).detailX;Ke++){var Je=Ke/(this||_e).detailX,$e=2*Math.PI*Je,et=Math.cos($e),tt=($e=Math.sin($e),new Te.default.Vector(Qe*et,Qe*$e,Ze*Ye));et=new Te.default.Vector(Me*et,Me*$e,Ye);(this||_e).vertices.push(tt),(this||_e).vertexNormals.push(et),(this||_e).uvs.push(Je,we)}}))).computeFaces(),Se<=24&&Me<=16?Ye._makeTriangleEdges()._edgesToVertices():(this||_e)._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),(this||_e)._renderer.createBuffers(we,Ye)),(this||_e)._renderer.drawBuffersScaled(we,xe,xe,xe),this||_e},Te.default.RendererGL.prototype.point=function(xe,we,Se){var Me=[];return Me.push(new Te.default.Vector(xe,we,Se=void 0===Se?0:Se)),this._drawPoints(Me,(this||_e).immediateMode.buffers.point),this||_e},Te.default.RendererGL.prototype.triangle=function(xe){var we=xe[0],Se=xe[1],Me=xe[2],Ye=xe[3],Ze=xe[4],Qe=(xe=xe[5],this.geometryInHash("tri")||((Qe=new Te.default.Geometry(1,1,(function(){var xe=[];xe.push(new Te.default.Vector(0,0,0)),xe.push(new Te.default.Vector(1,0,0)),xe.push(new Te.default.Vector(0,1,0)),(this||_e).edges=[[0,1],[1,2],[2,0]],(this||_e).vertices=xe,(this||_e).faces=[[0,1,2]],(this||_e).uvs=[0,0,1,0,1,1]})))._edgesToVertices(),Qe.computeNormals(),this.createBuffers("tri",Qe)),(this||_e).uMVMatrix.copy());try{var Ke=Math.sign(we*Ye-Me*Se+Me*xe-Ze*Ye+Ze*Se-we*xe),Je=new Te.default.Matrix([Me-we,Ye-Se,0,0,Ze-we,xe-Se,0,0,0,0,Ke,0,we,Se,0,1]).mult((this||_e).uMVMatrix);(this||_e).uMVMatrix=Je,this.drawBuffers("tri")}finally{(this||_e).uMVMatrix=Qe}return this||_e},Te.default.RendererGL.prototype.ellipse=function(_e){this.arc(_e[0],_e[1],_e[2],_e[3],0,Me.TWO_PI,Me.OPEN,_e[4])},Te.default.RendererGL.prototype.arc=function(xe){var we,Se=arguments[1],Ye=arguments[2],Ze=arguments[3],Qe=arguments[4],Ke=arguments[5],Je=arguments[6],$e=arguments[7]||25,et=(Math.abs(Ke-Qe)>=Me.TWO_PI?"".concat(tt="ellipse","|"):"".concat(tt="arc","|").concat(Qe,"|").concat(Ke,"|").concat(Je,"|")).concat($e,"|"),tt=(this.geometryInHash(et)||((we=new Te.default.Geometry($e,1,(function(){if(Qe.toFixed(10)!==Ke.toFixed(10)){Je!==Me.PIE&&void 0!==Je||((this||_e).vertices.push(new Te.default.Vector(.5,.5,0)),(this||_e).uvs.push([.5,.5]));for(var xe=0;xe<=$e;xe++){var we=xe/$e*(Ke-Qe)+Qe,Se=.5+Math.cos(we)/2;we=.5+Math.sin(we)/2;(this||_e).vertices.push(new Te.default.Vector(Se,we,0)),(this||_e).uvs.push([Se,we]),xe<$e-1&&((this||_e).faces.push([0,xe+1,xe+2]),(this||_e).edges.push([xe+1,xe+2]))}switch(Je){case Me.PIE:(this||_e).faces.push([0,(this||_e).vertices.length-2,(this||_e).vertices.length-1]),(this||_e).edges.push([0,1]),(this||_e).edges.push([(this||_e).vertices.length-2,(this||_e).vertices.length-1]),(this||_e).edges.push([0,(this||_e).vertices.length-1]);break;case Me.CHORD:(this||_e).edges.push([0,1]),(this||_e).edges.push([0,(this||_e).vertices.length-1]);break;case Me.OPEN:(this||_e).edges.push([0,1]);break;default:(this||_e).faces.push([0,(this||_e).vertices.length-2,(this||_e).vertices.length-1]),(this||_e).edges.push([(this||_e).vertices.length-2,(this||_e).vertices.length-1])}}}))).computeNormals(),$e<=50?we._edgesToVertices(we):(this||_e)._doStroke&&console.log("Cannot apply a stroke to an ".concat(tt," with more than 50 detail")),this.createBuffers(et,we)),(this||_e).uMVMatrix.copy());try{(this||_e).uMVMatrix.translate([xe,Se,0]),(this||_e).uMVMatrix.scale(Ye,Ze,1),this.drawBuffers(et)}finally{(this||_e).uMVMatrix=tt}return this||_e},Te.default.RendererGL.prototype.rect=function(xe){var we=xe[0],Se=xe[1],Ye=xe[2],Ze=xe[3];if(void 0===xe[4]){var Qe=(this||_e)._pInst._glAttributes.perPixelLighting,Ke=xe[4]||(Qe?1:24),Je=xe[5]||(Qe?1:16),$e=(Qe="rect|".concat(Ke,"|").concat(Je),this.geometryInHash(Qe)||(($e=new Te.default.Geometry(Ke,Je,(function(){for(var xe=0;xe<=(this||_e).detailY;xe++)for(var we=xe/(this||_e).detailY,Se=0;Se<=(this||_e).detailX;Se++){var Me=Se/(this||_e).detailX,Ye=new Te.default.Vector(Me,we,0);(this||_e).vertices.push(Ye),(this||_e).uvs.push(Me,we)}0<Ke&&0<Je&&((this||_e).edges=[[0,Ke],[Ke,(Ke+1)*(Je+1)-1],[(Ke+1)*(Je+1)-1,(Ke+1)*Je],[(Ke+1)*Je,0]])}))).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(Qe,$e)),(this||_e).uMVMatrix.copy());try{(this||_e).uMVMatrix.translate([we,Se,0]),(this||_e).uMVMatrix.scale(Ye,Ze,1),this.drawBuffers(Qe)}finally{(this||_e).uMVMatrix=$e}}else{Qe=xe[4],$e=void 0===xe[5]?Qe:xe[5];var et=void 0===xe[6]?$e:xe[6],tt=(xe=void 0===xe[7]?et:xe[7],Ye),rt=Ze,ot=((tt+=we)<we&&(ot=we,we=tt,tt=ot),(rt+=Se)<Se&&(ot=Se,Se=rt,rt=ot),Math.min((tt-we)/2,(rt-Se)/2)),nt=(ot<Qe&&(Qe=ot),ot<$e&&($e=ot),ot<et&&(et=ot),ot<xe&&(xe=ot),we),st=Se,it=(ot=tt,we=rt,this.beginShape(),0!==$e?(this.vertex(ot-$e,st),this.quadraticVertex(ot,st,ot,st+$e)):this.vertex(ot,st),0!==et?(this.vertex(ot,we-et),this.quadraticVertex(ot,we,ot-et,we)):this.vertex(ot,we),0!==xe?(this.vertex(nt+xe,we),this.quadraticVertex(nt,we,nt,we-xe)):this.vertex(nt,we),0!==Qe?(this.vertex(nt,st+Qe),this.quadraticVertex(nt,st,nt+Qe,st)):this.vertex(nt,st),!((this||_e).immediateMode.geometry.uvs.length=0));Se=!1,tt=void 0;try{for(var dt,ht=(this||_e).immediateMode.geometry.vertices[Symbol.iterator]();!(it=(dt=ht.next()).done);it=!0){var ft=dt.value,pt=(ft.x-nt)/Ye,mt=(ft.y-st)/Ze;(this||_e).immediateMode.geometry.uvs.push(pt,mt)}}catch(xe){Se=!0,tt=xe}finally{try{it||null==ht.return||ht.return()}finally{if(Se)throw tt}}this.endShape(Me.CLOSE)}return this||_e},Te.default.RendererGL.prototype.quad=function(xe,we,Se,Me,Ye,Ze,Qe,Ke,Je,$e,et,tt,rt,ot){void 0===rt&&(rt=2),void 0===ot&&(ot=2);var nt="quad|".concat(xe,"|").concat(we,"|").concat(Se,"|").concat(Me,"|").concat(Ye,"|").concat(Ze,"|").concat(Qe,"|").concat(Ke,"|").concat(Je,"|").concat($e,"|").concat(et,"|").concat(tt,"|").concat(rt,"|").concat(ot);if(!this.geometryInHash(nt)){var st=new Te.default.Geometry(rt,ot,(function(){for(var rt=1/((this||_e).detailX-1),ot=1/((this||_e).detailY-1),nt=0;nt<(this||_e).detailY;nt++)for(var st=0;st<(this||_e).detailX;st++){var it=st*rt,dt=nt*ot;(this||_e).vertices.push(new Te.default.Vector((1-it)*((1-dt)*xe+dt*$e)+it*((1-dt)*Me+dt*Qe),(1-it)*((1-dt)*we+dt*et)+it*((1-dt)*Ye+dt*Ke),(1-it)*((1-dt)*Se+dt*tt)+it*((1-dt)*Ze+dt*Je))),(this||_e).uvs.push([it,dt])}}));st.faces=[];for(var it=0;it<ot-1;it++)for(var dt=0;dt<rt-1;dt++){var ht=dt+it*rt,ft=dt+1+(it+1)*rt,pt=dt+(it+1)*rt;st.faces.push([ht,dt+1+it*rt,ft]),st.faces.push([ht,ft,pt])}st.computeNormals();for(var mt=[st.edges.length=0,2,3,1],yt=0;yt<mt.length;yt++)st.edges.push([mt[yt],mt[(yt+1)%mt.length]]);st._edgesToVertices(),this.createBuffers(nt,st)}return this.drawBuffers(nt),this||_e},Te.default.RendererGL.prototype.bezier=function(xe,we,Se,Te,Me,Ye,Ze,Qe,Ke,Je,$e,et){8===arguments.length&&($e=Qe,Je=Ze,Qe=Ye,Ze=Me,Me=Te,Te=Se,Se=Ye=Ke=et=0);var tt=(this||_e)._pInst._bezierDetail||20;this.beginShape();for(var rt=0;rt<=tt;rt++){var ot=Math.pow(1-rt/tt,3),nt=rt/tt*3*Math.pow(1-rt/tt,2),st=3*Math.pow(rt/tt,2)*(1-rt/tt),it=Math.pow(rt/tt,3);this.vertex(xe*ot+Te*nt+Ze*st+Je*it,we*ot+Me*nt+Qe*st+$e*it,Se*ot+Ye*nt+Ke*st+et*it)}return this.endShape(),this||_e},Te.default.RendererGL.prototype.curve=function(xe,we,Se,Te,Me,Ye,Ze,Qe,Ke,Je,$e,et){8===arguments.length&&(Je=Ze,$e=Qe,Ze=Me,Qe=Te,Me=Te=Se,Se=Ye=Ke=et=0);var tt=(this||_e)._pInst._curveDetail;this.beginShape();for(var rt=0;rt<=tt;rt++){var ot=.5*Math.pow(rt/tt,3),nt=.5*Math.pow(rt/tt,2),st=rt/tt*.5;this.vertex(ot*(3*Te-xe-3*Ze+Je)+nt*(2*xe-5*Te+4*Ze-Je)+st*(-xe+Ze)+2*Te*.5,ot*(3*Me-we-3*Qe+$e)+nt*(2*we-5*Me+4*Qe-$e)+st*(-we+Qe)+2*Me*.5,ot*(3*Ye-Se-3*Ke+et)+nt*(2*Se-5*Ye+4*Ke-et)+st*(-Se+Ke)+2*Ye*.5)}return this.endShape(),this||_e},Te.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(Me.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(Me.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this||_e},Te.default.RendererGL.prototype.bezierVertex=function(){if(0===(this||_e).immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var xe,we,Se,Te,Me,Ye,Ze=[],Qe=[],Ke=arguments.length;if(0===(this||_e)._lookUpTableBezier.length||(this||_e)._lutBezierDetail!==(this||_e)._pInst._curveDetail){(this||_e)._lookUpTableBezier=[],(this||_e)._lutBezierDetail=(this||_e)._pInst._curveDetail;for(var Je=1/(this||_e)._lutBezierDetail,$e=0,et=1,tt=0;$e<1;){if(Ye=parseFloat($e.toFixed(6)),(this||_e)._lookUpTableBezier[tt]=this._bezierCoefficients(Ye),et.toFixed(6)===Je.toFixed(6)){Ye=parseFloat(et.toFixed(6))+parseFloat($e.toFixed(6)),++tt,(this||_e)._lookUpTableBezier[tt]=this._bezierCoefficients(Ye);break}$e+=Je,et-=Je,++tt}}for(var rt=(this||_e)._lookUpTableBezier.length,ot=[],nt=0;nt<4;nt++)ot.push([]);ot[0]=(this||_e).immediateMode.geometry.vertexColors.slice(-4),ot[3]=(this||_e).curFillColor.slice();var st=[];for(nt=0;nt<4;nt++)st.push([]);if(st[0]=(this||_e).immediateMode.geometry.vertexStrokeColors.slice(-4),st[3]=(this||_e).curStrokeColor.slice(),6===Ke){(this||_e).isBezier=!0;Ze=[(this||_e).immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],Qe=[(this||_e).immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var it=Math.hypot(Ze[0]-Ze[1],Qe[0]-Qe[1]),dt=Math.hypot(Ze[1]-Ze[2],Qe[1]-Qe[2]),ht=Math.hypot(Ze[2]-Ze[3],Qe[2]-Qe[3]);dt=it+dt+ht;for(it/=dt,ht/=dt,Me=0;Me<4;Me++)ot[1].push(ot[0][Me]*(1-it)+ot[3][Me]*it),ot[2].push(ot[0][Me]*ht+ot[3][Me]*(1-ht)),st[1].push(st[0][Me]*(1-it)+st[3][Me]*it),st[2].push(st[0][Me]*ht+st[3][Me]*(1-ht));for(Te=0;Te<rt;Te++){for((this||_e).curFillColor=[0,0,0,0],(this||_e).curStrokeColor=[0,0,0,0],nt=xe=we=0;nt<4;nt++){for(Me=0;Me<4;Me++)(this||_e).curFillColor[Me]+=(this||_e)._lookUpTableBezier[Te][nt]*ot[nt][Me],(this||_e).curStrokeColor[Me]+=(this||_e)._lookUpTableBezier[Te][nt]*st[nt][Me];xe+=Ze[nt]*(this||_e)._lookUpTableBezier[Te][nt],we+=Qe[nt]*(this||_e)._lookUpTableBezier[Te][nt]}this.vertex(xe,we)}(this||_e).curFillColor=ot[3],(this||_e).curStrokeColor=st[3],(this||_e).immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],(this||_e).immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===Ke){(this||_e).isBezier=!0,Ze=[(this||_e).immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],Qe=[(this||_e).immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var ft=[(this||_e).immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],pt=Math.hypot(Ze[0]-Ze[1],Qe[0]-Qe[1],ft[0]-ft[1]),mt=(dt=Math.hypot(Ze[1]-Ze[2],Qe[1]-Qe[2],ft[1]-ft[2]),Math.hypot(Ze[2]-Ze[3],Qe[2]-Qe[3],ft[2]-ft[3]));Ke=pt+dt+mt;for(pt/=Ke,mt/=Ke,Me=0;Me<4;Me++)ot[1].push(ot[0][Me]*(1-pt)+ot[3][Me]*pt),ot[2].push(ot[0][Me]*mt+ot[3][Me]*(1-mt)),st[1].push(st[0][Me]*(1-pt)+st[3][Me]*pt),st[2].push(st[0][Me]*mt+st[3][Me]*(1-mt));for(Te=0;Te<rt;Te++){for((this||_e).curFillColor=[0,0,0,0],(this||_e).curStrokeColor=[0,0,0,0],nt=xe=we=Se=0;nt<4;nt++){for(Me=0;Me<4;Me++)(this||_e).curFillColor[Me]+=(this||_e)._lookUpTableBezier[Te][nt]*ot[nt][Me],(this||_e).curStrokeColor[Me]+=(this||_e)._lookUpTableBezier[Te][nt]*st[nt][Me];xe+=Ze[nt]*(this||_e)._lookUpTableBezier[Te][nt],we+=Qe[nt]*(this||_e)._lookUpTableBezier[Te][nt],Se+=ft[nt]*(this||_e)._lookUpTableBezier[Te][nt]}this.vertex(xe,we,Se)}(this||_e).curFillColor=ot[3],(this||_e).curStrokeColor=st[3],(this||_e).immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],(this||_e).immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],(this||_e).immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},Te.default.RendererGL.prototype.quadraticVertex=function(){if(0===(this||_e).immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var xe,we,Se,Te,Me,Ye,Ze=[],Qe=[],Ke=arguments.length;if(0===(this||_e)._lookUpTableQuadratic.length||(this||_e)._lutQuadraticDetail!==(this||_e)._pInst._curveDetail){(this||_e)._lookUpTableQuadratic=[],(this||_e)._lutQuadraticDetail=(this||_e)._pInst._curveDetail;for(var Je=1/(this||_e)._lutQuadraticDetail,$e=0,et=1,tt=0;$e<1;){if(Ye=parseFloat($e.toFixed(6)),(this||_e)._lookUpTableQuadratic[tt]=this._quadraticCoefficients(Ye),et.toFixed(6)===Je.toFixed(6)){Ye=parseFloat(et.toFixed(6))+parseFloat($e.toFixed(6)),++tt,(this||_e)._lookUpTableQuadratic[tt]=this._quadraticCoefficients(Ye);break}$e+=Je,et-=Je,++tt}}for(var rt=(this||_e)._lookUpTableQuadratic.length,ot=[],nt=0;nt<3;nt++)ot.push([]);ot[0]=(this||_e).immediateMode.geometry.vertexColors.slice(-4),ot[2]=(this||_e).curFillColor.slice();var st=[];for(nt=0;nt<3;nt++)st.push([]);if(st[0]=(this||_e).immediateMode.geometry.vertexStrokeColors.slice(-4),st[2]=(this||_e).curStrokeColor.slice(),4===Ke){(this||_e).isQuadratic=!0;Ze=[(this||_e).immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],Qe=[(this||_e).immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var it=Math.hypot(Ze[0]-Ze[1],Qe[0]-Qe[1]);for(it/=it+Math.hypot(Ze[1]-Ze[2],Qe[1]-Qe[2]),Me=0;Me<4;Me++)ot[1].push(ot[0][Me]*(1-it)+ot[2][Me]*it),st[1].push(st[0][Me]*(1-it)+st[2][Me]*it);for(Te=0;Te<rt;Te++){for((this||_e).curFillColor=[0,0,0,0],(this||_e).curStrokeColor=[0,0,0,0],nt=xe=we=0;nt<3;nt++){for(Me=0;Me<4;Me++)(this||_e).curFillColor[Me]+=(this||_e)._lookUpTableQuadratic[Te][nt]*ot[nt][Me],(this||_e).curStrokeColor[Me]+=(this||_e)._lookUpTableQuadratic[Te][nt]*st[nt][Me];xe+=Ze[nt]*(this||_e)._lookUpTableQuadratic[Te][nt],we+=Qe[nt]*(this||_e)._lookUpTableQuadratic[Te][nt]}this.vertex(xe,we)}(this||_e).curFillColor=ot[2],(this||_e).curStrokeColor=st[2],(this||_e).immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],(this||_e).immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===Ke){(this||_e).isQuadratic=!0,Ze=[(this||_e).immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],Qe=[(this||_e).immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var dt=[(this||_e).immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],ht=Math.hypot(Ze[0]-Ze[1],Qe[0]-Qe[1],dt[0]-dt[1]);for(ht/=ht+Math.hypot(Ze[1]-Ze[2],Qe[1]-Qe[2],dt[1]-dt[2]),Me=0;Me<4;Me++)ot[1].push(ot[0][Me]*(1-ht)+ot[2][Me]*ht),st[1].push(st[0][Me]*(1-ht)+st[2][Me]*ht);for(Te=0;Te<rt;Te++){for((this||_e).curFillColor=[0,0,0,0],(this||_e).curStrokeColor=[0,0,0,0],nt=xe=we=Se=0;nt<3;nt++){for(Me=0;Me<4;Me++)(this||_e).curFillColor[Me]+=(this||_e)._lookUpTableQuadratic[Te][nt]*ot[nt][Me],(this||_e).curStrokeColor[Me]+=(this||_e)._lookUpTableQuadratic[Te][nt]*st[nt][Me];xe+=Ze[nt]*(this||_e)._lookUpTableQuadratic[Te][nt],we+=Qe[nt]*(this||_e)._lookUpTableQuadratic[Te][nt],Se+=dt[nt]*(this||_e)._lookUpTableQuadratic[Te][nt]}this.vertex(xe,we,Se)}(this||_e).curFillColor=ot[2],(this||_e).curStrokeColor=st[2],(this||_e).immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],(this||_e).immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],(this||_e).immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},Te.default.RendererGL.prototype.curveVertex=function(){var xe,we,Se,Te,Me,Ye,Ze=[],Qe=[],Ke=arguments.length;if(0===(this||_e)._lookUpTableBezier.length||(this||_e)._lutBezierDetail!==(this||_e)._pInst._curveDetail){(this||_e)._lookUpTableBezier=[],(this||_e)._lutBezierDetail=(this||_e)._pInst._curveDetail;for(var Je=1/(this||_e)._lutBezierDetail,$e=0,et=1,tt=0;$e<1;){if(Ye=parseFloat($e.toFixed(6)),(this||_e)._lookUpTableBezier[tt]=this._bezierCoefficients(Ye),et.toFixed(6)===Je.toFixed(6)){Ye=parseFloat(et.toFixed(6))+parseFloat($e.toFixed(6)),++tt,(this||_e)._lookUpTableBezier[tt]=this._bezierCoefficients(Ye);break}$e+=Je,et-=Je,++tt}}var rt=(this||_e)._lookUpTableBezier.length;if(2===Ke){if((this||_e).immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),(this||_e).immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===(this||_e).immediateMode._curveVertex.length){for((this||_e).isCurve=!0,Ze=this._bezierToCatmull([(this||_e).immediateMode._curveVertex[0],(this||_e).immediateMode._curveVertex[2],(this||_e).immediateMode._curveVertex[4],(this||_e).immediateMode._curveVertex[6]]),Qe=this._bezierToCatmull([(this||_e).immediateMode._curveVertex[1],(this||_e).immediateMode._curveVertex[3],(this||_e).immediateMode._curveVertex[5],(this||_e).immediateMode._curveVertex[7]]),Me=0;Me<rt;Me++)we=Ze[0]*(this||_e)._lookUpTableBezier[Me][0]+Ze[1]*(this||_e)._lookUpTableBezier[Me][1]+Ze[2]*(this||_e)._lookUpTableBezier[Me][2]+Ze[3]*(this||_e)._lookUpTableBezier[Me][3],Se=Qe[0]*(this||_e)._lookUpTableBezier[Me][0]+Qe[1]*(this||_e)._lookUpTableBezier[Me][1]+Qe[2]*(this||_e)._lookUpTableBezier[Me][2]+Qe[3]*(this||_e)._lookUpTableBezier[Me][3],this.vertex(we,Se);for(Me=0;Me<Ke;Me++)(this||_e).immediateMode._curveVertex.shift()}}else if(3===Ke&&((this||_e).immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),(this||_e).immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),(this||_e).immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===(this||_e).immediateMode._curveVertex.length)){for((this||_e).isCurve=!0,Ze=this._bezierToCatmull([(this||_e).immediateMode._curveVertex[0],(this||_e).immediateMode._curveVertex[3],(this||_e).immediateMode._curveVertex[6],(this||_e).immediateMode._curveVertex[9]]),Qe=this._bezierToCatmull([(this||_e).immediateMode._curveVertex[1],(this||_e).immediateMode._curveVertex[4],(this||_e).immediateMode._curveVertex[7],(this||_e).immediateMode._curveVertex[10]]),xe=this._bezierToCatmull([(this||_e).immediateMode._curveVertex[2],(this||_e).immediateMode._curveVertex[5],(this||_e).immediateMode._curveVertex[8],(this||_e).immediateMode._curveVertex[11]]),Me=0;Me<rt;Me++)we=Ze[0]*(this||_e)._lookUpTableBezier[Me][0]+Ze[1]*(this||_e)._lookUpTableBezier[Me][1]+Ze[2]*(this||_e)._lookUpTableBezier[Me][2]+Ze[3]*(this||_e)._lookUpTableBezier[Me][3],Se=Qe[0]*(this||_e)._lookUpTableBezier[Me][0]+Qe[1]*(this||_e)._lookUpTableBezier[Me][1]+Qe[2]*(this||_e)._lookUpTableBezier[Me][2]+Qe[3]*(this||_e)._lookUpTableBezier[Me][3],Te=xe[0]*(this||_e)._lookUpTableBezier[Me][0]+xe[1]*(this||_e)._lookUpTableBezier[Me][1]+xe[2]*(this||_e)._lookUpTableBezier[Me][2]+xe[3]*(this||_e)._lookUpTableBezier[Me][3],this.vertex(we,Se,Te);for(Me=0;Me<Ke;Me++)(this||_e).immediateMode._curveVertex.shift()}},Te.default.RendererGL.prototype.image=function(xe,we,Se,Te,Ye,Ze,Qe,Ke,Je){(this||_e)._isErasing&&this.blendMode((this||_e)._cachedBlendMode),(this||_e)._pInst.push(),(this||_e)._pInst.noLights(),(this||_e)._pInst.noStroke(),(this||_e)._pInst.texture(xe),(this||_e)._pInst.textureMode(Me.NORMAL);var $e=0,et=(we<=xe.width&&($e=we/xe.width),1);we=(we+Te<=xe.width&&(et=(we+Te)/xe.width),0),Te=(Se<=xe.height&&(we=Se/xe.height),1);Se+Ye<=xe.height&&(Te=(Se+Ye)/xe.height),this.beginShape(),this.vertex(Ze,Qe,0,$e,we),this.vertex(Ze+Ke,Qe,0,et,we),this.vertex(Ze+Ke,Qe+Je,0,et,Te),this.vertex(Ze,Qe+Je,0,$e,Te),this.endShape(Me.CLOSE),(this||_e)._pInst.pop(),(this||_e)._isErasing&&this.blendMode(Me.REMOVE)};var Ye=Te.default;Se.default=Ye},{"../core/constants":264,"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],319:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.object.assign"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=l();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function l(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,l=function(){return _e},_e)}function s(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}var Ye=function(){function t(xe){if(!((this||_e)instanceof t))throw new TypeError("Cannot call a class as a function");((this||_e).renderer=xe)._pInst.push(),(this||_e).identityMatrix=new Te.default.Matrix,xe.uMVMatrix=new Te.default.Matrix,(this||_e).geometry=new Te.default.Geometry,(this||_e).geometry.gid="_p5_GeometryBuilder_".concat(t.nextGeometryId),t.nextGeometryId++,(this||_e).hasTransform=!1}var xe,we,Se;return xe=t,(we=[{key:"transformVertices",value:function(xe){var we=this||_e;return(this||_e).hasTransform?xe.map((function(_e){return we.renderer.uMVMatrix.multiplyPoint(_e)})):xe}},{key:"transformNormals",value:function(xe){var we=this||_e;return(this||_e).hasTransform?xe.map((function(_e){return we.renderer.uNMatrix.multiplyVec3(_e)})):xe}},{key:"addGeometry",value:function(xe){for(var we,Se=this||_e,Te=((this||_e).hasTransform=!(this||_e).renderer.uMVMatrix.mat4.every((function(_e,xe){return _e===Se.identityMatrix.mat4[xe]})),(this||_e).hasTransform&&(this||_e).renderer.uNMatrix.inverseTranspose((this||_e).renderer.uMVMatrix),(this||_e).geometry.vertices.length),Me=((we=(this||_e).geometry.vertices).push.apply(we,s(this.transformVertices(xe.vertices))),(we=(this||_e).geometry.vertexNormals).push.apply(we,s(this.transformNormals(xe.vertexNormals))),(we=(this||_e).geometry.uvs).push.apply(we,s(xe.uvs)),(this||_e).renderer._doFill&&(we=(this||_e).geometry.faces).push.apply(we,s(xe.faces.map((function(_e){return _e.map((function(_e){return _e+Te}))})))),(this||_e).renderer._doStroke&&(we=(this||_e).geometry.edges).push.apply(we,s(xe.edges.map((function(_e){return _e.map((function(_e){return _e+Te}))})))),s(xe.vertexColors));Me.length<4*xe.vertices.length;)Me.push.apply(Me,s((this||_e).renderer.curFillColor));(we=(this||_e).geometry.vertexColors).push.apply(we,s(Me))}},{key:"addImmediate",value:function(){var xe=(this||_e).renderer.immediateMode.geometry,we=(this||_e).renderer.immediateMode.shapeMode,Se=[];if((this||_e).renderer._doFill)if(we===Me.TRIANGLE_STRIP||we===Me.QUAD_STRIP)for(var Te=2;Te<xe.vertices.length;Te++)Te%2==0?Se.push([Te,Te-1,Te-2]):Se.push([Te,Te-2,Te-1]);else if(we===Me.TRIANGLE_FAN)for(var Ye=2;Ye<xe.vertices.length;Ye++)Se.push([0,Ye-1,Ye]);else for(var Ze=0;Ze<xe.vertices.length;Ze+=3)Se.push([Ze,Ze+1,Ze+2]);this.addGeometry(Object.assign({},xe,{faces:Se}))}},{key:"addRetained",value:function(_e){this.addGeometry(_e.model)}},{key:"finish",value:function(){return(this||_e).renderer._pInst.pop(),(this||_e).geometry}}])&&u(xe.prototype,we),Se&&u(xe,Se),t}();Ye.nextGeometryId=0,Se.default=Ye},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],320:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==v(_e)&&"function"!=typeof _e)return{default:_e};var xe=i();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function i(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,i=function(){return _e},_e)}function v(_e){return(v="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}Te.default.prototype.orbitControl=function(xe,we,Se,Me){var Ye=this||_e,Ze=(this._assert3d("orbitControl"),Te.default._validateParameters("orbitControl",arguments),(this||_e)._renderer._curCamera);void 0===xe&&(xe=1),void 0===we&&(we=xe),void 0===Se&&(Se=1),"object"!==v(Me)&&(Me={}),!0!==(this||_e).contextMenuDisabled&&((this||_e).canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==(this||_e).wheelDefaultDisabled&&((this||_e).canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var Qe=Me.disableTouchActions;!0===(this||_e).touchActionsDisabled||void 0!==Qe&&!Qe||((this||_e).canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));Qe=Me.freeRotation,Me=void 0!==Qe&&Qe;var Ke,Je,$e,et=[],tt=(Qe=((this||_e).touches.forEach((function(_e){Ye._renderer.prevTouches.forEach((function(xe){_e.id===xe.id&&(xe={x:_e.x,y:_e.y,px:xe.x,py:xe.y},et.push(xe))}))})),(this||_e)._renderer.prevTouches=(this||_e).touches,0),0),rt=0,ot=0,nt=0,st=(this||_e).height<(this||_e).width?(this||_e).height:(this||_e).width,it=!1;return 0<et.length?(it=0<et[0].x&&et[0].x<(this||_e).width&&0<et[0].y&&et[0].y<(this||_e).height,1===et.length?(tt=-xe*((Ke=et[0]).x-Ke.px)/st,rt=we*(Ke.y-Ke.py)/st):(Ke=et[0],Je=et[1],Qe=-(Math.hypot(Ke.x-Je.x,Ke.y-Je.y)-Math.hypot(Ke.px-Je.px,Ke.py-Je.py))*Se*4e-4,ot=.5*(Ke.x+Je.x)-.5*(Ke.px+Je.px),nt=.5*(Ke.y+Je.y)-.5*(Ke.py+Je.py)),0<(this||_e).touches.length?it&&((this||_e)._renderer.executeRotateAndMove=!0,(this||_e)._renderer.executeZoom=!0):((this||_e)._renderer.executeRotateAndMove=!1,(this||_e)._renderer.executeZoom=!1)):(it=0<(this||_e).mouseX&&(this||_e).mouseX<(this||_e).width&&0<(this||_e).mouseY&&(this||_e).mouseY<(this||_e).height,0!==(this||_e)._mouseWheelDeltaY?(Qe=Math.sign((this||_e)._mouseWheelDeltaY)*Se,Qe*=.01,(this||_e)._mouseWheelDeltaY=0,it&&((this||_e)._renderer.executeZoom=!0)):(this||_e)._renderer.zoomFlag=!1,(this||_e).mouseIsPressed?((this||_e).mouseButton===(this||_e).LEFT?(tt=-xe*(this||_e).movedX/st,rt=we*(this||_e).movedY/st):(this||_e).mouseButton===(this||_e).RIGHT&&(ot=(this||_e).movedX,nt=(this||_e).movedY*Ze.yScale),it&&((this||_e)._renderer.executeRotateAndMove=!0)):(this||_e)._renderer.executeRotateAndMove=!1),0!==Qe&&(this||_e)._renderer.executeZoom&&((this||_e)._renderer.zoomVelocity+=Qe),.001<Math.abs((this||_e)._renderer.zoomVelocity)?(Me?Ze._orbitFree(0,0,(this||_e)._renderer.zoomVelocity):Ze._orbit(0,0,(this||_e)._renderer.zoomVelocity),0!==Ze.projMatrix.mat4[15]&&(Ze.projMatrix.mat4[0]*=Math.pow(10,-(this||_e)._renderer.zoomVelocity),Ze.projMatrix.mat4[5]*=Math.pow(10,-(this||_e)._renderer.zoomVelocity),(this||_e)._renderer.uPMatrix.mat4[0]=Ze.projMatrix.mat4[0],(this||_e)._renderer.uPMatrix.mat4[5]=Ze.projMatrix.mat4[5]),(this||_e)._renderer.zoomVelocity*=.85):(this||_e)._renderer.zoomVelocity=0,0===tt&&0===rt||!(this||_e)._renderer.executeRotateAndMove||(this||_e)._renderer.rotateVelocity.add(.6*tt,.6*rt),1e-6<(this||_e)._renderer.rotateVelocity.magSq()?(Me?Ze._orbitFree(-(this||_e)._renderer.rotateVelocity.x,(this||_e)._renderer.rotateVelocity.y,0):Ze._orbit((this||_e)._renderer.rotateVelocity.x,(this||_e)._renderer.rotateVelocity.y,0),(this||_e)._renderer.rotateVelocity.mult(.85)):(this||_e)._renderer.rotateVelocity.set(0,0),0===ot&&0===nt||!(this||_e)._renderer.executeRotateAndMove||(Ke=2*ot/(this||_e).width,Je=2*-nt/(this||_e).height,(this||_e)._renderer.moveVelocity.add(.15*Ke,.15*Je)),1e-6<(this||_e)._renderer.moveVelocity.magSq()?(Se=Ze._getLocalAxes(),xe=Ze.eyeX-Ze.centerX,we=Ze.eyeY-Ze.centerY,st=Ze.eyeZ-Ze.centerZ,it=Math.sqrt(xe*xe+we*we+st*st),Qe=new Te.default.Vector(Ze.centerX,Ze.centerY,Ze.centerZ),Qe=Ze.cameraMatrix.multiplyPoint(Qe),(Qe=(this||_e)._renderer.uPMatrix.multiplyAndNormalizePoint(Qe)).x-=(this||_e)._renderer.moveVelocity.x,Qe.y-=(this||_e)._renderer.moveVelocity.y,rt=0===(tt=(this||_e)._renderer.uPMatrix.mat4)[15]?($e=(tt[8]+Qe.x)/tt[0]*it,(tt[9]+Qe.y)/tt[5]*it):($e=(Qe.x-tt[12])/tt[0],(Qe.y-tt[13])/tt[5]),Ze.setPosition(Ze.eyeX+$e*Se.x[0]+rt*Se.y[0],Ze.eyeY+$e*Se.x[1]+rt*Se.y[1],Ze.eyeZ+$e*Se.x[2]+rt*Se.y[2]),(this||_e)._renderer.moveVelocity.mult(.85)):(this||_e)._renderer.moveVelocity.set(0,0),this||_e},Te.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("debugMode",we);for(var Ye=(this||_e)._registeredMethods.post.length-1;0<=Ye;Ye--)(this||_e)._registeredMethods.post[Ye].toString()!==this._grid().toString()&&(this||_e)._registeredMethods.post[Ye].toString()!==this._axesIcon().toString()||(this||_e)._registeredMethods.post.splice(Ye,1);we[0]===Me.GRID?this.registerMethod("post",(this||_e)._grid.call(this||_e,we[1],we[2],we[3],we[4],we[5])):we[0]===Me.AXES?this.registerMethod("post",(this||_e)._axesIcon.call(this||_e,we[1],we[2],we[3],we[4])):(this.registerMethod("post",(this||_e)._grid.call(this||_e,we[0],we[1],we[2],we[3],we[4])),this.registerMethod("post",(this||_e)._axesIcon.call(this||_e,we[5],we[6],we[7],we[8])))},Te.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var xe=(this||_e)._registeredMethods.post.length-1;0<=xe;xe--)(this||_e)._registeredMethods.post[xe].toString()!==this._grid().toString()&&(this||_e)._registeredMethods.post[xe].toString()!==this._axesIcon().toString()||(this||_e)._registeredMethods.post.splice(xe,1)},Te.default.prototype._grid=function(xe,we,Se,Te,Me){void 0===xe&&(xe=(this||_e).width/2),void 0===we&&(we=Math.round(xe/30)<4?4:Math.round(xe/30)),void 0===Se&&(Se=0),void 0===Te&&(Te=0),void 0===Me&&(Me=0);var Ye=xe/we,Ze=xe/2;return function(){this.push(),this.stroke(255*(this||_e)._renderer.curStrokeColor[0],255*(this||_e)._renderer.curStrokeColor[1],255*(this||_e)._renderer.curStrokeColor[2]),(this||_e)._renderer.uMVMatrix.set((this||_e)._renderer._curCamera.cameraMatrix.mat4[0],(this||_e)._renderer._curCamera.cameraMatrix.mat4[1],(this||_e)._renderer._curCamera.cameraMatrix.mat4[2],(this||_e)._renderer._curCamera.cameraMatrix.mat4[3],(this||_e)._renderer._curCamera.cameraMatrix.mat4[4],(this||_e)._renderer._curCamera.cameraMatrix.mat4[5],(this||_e)._renderer._curCamera.cameraMatrix.mat4[6],(this||_e)._renderer._curCamera.cameraMatrix.mat4[7],(this||_e)._renderer._curCamera.cameraMatrix.mat4[8],(this||_e)._renderer._curCamera.cameraMatrix.mat4[9],(this||_e)._renderer._curCamera.cameraMatrix.mat4[10],(this||_e)._renderer._curCamera.cameraMatrix.mat4[11],(this||_e)._renderer._curCamera.cameraMatrix.mat4[12],(this||_e)._renderer._curCamera.cameraMatrix.mat4[13],(this||_e)._renderer._curCamera.cameraMatrix.mat4[14],(this||_e)._renderer._curCamera.cameraMatrix.mat4[15]);for(var xe=0;xe<=we;xe++)this.beginShape((this||_e).LINES),this.vertex(-Ze+Se,Te,xe*Ye-Ze+Me),this.vertex(Ze+Se,Te,xe*Ye-Ze+Me),this.endShape();for(var Qe=0;Qe<=we;Qe++)this.beginShape((this||_e).LINES),this.vertex(Qe*Ye-Ze+Se,Te,-Ze+Me),this.vertex(Qe*Ye-Ze+Se,Te,Ze+Me),this.endShape();this.pop()}},Te.default.prototype._axesIcon=function(xe,we,Se,Te){return void 0===xe&&(xe=40<(this||_e).width/20?(this||_e).width/20:40),void 0===we&&(we=-(this||_e).width/4),void 0===Se&&(Se=we),void 0===Te&&(Te=we),function(){this.push(),(this||_e)._renderer.uMVMatrix.set((this||_e)._renderer._curCamera.cameraMatrix.mat4[0],(this||_e)._renderer._curCamera.cameraMatrix.mat4[1],(this||_e)._renderer._curCamera.cameraMatrix.mat4[2],(this||_e)._renderer._curCamera.cameraMatrix.mat4[3],(this||_e)._renderer._curCamera.cameraMatrix.mat4[4],(this||_e)._renderer._curCamera.cameraMatrix.mat4[5],(this||_e)._renderer._curCamera.cameraMatrix.mat4[6],(this||_e)._renderer._curCamera.cameraMatrix.mat4[7],(this||_e)._renderer._curCamera.cameraMatrix.mat4[8],(this||_e)._renderer._curCamera.cameraMatrix.mat4[9],(this||_e)._renderer._curCamera.cameraMatrix.mat4[10],(this||_e)._renderer._curCamera.cameraMatrix.mat4[11],(this||_e)._renderer._curCamera.cameraMatrix.mat4[12],(this||_e)._renderer._curCamera.cameraMatrix.mat4[13],(this||_e)._renderer._curCamera.cameraMatrix.mat4[14],(this||_e)._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape((this||_e).LINES),this.vertex(we,Se,Te),this.vertex(we+xe,Se,Te),this.endShape(),this.stroke(0,255,0),this.beginShape((this||_e).LINES),this.vertex(we,Se,Te),this.vertex(we,Se+xe,Te),this.endShape(),this.stroke(0,0,255),this.beginShape((this||_e).LINES),this.vertex(we,Se,Te),this.vertex(we,Se,Te+xe),this.endShape(),this.pop()}};var Ye=Te.default;Se.default=Ye},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],321:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype.ambientLight=function(xe,we,Se,Me){this._assert3d("ambientLight"),Te.default._validateParameters("ambientLight",arguments);var Ye=(this||_e).color.apply(this||_e,arguments);return(this||_e)._renderer.ambientLightColors.push(Ye._array[0],Ye._array[1],Ye._array[2]),(this||_e)._renderer._enableLighting=!0,this||_e},Te.default.prototype.specularColor=function(xe,we,Se){this._assert3d("specularColor"),Te.default._validateParameters("specularColor",arguments);var Me=(this||_e).color.apply(this||_e,arguments);return(this||_e)._renderer.specularColors=[Me._array[0],Me._array[1],Me._array[2]],this||_e},Te.default.prototype.directionalLight=function(xe,we,Se,Me,Ye,Ze){this._assert3d("directionalLight"),Te.default._validateParameters("directionalLight",arguments),xe=xe instanceof Te.default.Color?xe:this.color(xe,we,Se);var Qe,Ke;we=arguments[arguments.length-1],Se="number"==typeof we?(Qe=arguments[arguments.length-3],Ke=arguments[arguments.length-2],arguments[arguments.length-1]):(Qe=we.x,Ke=we.y,we.z),we=Math.sqrt(Qe*Qe+Ke*Ke+Se*Se);return(this||_e)._renderer.directionalLightDirections.push(Qe/we,Ke/we,Se/we),(this||_e)._renderer.directionalLightDiffuseColors.push(xe._array[0],xe._array[1],xe._array[2]),Array.prototype.push.apply((this||_e)._renderer.directionalLightSpecularColors,(this||_e)._renderer.specularColors),(this||_e)._renderer._enableLighting=!0,this||_e},Te.default.prototype.pointLight=function(xe,we,Se,Me,Ye,Ze){this._assert3d("pointLight"),Te.default._validateParameters("pointLight",arguments),xe=xe instanceof Te.default.Color?xe:this.color(xe,we,Se);var Qe,Ke;we=arguments[arguments.length-1],Se="number"==typeof we?(Qe=arguments[arguments.length-3],Ke=arguments[arguments.length-2],arguments[arguments.length-1]):(Qe=we.x,Ke=we.y,we.z);return(this||_e)._renderer.pointLightPositions.push(Qe,Ke,Se),(this||_e)._renderer.pointLightDiffuseColors.push(xe._array[0],xe._array[1],xe._array[2]),Array.prototype.push.apply((this||_e)._renderer.pointLightSpecularColors,(this||_e)._renderer.specularColors),(this||_e)._renderer._enableLighting=!0,this||_e},Te.default.prototype.imageLight=function(xe){(this||_e)._renderer.activeImageLight=xe,(this||_e)._renderer._enableLighting=!0},Te.default.prototype.lights=function(){this._assert3d("lights");var xe=this.color("rgb(128,128,128)");return this.ambientLight(xe),this.directionalLight(xe,0,0,-1),this||_e},Te.default.prototype.lightFalloff=function(xe,we,Se){return this._assert3d("lightFalloff"),Te.default._validateParameters("lightFalloff",arguments),xe<0&&(xe=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),we<0&&(we=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),Se<0&&(Se=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===xe&&0===we&&0===Se&&(xe=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),(this||_e)._renderer.constantAttenuation=xe,(this||_e)._renderer.linearAttenuation=we,(this||_e)._renderer.quadraticAttenuation=Se,this||_e},Te.default.prototype.spotLight=function(xe,we,Se,Me,Ye,Ze,Qe,Ke,Je,$e,et){this._assert3d("spotLight"),Te.default._validateParameters("spotLight",arguments);var tt,rt,ot,nt=arguments.length;switch(nt){case 11:case 10:tt=this.color(xe,we,Se),rt=new Te.default.Vector(Me,Ye,Ze),ot=new Te.default.Vector(Qe,Ke,Je);break;case 9:xe instanceof Te.default.Color?(tt=xe,rt=new Te.default.Vector(we,Se,Me),ot=new Te.default.Vector(Ye,Ze,Qe),$e=Ke,et=Je):Me instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Me,ot=new Te.default.Vector(Ye,Ze,Qe),$e=Ke,et=Je):Qe instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=new Te.default.Vector(Me,Ye,Ze),ot=Qe,$e=Ke,et=Je):(tt=this.color(xe,we,Se),rt=new Te.default.Vector(Me,Ye,Ze),ot=new Te.default.Vector(Qe,Ke,Je));break;case 8:$e=(ot=xe instanceof Te.default.Color?(tt=xe,rt=new Te.default.Vector(we,Se,Me),new Te.default.Vector(Ye,Ze,Qe)):Me instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Me,new Te.default.Vector(Ye,Ze,Qe)):(tt=this.color(xe,we,Se),rt=new Te.default.Vector(Me,Ye,Ze),Qe),Ke);break;case 7:xe instanceof Te.default.Color&&we instanceof Te.default.Vector?(tt=xe,rt=we,ot=new Te.default.Vector(Se,Me,Ye),$e=Ze,et=Qe):xe instanceof Te.default.Color&&Ye instanceof Te.default.Vector?(tt=xe,rt=new Te.default.Vector(we,Se,Me),ot=Ye,$e=Ze,et=Qe):Me instanceof Te.default.Vector&&Ye instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Me,ot=Ye,$e=Ze,et=Qe):ot=xe instanceof Te.default.Color?(tt=xe,rt=new Te.default.Vector(we,Se,Me),new Te.default.Vector(Ye,Ze,Qe)):Me instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Me,new Te.default.Vector(Ye,Ze,Qe)):(tt=this.color(xe,we,Se),rt=new Te.default.Vector(Me,Ye,Ze),Qe);break;case 6:Me instanceof Te.default.Vector&&Ye instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Me,ot=Ye,$e=Ze):xe instanceof Te.default.Color&&Ye instanceof Te.default.Vector?(tt=xe,rt=new Te.default.Vector(we,Se,Me),ot=Ye,$e=Ze):xe instanceof Te.default.Color&&we instanceof Te.default.Vector&&(tt=xe,rt=we,ot=new Te.default.Vector(Se,Me,Ye),$e=Ze);break;case 5:xe instanceof Te.default.Color&&we instanceof Te.default.Vector&&Se instanceof Te.default.Vector?(tt=xe,rt=we,ot=Se,$e=Me,et=Ye):Me instanceof Te.default.Vector&&Ye instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Me,ot=Ye):xe instanceof Te.default.Color&&Ye instanceof Te.default.Vector?(tt=xe,rt=new Te.default.Vector(we,Se,Me),ot=Ye):xe instanceof Te.default.Color&&we instanceof Te.default.Vector&&(tt=xe,rt=we,ot=new Te.default.Vector(Se,Me,Ye));break;case 4:tt=xe,rt=we,ot=Se,$e=Me;break;case 3:tt=xe,rt=we,ot=Se;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(nt<3?"few":"many"," arguments were provided")),this||_e}return(this||_e)._renderer.spotLightDiffuseColors.push(tt._array[0],tt._array[1],tt._array[2]),Array.prototype.push.apply((this||_e)._renderer.spotLightSpecularColors,(this||_e)._renderer.specularColors),(this||_e)._renderer.spotLightPositions.push(rt.x,rt.y,rt.z),ot.normalize(),(this||_e)._renderer.spotLightDirections.push(ot.x,ot.y,ot.z),void 0===$e&&($e=Math.PI/3),void 0!==et&&et<1?(et=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===et&&(et=100),$e=(this||_e)._renderer._pInst._toRadians($e),(this||_e)._renderer.spotLightAngle.push(Math.cos($e)),(this||_e)._renderer.spotLightConc.push(et),(this||_e)._renderer._enableLighting=!0,this||_e},Te.default.prototype.noLights=function(){this._assert3d("noLights");for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("noLights",we),(this||_e)._renderer._enableLighting=!1,(this||_e)._renderer.ambientLightColors.length=0,(this||_e)._renderer.specularColors=[1,1,1],(this||_e)._renderer.directionalLightDirections.length=0,(this||_e)._renderer.directionalLightDiffuseColors.length=0,(this||_e)._renderer.directionalLightSpecularColors.length=0,(this||_e)._renderer.pointLightPositions.length=0,(this||_e)._renderer.pointLightDiffuseColors.length=0,(this||_e)._renderer.pointLightSpecularColors.length=0,(this||_e)._renderer.spotLightPositions.length=0,(this||_e)._renderer.spotLightDirections.length=0,(this||_e)._renderer.spotLightDiffuseColors.length=0,(this||_e)._renderer.spotLightSpecularColors.length=0,(this||_e)._renderer.spotLightAngle.length=0,(this||_e)._renderer.spotLightConc.length=0,(this||_e)._renderer.constantAttenuation=1,(this||_e)._renderer.linearAttenuation=0,(this||_e)._renderer.quadraticAttenuation=0,(this||_e)._renderer._useShininess=1,this||_e};xe=Te.default;Se.default=xe},{"../core/main":275}],322:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Me=xe("../core/main"))&&Me.__esModule?Me:{default:Me};xe("./p5.Geometry"),Te.default.prototype.loadModel=function(xe){Te.default._validateParameters("loadModel",arguments);var we,Se,Me,Ye=xe.slice(-4),Ze=("boolean"==typeof arguments[1]?(we=arguments[1],Se=arguments[2],Me=arguments[3],void 0!==arguments[4]&&(Ye=arguments[4])):(we=!1,Se=arguments[1],Me=arguments[2],void 0!==arguments[3]&&(Ye=arguments[3])),new Te.default.Geometry),Qe=(Ze.gid="".concat(xe,"|").concat(we),this||_e);return Ye.match(/\.stl$/i)?this.httpDo(xe,"GET","arrayBuffer",(function(_e){!function(_e,xe){if(function(_e){for(var xe=new DataView(_e),we=[115,111,108,105,100],Se=0;Se<5;Se++)if(function(_e,xe,we){for(var Se=0,Te=_e.length;Se<Te;Se++)if(_e[Se]!==xe.getUint8(we+Se,!1))return;return 1}(we,xe,Se))return;return 1}(xe))!function(_e,xe){for(var we,Se,Me,Ye,Ze,Qe,Ke,Je=new DataView(xe),$e=Je.getUint32(80,!0),et=!1,tt=0;tt<70;tt++)1129270351===Je.getUint32(tt,!1)&&82===Je.getUint8(tt+4)&&61===Je.getUint8(tt+5)&&(et=!0,Ye=[],Ze=Je.getUint8(tt+6)/255,Qe=Je.getUint8(tt+7)/255,Ke=Je.getUint8(tt+8)/255);for(var rt=0;rt<$e;rt++){for(var ot,nt=84+50*rt,st=Je.getFloat32(nt,!0),it=Je.getFloat32(4+nt,!0),dt=Je.getFloat32(8+nt,!0),ht=(et&&(ot=Je.getUint16(48+nt,!0),Me=0==(32768&ot)?(we=(31&ot)/31,Se=(ot>>5&31)/31,(ot>>10&31)/31):(we=Ze,Se=Qe,Ke)),new Te.default.Vector(st,it,dt)),ft=1;ft<=3;ft++){var pt=nt+12*ft;pt=new Te.default.Vector(Je.getFloat32(pt,!0),Je.getFloat32(4+pt,!0),Je.getFloat32(8+pt,!0));_e.vertices.push(pt),_e.vertexNormals.push(ht),et&&Ye.push(we,Se,Me)}_e.faces.push([3*rt,3*rt+1,3*rt+2]),_e.uvs.push([0,0],[0,0],[0,0])}}(_e,xe);else{xe=new DataView(xe);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");xe=new TextDecoder("utf-8").decode(xe).split("\n");!function(_e,xe){for(var we,Se,Me="",Ye=[],Ze=0;Ze<xe.length;++Ze){for(var Qe=xe[Ze].trim(),Ke=Qe.split(" "),Je=0;Je<Ke.length;++Je)""===Ke[Je]&&Ke.splice(Je,1);if(0!==Ke.length)switch(Me){case"":if("solid"!==Ke[0])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "solid"'));Me="solid";break;case"solid":if("facet"!==Ke[0]||"normal"!==Ke[1])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "facet normal"'));we=new Te.default.Vector(parseFloat(Ke[2]),parseFloat(Ke[3]),parseFloat(Ke[4])),_e.vertexNormals.push(we,we,we),Me="facet normal";break;case"facet normal":if("outer"!==Ke[0]||"loop"!==Ke[1])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "outer loop"'));Me="vertex";break;case"vertex":if("vertex"===Ke[0])Se=new Te.default.Vector(parseFloat(Ke[1]),parseFloat(Ke[2]),parseFloat(Ke[3])),_e.vertices.push(Se),_e.uvs.push([0,0]),Ye.push(_e.vertices.indexOf(Se));else{if("endloop"!==Ke[0])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "vertex" or "endloop"'));_e.faces.push(Ye),Ye=[],Me="endloop"}break;case"endloop":if("endfacet"!==Ke[0])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "endfacet"'));Me="endfacet";break;case"endfacet":if("endsolid"!==Ke[0]){if("facet"!==Ke[0]||"normal"!==Ke[1])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "endsolid" or "facet normal"'));we=new Te.default.Vector(parseFloat(Ke[2]),parseFloat(Ke[3]),parseFloat(Ke[4])),_e.vertexNormals.push(we,we,we),Me="facet normal"}break;default:console.error('Invalid state "'.concat(Me,'"'))}}}(_e,xe)}}(Ze,_e),we&&Ze.normalize(),Qe._decrementPreload(),"function"==typeof Se&&Se(Ze)}),Me):Ye.match(/\.obj$/i)?this.loadStrings(xe,(function(_e){for(var xe=Ze,Me=_e,Ye={v:[],vt:[],vn:[]},Ke={},Je=0;Je<Me.length;++Je){var $e=Me[Je].trim().split(/\b\s+/);if(0<$e.length)if("v"===$e[0]||"vn"===$e[0]){var et=new Te.default.Vector(parseFloat($e[1]),parseFloat($e[2]),parseFloat($e[3]));Ye[$e[0]].push(et)}else if("vt"===$e[0]){et=[parseFloat($e[1]),1-parseFloat($e[2])];Ye[$e[0]].push(et)}else if("f"===$e[0])for(var tt=3;tt<$e.length;++tt){for(var rt=[],ot=[1,tt-1,tt],nt=0;nt<ot.length;++nt){var st=$e[ot[nt]],it=0;if(void 0!==Ke[st])it=Ke[st];else{for(var dt=st.split("/"),ht=0;ht<dt.length;ht++)dt[ht]=parseInt(dt[ht])-1;it=Ke[st]=xe.vertices.length,xe.vertices.push(Ye.v[dt[0]].copy()),Ye.vt[dt[1]]?xe.uvs.push(Ye.vt[dt[1]].slice()):xe.uvs.push([0,0]),Ye.vn[dt[2]]&&xe.vertexNormals.push(Ye.vn[dt[2]].copy())}rt.push(it)}rt[0]!==rt[1]&&rt[0]!==rt[2]&&rt[1]!==rt[2]&&xe.faces.push(rt)}}0===xe.vertexNormals.length&&xe.computeNormals(),we&&Ze.normalize(),Qe._decrementPreload(),"function"==typeof Se&&Se(Ze)}),Me):(Te.default._friendlyFileLoadError(3,xe),Me?Me():Te.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),Ze},Te.default.prototype.model=function(xe){this._assert3d("model"),Te.default._validateParameters("model",arguments),0<xe.vertices.length&&((this||_e)._renderer.geometryInHash(xe.gid)||(0===xe.edges.length&&xe._makeTriangleEdges(),xe._edgesToVertices(),(this||_e)._renderer.createBuffers(xe.gid,xe)),(this||_e)._renderer.drawBuffers(xe.gid))};var Me=Te.default;Se.default=Me},{"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201}],323:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}xe("./p5.Texture"),Te.default.prototype.loadShader=function(xe,we,Se,Me){Te.default._validateParameters("loadShader",arguments),Me=Me||console.error;function n(){Ze._decrementPreload(),Se&&Se(Ye)}var Ye=new Te.default.Shader,Ze=this||_e,Qe=!1,Ke=!1;return this.loadStrings(xe,(function(_e){Ye._vertSrc=_e.join("\n"),Ke=!0,Qe&&n()}),Me),this.loadStrings(we,(function(_e){Ye._fragSrc=_e.join("\n"),Qe=!0,Ke&&n()}),Me),Ye},Te.default.prototype.createShader=function(xe,we){return Te.default._validateParameters("createShader",arguments),new Te.default.Shader((this||_e)._renderer,xe,we)},Te.default.prototype.createFilterShader=function(xe){Te.default._validateParameters("createFilterShader",arguments);var we=xe.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";we=new Te.default.Shader((this||_e)._renderer,we,xe);return(this||_e)._renderer.GL?we.ensureCompiledOnContext(this||_e):we.ensureCompiledOnContext((this||_e)._renderer.getFilterGraphicsLayer()),we},Te.default.prototype.shader=function(xe){return this._assert3d("shader"),Te.default._validateParameters("shader",arguments),xe.ensureCompiledOnContext(this||_e),xe.isStrokeShader()?(this||_e)._renderer.userStrokeShader=xe:((this||_e)._renderer.userFillShader=xe,(this||_e)._renderer._useNormalMaterial=!1),this||_e},Te.default.prototype.resetShader=function(){return(this||_e)._renderer.userFillShader=(this||_e)._renderer.userStrokeShader=null,this||_e},Te.default.prototype.texture=function(xe){return this._assert3d("texture"),Te.default._validateParameters("texture",arguments),xe.gifProperties&&xe._animateGif(this||_e),(this||_e)._renderer.drawMode=Me.TEXTURE,(this||_e)._renderer._useNormalMaterial=!1,(this||_e)._renderer._tex=xe,(this||_e)._renderer._setProperty("_doFill",!0),this||_e},Te.default.prototype.textureMode=function(xe){xe!==Me.IMAGE&&xe!==Me.NORMAL?console.warn("You tried to set ".concat(xe," textureMode only supports IMAGE & NORMAL ")):(this||_e)._renderer.textureMode=xe},Te.default.prototype.textureWrap=function(xe){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:xe,Se=((this||_e)._renderer.textureWrapX=xe,(this||_e)._renderer.textureWrapY=we,!0),Te=!1,Me=void 0;try{for(var Ye,Ze=(this||_e)._renderer.textures.values()[Symbol.iterator]();!(Se=(Ye=Ze.next()).done);Se=!0)Ye.value.setWrapMode(xe,we)}catch(xe){Te=!0,Me=xe}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Me}}},Te.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("normalMaterial",we),(this||_e)._renderer.drawMode=Me.FILL,(this||_e)._renderer._useSpecularMaterial=!1,(this||_e)._renderer._useEmissiveMaterial=!1,(this||_e)._renderer._useNormalMaterial=!0,(this||_e)._renderer.curFillColor=[1,1,1,1],(this||_e)._renderer._setProperty("_doFill",!0),this.noStroke(),this||_e},Te.default.prototype.ambientMaterial=function(xe,we,Se){this._assert3d("ambientMaterial"),Te.default._validateParameters("ambientMaterial",arguments);var Me=Te.default.prototype.color.apply(this||_e,arguments);return(this||_e)._renderer._hasSetAmbient=!0,(this||_e)._renderer.curAmbientColor=Me._array,(this||_e)._renderer._useNormalMaterial=!1,(this||_e)._renderer._enableLighting=!0,(this||_e)._renderer._setProperty("_doFill",!0),this||_e},Te.default.prototype.emissiveMaterial=function(xe,we,Se,Me){this._assert3d("emissiveMaterial"),Te.default._validateParameters("emissiveMaterial",arguments);var Ye=Te.default.prototype.color.apply(this||_e,arguments);return(this||_e)._renderer.curEmissiveColor=Ye._array,(this||_e)._renderer._useEmissiveMaterial=!0,(this||_e)._renderer._useNormalMaterial=!1,(this||_e)._renderer._enableLighting=!0,this||_e},Te.default.prototype.specularMaterial=function(xe,we,Se,Me){this._assert3d("specularMaterial"),Te.default._validateParameters("specularMaterial",arguments);var Ye=Te.default.prototype.color.apply(this||_e,arguments);return(this||_e)._renderer.curSpecularColor=Ye._array,(this||_e)._renderer._useSpecularMaterial=!0,(this||_e)._renderer._useNormalMaterial=!1,(this||_e)._renderer._enableLighting=!0,this||_e},Te.default.prototype.shininess=function(xe){return this._assert3d("shininess"),Te.default._validateParameters("shininess",arguments),(this||_e)._renderer._useShininess=xe=xe<1?1:xe,this||_e},Te.default.RendererGL.prototype._applyColorBlend=function(xe){var we=(this||_e).GL,Se=(this||_e).drawMode===Me.TEXTURE;Se=(this||_e).userFillShader||(this||_e).userStrokeShader||(this||_e).userPointShader||Se||(this||_e).curBlendMode!==Me.BLEND||xe[xe.length-1]<1||(this||_e)._isErasing;return Se!==(this||_e)._isBlending&&(Se||(this||_e).curBlendMode!==Me.BLEND&&(this||_e).curBlendMode!==Me.ADD?we.enable(we.BLEND):we.disable(we.BLEND),we.depthMask(!0),(this||_e)._isBlending=Se),this._applyBlendMode(),xe},Te.default.RendererGL.prototype._applyBlendMode=function(){if((this||_e)._cachedBlendMode!==(this||_e).curBlendMode){var xe=(this||_e).GL;switch((this||_e).curBlendMode){case Me.BLEND:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ONE,xe.ONE_MINUS_SRC_ALPHA);break;case Me.ADD:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ONE,xe.ONE);break;case Me.REMOVE:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ZERO,xe.ONE_MINUS_SRC_ALPHA);break;case Me.MULTIPLY:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.DST_COLOR,xe.ONE_MINUS_SRC_ALPHA);break;case Me.SCREEN:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ONE,xe.ONE_MINUS_SRC_COLOR);break;case Me.EXCLUSION:xe.blendEquationSeparate(xe.FUNC_ADD,xe.FUNC_ADD),xe.blendFuncSeparate(xe.ONE_MINUS_DST_COLOR,xe.ONE_MINUS_SRC_COLOR,xe.ONE,xe.ONE);break;case Me.REPLACE:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ONE,xe.ZERO);break;case Me.SUBTRACT:xe.blendEquationSeparate(xe.FUNC_REVERSE_SUBTRACT,xe.FUNC_ADD),xe.blendFuncSeparate(xe.ONE,xe.ONE,xe.ONE,xe.ONE_MINUS_SRC_ALPHA);break;case Me.DARKEST:(this||_e).blendExt?(xe.blendEquationSeparate((this||_e).blendExt.MIN||(this||_e).blendExt.MIN_EXT,xe.FUNC_ADD),xe.blendFuncSeparate(xe.ONE,xe.ONE,xe.ONE,xe.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case Me.LIGHTEST:(this||_e).blendExt?(xe.blendEquationSeparate((this||_e).blendExt.MAX||(this||_e).blendExt.MAX_EXT,xe.FUNC_ADD),xe.blendFuncSeparate(xe.ONE,xe.ONE,xe.ONE,xe.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}(this||_e)._isErasing||((this||_e)._cachedBlendMode=(this||_e).curBlendMode)}};var Ye=Te.default;Se.default=Ye},{"../core/constants":264,"../core/main":275,"./p5.Texture":334,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],324:[function(xe,we,Se){xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.string.sub"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}Te.default.prototype.camera=function(){var xe;this._assert3d("camera");for(var we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("camera",Se),(xe=(this||_e)._renderer._curCamera).camera.apply(xe,Se),this||_e},Te.default.prototype.perspective=function(){var xe;this._assert3d("perspective");for(var we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("perspective",Se),(xe=(this||_e)._renderer._curCamera).perspective.apply(xe,Se),this||_e},Te.default.prototype.ortho=function(){var xe;this._assert3d("ortho");for(var we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("ortho",Se),(xe=(this||_e)._renderer._curCamera).ortho.apply(xe,Se),this||_e},Te.default.prototype.frustum=function(){var xe;this._assert3d("frustum");for(var we=arguments.length,Se=new Array(we),Me=0;Me<we;Me++)Se[Me]=arguments[Me];return Te.default._validateParameters("frustum",Se),(xe=(this||_e)._renderer._curCamera).frustum.apply(xe,Se),this||_e},Te.default.prototype.createCamera=function(){this._assert3d("createCamera");var xe=new Te.default.Camera((this||_e)._renderer);return xe._computeCameraDefaultSettings(),xe._setDefaultCamera(),(this||_e)._renderer._curCamera=xe},Te.default.Camera=function(){function t(xe){if(!((this||_e)instanceof t))throw new TypeError("Cannot call a class as a function");(this||_e)._renderer=xe,(this||_e).cameraType="default",(this||_e).cameraMatrix=new Te.default.Matrix,(this||_e).projMatrix=new Te.default.Matrix,(this||_e).yScale=1}var xe,we,Se;return xe=t,(we=[{key:"perspective",value:function(xe,we,Se,Me){(this||_e).cameraType=0<arguments.length?"custom":"default",void 0===xe?(xe=(this||_e).defaultCameraFOV,(this||_e).cameraFOV=xe):(this||_e).cameraFOV=(this||_e)._renderer._pInst._toRadians(xe),void 0===we&&(we=(this||_e).defaultAspectRatio),void 0===Se&&(Se=(this||_e).defaultCameraNear),void 0===Me&&(Me=(this||_e).defaultCameraFar),Se<=1e-4&&(Se=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),Me<Se&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),(this||_e).aspectRatio=we,(this||_e).cameraNear=Se,(this||_e).cameraFar=Me,(this||_e).projMatrix=Te.default.Matrix.identity();xe=1/Math.tan((this||_e).cameraFOV/2);var Ye=1/((this||_e).cameraNear-(this||_e).cameraFar);(this||_e).projMatrix.set(xe/we,0,0,0,0,-xe*(this||_e).yScale,0,0,0,0,(Me+Se)*Ye,-1,0,0,2*Me*Se*Ye,0),this._isActive()&&(this||_e)._renderer.uPMatrix.set((this||_e).projMatrix.mat4[0],(this||_e).projMatrix.mat4[1],(this||_e).projMatrix.mat4[2],(this||_e).projMatrix.mat4[3],(this||_e).projMatrix.mat4[4],(this||_e).projMatrix.mat4[5],(this||_e).projMatrix.mat4[6],(this||_e).projMatrix.mat4[7],(this||_e).projMatrix.mat4[8],(this||_e).projMatrix.mat4[9],(this||_e).projMatrix.mat4[10],(this||_e).projMatrix.mat4[11],(this||_e).projMatrix.mat4[12],(this||_e).projMatrix.mat4[13],(this||_e).projMatrix.mat4[14],(this||_e).projMatrix.mat4[15])}},{key:"ortho",value:function(xe,we,Se,Me,Ye,Ze){void 0===xe&&(xe=-(this||_e)._renderer.width/2),void 0===we&&(we=+(this||_e)._renderer.width/2),void 0===Se&&(Se=-(this||_e)._renderer.height/2),void 0===Me&&(Me=+(this||_e)._renderer.height/2),void 0===Ye&&(Ye=0),void 0===Ze&&(Ze=Math.max((this||_e)._renderer.width,(this||_e)._renderer.height)),(this||_e).cameraNear=Ye;var Qe=we-xe,Ke=Me-Se,Je=((this||_e).cameraFar=Ze)-Ye,$e=2/Qe,et=2/Ke*(this||_e).yScale,tt=-2/Je;we=-(we+xe)/Qe,xe=-(Me+Se)/Ke,Qe=-(Ze+Ye)/Je;(this||_e).projMatrix=Te.default.Matrix.identity(),(this||_e).projMatrix.set($e,0,0,0,0,-et,0,0,0,0,tt,0,we,xe,Qe,1),this._isActive()&&(this||_e)._renderer.uPMatrix.set((this||_e).projMatrix.mat4[0],(this||_e).projMatrix.mat4[1],(this||_e).projMatrix.mat4[2],(this||_e).projMatrix.mat4[3],(this||_e).projMatrix.mat4[4],(this||_e).projMatrix.mat4[5],(this||_e).projMatrix.mat4[6],(this||_e).projMatrix.mat4[7],(this||_e).projMatrix.mat4[8],(this||_e).projMatrix.mat4[9],(this||_e).projMatrix.mat4[10],(this||_e).projMatrix.mat4[11],(this||_e).projMatrix.mat4[12],(this||_e).projMatrix.mat4[13],(this||_e).projMatrix.mat4[14],(this||_e).projMatrix.mat4[15]),(this||_e).cameraType="custom"}},{key:"frustum",value:function(xe,we,Se,Me,Ye,Ze){void 0===xe&&(xe=.05*-(this||_e)._renderer.width),void 0===we&&(we=.05*+(this||_e)._renderer.width),void 0===Se&&(Se=.05*+(this||_e)._renderer.height),void 0===Me&&(Me=.05*-(this||_e)._renderer.height),void 0===Ye&&(Ye=(this||_e).defaultCameraNear),void 0===Ze&&(Ze=(this||_e).defaultCameraFar),(this||_e).cameraNear=Ye;var Qe=we-xe,Ke=Me-Se,Je=((this||_e).cameraFar=Ze)-Ye,$e=2*Ye/Qe,et=2*Ye/Ke*(this||_e).yScale,tt=-2*Ze*Ye/Je;we=(we+xe)/Qe,xe=(Me+Se)/Ke,Qe=-(Ze+Ye)/Je;(this||_e).projMatrix=Te.default.Matrix.identity(),(this||_e).projMatrix.set($e,0,0,0,0,-et,0,0,we,xe,Qe,-1,0,0,tt,0),this._isActive()&&(this||_e)._renderer.uPMatrix.set((this||_e).projMatrix.mat4[0],(this||_e).projMatrix.mat4[1],(this||_e).projMatrix.mat4[2],(this||_e).projMatrix.mat4[3],(this||_e).projMatrix.mat4[4],(this||_e).projMatrix.mat4[5],(this||_e).projMatrix.mat4[6],(this||_e).projMatrix.mat4[7],(this||_e).projMatrix.mat4[8],(this||_e).projMatrix.mat4[9],(this||_e).projMatrix.mat4[10],(this||_e).projMatrix.mat4[11],(this||_e).projMatrix.mat4[12],(this||_e).projMatrix.mat4[13],(this||_e).projMatrix.mat4[14],(this||_e).projMatrix.mat4[15]),(this||_e).cameraType="custom"}},{key:"_rotateView",value:function(xe,we,Se,Me){var Ye=(this||_e).centerX,Ze=(this||_e).centerY,Qe=(this||_e).centerZ,Ke=(Ye-=(this||_e).eyeX,Ze-=(this||_e).eyeY,Qe-=(this||_e).eyeZ,Te.default.Matrix.identity((this||_e)._renderer._pInst));xe=(Ke.rotate((this||_e)._renderer._pInst._toRadians(xe),we,Se,Me),[Ye*Ke.mat4[0]+Ze*Ke.mat4[4]+Qe*Ke.mat4[8],Ye*Ke.mat4[1]+Ze*Ke.mat4[5]+Qe*Ke.mat4[9],Ye*Ke.mat4[2]+Ze*Ke.mat4[6]+Qe*Ke.mat4[10]]);xe[0]+=(this||_e).eyeX,xe[1]+=(this||_e).eyeY,xe[2]+=(this||_e).eyeZ,this.camera((this||_e).eyeX,(this||_e).eyeY,(this||_e).eyeZ,xe[0],xe[1],xe[2],(this||_e).upX,(this||_e).upY,(this||_e).upZ)}},{key:"pan",value:function(_e){var xe=this._getLocalAxes();this._rotateView(_e,xe.y[0],xe.y[1],xe.y[2])}},{key:"tilt",value:function(_e){var xe=this._getLocalAxes();this._rotateView(_e,xe.x[0],xe.x[1],xe.x[2])}},{key:"lookAt",value:function(xe,we,Se){this.camera((this||_e).eyeX,(this||_e).eyeY,(this||_e).eyeZ,xe,we,Se,(this||_e).upX,(this||_e).upY,(this||_e).upZ)}},{key:"camera",value:function(xe,we,Se,Te,Me,Ye,Ze,Qe,Ke){void 0===xe&&(xe=(this||_e).defaultEyeX,we=(this||_e).defaultEyeY,Se=(this||_e).defaultEyeZ,Te=xe,Me=we,Qe=1,Ke=Ze=Ye=0),(this||_e).eyeX=xe,(this||_e).eyeY=we,(this||_e).eyeZ=Se,void 0!==Te&&((this||_e).centerX=Te,(this||_e).centerY=Me,(this||_e).centerZ=Ye),void 0!==Ze&&((this||_e).upX=Ze,(this||_e).upY=Qe,(this||_e).upZ=Ke);Te=this._getLocalAxes(),(this||_e).cameraMatrix.set(Te.x[0],Te.y[0],Te.z[0],0,Te.x[1],Te.y[1],Te.z[1],0,Te.x[2],Te.y[2],Te.z[2],0,0,0,0,1),Me=-xe;return(this||_e).cameraMatrix.translate([Me,-we,-Se]),this._isActive()&&(this||_e)._renderer.uMVMatrix.set((this||_e).cameraMatrix.mat4[0],(this||_e).cameraMatrix.mat4[1],(this||_e).cameraMatrix.mat4[2],(this||_e).cameraMatrix.mat4[3],(this||_e).cameraMatrix.mat4[4],(this||_e).cameraMatrix.mat4[5],(this||_e).cameraMatrix.mat4[6],(this||_e).cameraMatrix.mat4[7],(this||_e).cameraMatrix.mat4[8],(this||_e).cameraMatrix.mat4[9],(this||_e).cameraMatrix.mat4[10],(this||_e).cameraMatrix.mat4[11],(this||_e).cameraMatrix.mat4[12],(this||_e).cameraMatrix.mat4[13],(this||_e).cameraMatrix.mat4[14],(this||_e).cameraMatrix.mat4[15]),this||_e}},{key:"move",value:function(xe,we,Se){var Te=this._getLocalAxes();xe=[Te.x[0]*xe,Te.x[1]*xe,Te.x[2]*xe],we=[Te.y[0]*we,Te.y[1]*we,Te.y[2]*we],Te=[Te.z[0]*Se,Te.z[1]*Se,Te.z[2]*Se];this.camera((this||_e).eyeX+xe[0]+we[0]+Te[0],(this||_e).eyeY+xe[1]+we[1]+Te[1],(this||_e).eyeZ+xe[2]+we[2]+Te[2],(this||_e).centerX+xe[0]+we[0]+Te[0],(this||_e).centerY+xe[1]+we[1]+Te[1],(this||_e).centerZ+xe[2]+we[2]+Te[2],(this||_e).upX,(this||_e).upY,(this||_e).upZ)}},{key:"setPosition",value:function(xe,we,Se){var Te=xe-(this||_e).eyeX,Me=we-(this||_e).eyeY,Ye=Se-(this||_e).eyeZ;this.camera(xe,we,Se,(this||_e).centerX+Te,(this||_e).centerY+Me,(this||_e).centerZ+Ye,(this||_e).upX,(this||_e).upY,(this||_e).upZ)}},{key:"set",value:function(xe){for(var we=0,Se=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];we<Se.length;we++){var Te=Se[we];(this||_e)[Te]=xe[Te]}(this||_e).cameraMatrix=xe.cameraMatrix.copy(),(this||_e).projMatrix=xe.projMatrix.copy(),this._isActive()&&((this||_e)._renderer.uMVMatrix.mat4=(this||_e).cameraMatrix.mat4.slice(),(this||_e)._renderer.uPMatrix.mat4=(this||_e).projMatrix.mat4.slice())}},{key:"slerp",value:function(xe,we,Se){var Me,Ye,Ze,Qe,Ke,Je,$e,et,tt,rt,ot,nt,st,it,dt,ht,ft,pt;0===Se?this.set(xe):1===Se?this.set(we):(0!==(this||_e).projMatrix.mat4[15]&&((this||_e).projMatrix.mat4[0]=xe.projMatrix.mat4[0]*Math.pow(we.projMatrix.mat4[0]/xe.projMatrix.mat4[0],Se),(this||_e).projMatrix.mat4[5]=xe.projMatrix.mat4[5]*Math.pow(we.projMatrix.mat4[5]/xe.projMatrix.mat4[5],Se),this._isActive()&&((this||_e)._renderer.uPMatrix.mat4=(this||_e).projMatrix.mat4.slice())),Qe=new Te.default.Vector(xe.eyeX,xe.eyeY,xe.eyeZ),Ke=new Te.default.Vector(we.eyeX,we.eyeY,we.eyeZ),ht=new Te.default.Vector(xe.centerX,xe.centerY,xe.centerZ),pt=new Te.default.Vector(we.centerX,we.centerY,we.centerZ),Ze=Te.default.Vector.dist(Qe,ht),Me=Te.default.Vector.dist(Ke,pt),Me=Ze*Math.pow(Me/Ze,Se),Ze=Te.default.Vector.sub(Qe,Ke),Ye=1,1e-6<(ft=(it=Qe.copy().sub(Ke).sub(ht).add(pt)).magSq())&&(Ye=Te.default.Vector.dot(Ze,it)/ft,Ye=Math.max(0,Math.min(Ye,1))),Ze=Te.default.Vector.lerp(Te.default.Vector.lerp(Qe,ht,Ye),Te.default.Vector.lerp(Ke,pt,Ye),Se),it=xe.cameraMatrix.createSubMatrix3x3(),ft=we.cameraMatrix.createSubMatrix3x3(),Qe=it.row(2),ht=ft.row(2),Ke=it.row(1),pt=ft.row(1),xe=new Te.default.Vector,we=new Te.default.Vector,Je=new Te.default.Vector,$e=new Te.default.Vector,1-(et=.5*((it=(ft=ft.mult3x3(it.copy().transpose3x3())).diagonal())[0]+it[1]+it[2]-1))<1e-7?(xe.set(Te.default.Vector.lerp(Qe,ht,Se)).normalize(),Je.set(xe).mult(Ye*Me).add(Ze),$e.set(xe).mult((Ye-1)*Me).add(Ze),we.set(Te.default.Vector.lerp(Ke,pt,Se)).normalize()):(ht=1/(1-et),pt=Math.max(it[0],it[1],it[2]),nt=ft.mat3[1]+ft.mat3[3],st=ft.mat3[2]+ft.mat3[6],dt=ft.mat3[5]+ft.mat3[7],pt=pt===it[0]?(rt=.5*nt*(ht/=tt=Math.sqrt((it[0]-et)*ht)),ot=.5*st*ht,.5*(ft.mat3[7]-ft.mat3[5])/tt):pt===it[1]?(ot=.5*dt*(ht/=rt=Math.sqrt((it[1]-et)*ht)),tt=.5*nt*ht,.5*(ft.mat3[2]-ft.mat3[6])/rt):(tt=.5*st*(ht/=ot=Math.sqrt((it[2]-et)*ht)),rt=.5*dt*ht,.5*(ft.mat3[3]-ft.mat3[1])/ot),nt=Se*Math.atan2(pt,et),st=Math.cos(nt),it=Math.sin(nt),(pt=new Te.default.Matrix("mat3",[st+(dt=1-st)*tt*tt,dt*(ht=tt*rt)+it*ot,dt*(ft=ot*tt)-it*rt,dt*ht-it*ot,st+dt*rt*rt,dt*(Se=rt*ot)+it*tt,dt*ft+it*rt,dt*Se-it*tt,st+dt*ot*ot])).multiplyVec3(Qe,xe),Je.set(xe).mult(Ye*Me).add(Ze),$e.set(xe).mult((Ye-1)*Me).add(Ze),pt.multiplyVec3(Ke,we)),this.camera(Je.x,Je.y,Je.z,$e.x,$e.y,$e.z,we.x,we.y,we.z))}},{key:"_computeCameraDefaultSettings",value:function(){(this||_e).defaultAspectRatio=(this||_e)._renderer.width/(this||_e)._renderer.height,(this||_e).defaultEyeX=0,(this||_e).defaultEyeY=0,(this||_e).defaultEyeZ=800,(this||_e).defaultCameraFOV=2*Math.atan((this||_e)._renderer.height/2/(this||_e).defaultEyeZ),(this||_e).defaultCenterX=0,(this||_e).defaultCenterY=0,(this||_e).defaultCenterZ=0,(this||_e).defaultCameraNear=.1*(this||_e).defaultEyeZ,(this||_e).defaultCameraFar=10*(this||_e).defaultEyeZ}},{key:"_setDefaultCamera",value:function(){(this||_e).cameraFOV=(this||_e).defaultCameraFOV,(this||_e).aspectRatio=(this||_e).defaultAspectRatio,(this||_e).eyeX=(this||_e).defaultEyeX,(this||_e).eyeY=(this||_e).defaultEyeY,(this||_e).eyeZ=(this||_e).defaultEyeZ,(this||_e).centerX=(this||_e).defaultCenterX,(this||_e).centerY=(this||_e).defaultCenterY,(this||_e).centerZ=(this||_e).defaultCenterZ,(this||_e).upX=0,(this||_e).upY=1,(this||_e).upZ=0,(this||_e).cameraNear=(this||_e).defaultCameraNear,(this||_e).cameraFar=(this||_e).defaultCameraFar,this.perspective(),this.camera(),(this||_e).cameraType="default"}},{key:"_resize",value:function(){"default"===(this||_e).cameraType&&(this._computeCameraDefaultSettings(),(this||_e).cameraFOV=(this||_e).defaultCameraFOV,(this||_e).aspectRatio=(this||_e).defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var xe=new Te.default.Camera((this||_e)._renderer);return xe.cameraFOV=(this||_e).cameraFOV,xe.aspectRatio=(this||_e).aspectRatio,xe.eyeX=(this||_e).eyeX,xe.eyeY=(this||_e).eyeY,xe.eyeZ=(this||_e).eyeZ,xe.centerX=(this||_e).centerX,xe.centerY=(this||_e).centerY,xe.centerZ=(this||_e).centerZ,xe.upX=(this||_e).upX,xe.upY=(this||_e).upY,xe.upZ=(this||_e).upZ,xe.cameraNear=(this||_e).cameraNear,xe.cameraFar=(this||_e).cameraFar,xe.cameraType=(this||_e).cameraType,xe.cameraMatrix=(this||_e).cameraMatrix.copy(),xe.projMatrix=(this||_e).projMatrix.copy(),xe.yScale=(this||_e).yScale,xe}},{key:"_getLocalAxes",value:function(){var xe=(this||_e).eyeX-(this||_e).centerX,we=(this||_e).eyeY-(this||_e).centerY,Se=(this||_e).eyeZ-(this||_e).centerZ,Te=Math.sqrt(xe*xe+we*we+Se*Se),Me=(Te=(0!==Te&&(xe/=Te,we/=Te,Se/=Te),(this||_e).upX),(Qe=(this||_e).upY)*Se-(Ke=(this||_e).upZ)*we),Ye=-Te*Se+Ke*xe,Ze=Te*we-Qe*xe,Qe=(Te=we*Ze-Se*Ye,-xe*Ze+Se*Me),Ke=xe*Ye-we*Me,Je=Math.sqrt(Me*Me+Ye*Ye+Ze*Ze);Je=(0!==Je&&(Me/=Je,Ye/=Je,Ze/=Je),Math.sqrt(Te*Te+Qe*Qe+Ke*Ke));return 0!==Je&&(Te/=Je,Qe/=Je,Ke/=Je),{x:[Me,Ye,Ze],y:[Te,Qe,Ke],z:[xe,we,Se]}}},{key:"_orbit",value:function(xe,we,Se){var Me=(this||_e).eyeX-(this||_e).centerX,Ye=(this||_e).eyeY-(this||_e).centerY,Ze=(this||_e).eyeZ-(this||_e).centerZ,Qe=Math.hypot(Me,Ye,Ze),Ke=(Me=new Te.default.Vector(Me,Ye,Ze).normalize(),Ye=new Te.default.Vector((this||_e).upX,(this||_e).upY,(this||_e).upZ).normalize(),Ze=new Te.default.Vector.cross(Ye,Me).normalize(),new Te.default.Vector.cross(Ze,Ye));Se=((Qe=(Qe*=Math.pow(10,Se))<(this||_e).cameraNear?(this||_e).cameraNear:Qe)>(this||_e).cameraFar&&(Qe=(this||_e).cameraFar),Math.acos(Math.max(-1,Math.min(1,Te.default.Vector.dot(Me,Ye))))+we),we=xe;(Se<=0||Se>=Math.PI)&&((this||_e).upX*=-1,(this||_e).upY*=-1,(this||_e).upZ*=-1),Ye.mult(Math.cos(Se)),Ke.mult(Math.cos(we)*Math.sin(Se)),Ze.mult(Math.sin(we)*Math.sin(Se)),Me.set(Ye).add(Ke).add(Ze),(this||_e).eyeX=Qe*Me.x+(this||_e).centerX,(this||_e).eyeY=Qe*Me.y+(this||_e).centerY,(this||_e).eyeZ=Qe*Me.z+(this||_e).centerZ,this.camera((this||_e).eyeX,(this||_e).eyeY,(this||_e).eyeZ,(this||_e).centerX,(this||_e).centerY,(this||_e).centerZ,(this||_e).upX,(this||_e).upY,(this||_e).upZ)}},{key:"_orbitFree",value:function(xe,we,Se){var Me=(this||_e).eyeX-(this||_e).centerX,Ye=(this||_e).eyeY-(this||_e).centerY,Ze=(this||_e).eyeZ-(this||_e).centerZ,Qe=Math.hypot(Me,Ye,Ze),Ke=(Me=new Te.default.Vector(Me,Ye,Ze).normalize(),Ye=new Te.default.Vector((this||_e).upX,(this||_e).upY,(this||_e).upZ),Ze=new Te.default.Vector.cross(Ye,Me).normalize(),new Te.default.Vector.cross(Me,Ze)),Je=Math.atan2(we,xe),$e=(Je=(Ke.mult(Math.sin(Je)),Ze.mult(Math.cos(Je)).add(Ke),Math.sqrt(xe*xe+we*we)),Ke=new Te.default.Vector.cross(Me,Ze),xe=((Qe=(Qe*=Math.pow(10,Se))<(this||_e).cameraNear?(this||_e).cameraNear:Qe)>(this||_e).cameraFar&&(Qe=(this||_e).cameraFar),Math.cos(Je)),we=Math.sin(Je),Se=Ye.dot(Me),Je=Ye.dot(Ze),Se*xe+Je*we);Se=-Se*we+Je*xe,Je=Ye.dot(Ke);Ye.x=$e*Me.x+Se*Ze.x+Je*Ke.x,Ye.y=$e*Me.y+Se*Ze.y+Je*Ke.y,Ye.z=$e*Me.z+Se*Ze.z+Je*Ke.z,Ze.mult(-we),Me.mult(xe).add(Ze).mult(Qe),this.camera(Me.x+(this||_e).centerX,Me.y+(this||_e).centerY,Me.z+(this||_e).centerZ,(this||_e).centerX,(this||_e).centerY,(this||_e).centerZ,Ye.x,Ye.y,Ye.z)}},{key:"_isActive",value:function(){return(this||_e)===(this||_e)._renderer._curCamera}}])&&n(xe.prototype,we),Se&&n(xe,Se),t}(),Te.default.prototype.setCamera=function(xe){(this||_e)._renderer._curCamera=xe,(this||_e)._renderer.uPMatrix.set(xe.projMatrix.mat4[0],xe.projMatrix.mat4[1],xe.projMatrix.mat4[2],xe.projMatrix.mat4[3],xe.projMatrix.mat4[4],xe.projMatrix.mat4[5],xe.projMatrix.mat4[6],xe.projMatrix.mat4[7],xe.projMatrix.mat4[8],xe.projMatrix.mat4[9],xe.projMatrix.mat4[10],xe.projMatrix.mat4[11],xe.projMatrix.mat4[12],xe.projMatrix.mat4[13],xe.projMatrix.mat4[14],xe.projMatrix.mat4[15])};xe=Te.default.Camera;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.string.sub":200}],325:[function(xe,we,Se){xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.log2"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.log2"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}xe.default.DataArray=function(){function o(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128,we=this||_e,Se=o;if(!(we instanceof Se))throw new TypeError("Cannot call a class as a function");(this||_e).length=0,(this||_e).data=new Float32Array(xe),(this||_e).initialLength=xe}var xe,we,Se;return xe=o,(we=[{key:"dataArray",value:function(){return this.subArray(0,(this||_e).length)}},{key:"clear",value:function(){(this||_e).length=0}},{key:"rescale",value:function(){var xe;(this||_e).length<(this||_e).data.length/2&&(xe=1<<Math.ceil(Math.log2((this||_e).length)),(xe=new Float32Array(xe)).set((this||_e).data.subarray(0,(this||_e).length),0),(this||_e).data=xe)}},{key:"reset",value:function(){this.clear(),(this||_e).data=new Float32Array((this||_e).initialLength)}},{key:"push",value:function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];this.ensureLength((this||_e).length+we.length),(this||_e).data.set(we,(this||_e).length),(this||_e).length+=we.length}},{key:"slice",value:function(xe,we){return(this||_e).data.slice(xe,Math.min(we,(this||_e).length))}},{key:"subArray",value:function(xe,we){return(this||_e).data.subarray(xe,Math.min(we,(this||_e).length))}},{key:"ensureLength",value:function(xe){for(;(this||_e).data.length<xe;){var we=new Float32Array(2*(this||_e).data.length);we.set((this||_e).data,0),(this||_e).data=we}}}])&&n(xe.prototype,we),Se&&n(xe,Se),o}();xe=xe.default.DataArray;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.log2":171,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],326:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.reflect.get"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint8-clamped-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint8-clamped-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Je=xe("../core/main"))&&Je.__esModule?Je:{default:Je},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=l();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants")),Ye=xe("./p5.Texture"),Ze=xe("./p5.RendererGL");function l(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,l=function(){return _e},_e)}function u(_e,xe){return function(_e){if(Array.isArray(_e))return _e}(_e)||function(_e,xe){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e)){var we=[],Se=!0,Te=!1,Me=void 0;try{for(var Ye,Ze=_e[Symbol.iterator]();!(Se=(Ye=Ze.next()).done)&&(we.push(Ye.value),!xe||we.length!==xe);Se=!0);}catch(_e){Te=!0,Me=_e}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Me}}return we}}(_e,xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(_e,xe,we){return xe in _e?Object.defineProperty(_e,xe,{value:we,enumerable:!0,configurable:!0,writable:!0}):_e[xe]=we,_e}function c(_e,xe){if(!(_e instanceof xe))throw new TypeError("Cannot call a class as a function")}function d(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function h(_e,xe,we){xe&&d(_e.prototype,xe),we&&d(_e,we)}function m(_e,xe,we){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(_e,xe,we){_e=function(_e,xe){for(;!Object.prototype.hasOwnProperty.call(_e,xe)&&null!==(_e=v(_e)););return _e}(_e,xe);if(_e)return(_e=Object.getOwnPropertyDescriptor(_e,xe)).get?_e.get.call(we):_e.value})(_e,xe,we||_e)}function y(_e,xe){return(y=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}function g(xe){return function(){var we,Se=v(xe);Se=(we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?(we=v(this||_e).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||_e,arguments),this||_e);if(!we||"object"!==i(we)&&"function"!=typeof we){if(void 0!==Se)return Se;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return we}}function v(_e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(_e)}var Qe=function(xe){var we=o;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&y(we,xe);var Se=g(o);function o(xe){var we;return c(this||_e,o),(we=Se.call(this||_e,xe.target._renderer)).fbo=xe,we.yScale=-1,we}return h(o,[{key:"_computeCameraDefaultSettings",value:function(){m(v(o.prototype),"_computeCameraDefaultSettings",this||_e).call(this||_e),(this||_e).defaultAspectRatio=(this||_e).fbo.width/(this||_e).fbo.height,(this||_e).defaultCameraFOV=2*Math.atan((this||_e).fbo.height/2/(this||_e).defaultEyeZ)}}]),o}(Te.default.Camera),Ke=(Te.default.FramebufferCamera=Qe,function(){function r(xe,we){c(this||_e,r),(this||_e).framebuffer=xe,(this||_e).property=we}return h(r,[{key:"rawTexture",value:function(){return(this||_e).framebuffer[(this||_e).property]}},{key:"width",get:function(){return(this||_e).framebuffer.width*(this||_e).framebuffer.density}},{key:"height",get:function(){return(this||_e).framebuffer.height*(this||_e).framebuffer.density}}]),r}()),Je=(Te.default.FramebufferTexture=Ke,function(){function o(xe){var we=this||_e,Se=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};xe=(c(this||_e,o),(this||_e).target=xe,(this||_e).target._renderer.framebuffers.add(this||_e),(this||_e)._isClipApplied=!1,(this||_e).pixels=[],(this||_e).format=Se.format||Me.UNSIGNED_BYTE,(this||_e).channels=Se.channels||(xe._renderer._pInst._glAttributes.alpha?Me.RGBA:Me.RGB),(this||_e).useDepth=void 0===Se.depth||Se.depth,(this||_e).depthFormat=Se.depthFormat||Me.FLOAT,(this||_e).textureFiltering=Se.textureFiltering||Me.LINEAR,void 0===Se.antialias?(this||_e).antialiasSamples=xe._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof Se.antialias?(this||_e).antialiasSamples=Se.antialias:(this||_e).antialiasSamples=Se.antialias?2:0,(this||_e).antialias=0<(this||_e).antialiasSamples,(this||_e).antialias&&xe.webglVersion!==Me.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),(this||_e).antialias=!1),Se.width&&Se.height?((this||_e).width=Se.width,(this||_e).height=Se.height,(this||_e).autoSized=!1):(void 0===Se.width!=(void 0===Se.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),(this||_e).width=xe.width,(this||_e).height=xe.height,(this||_e).autoSized=!0),(this||_e).density=Se.density||xe.pixelDensity(),xe._renderer.GL);if((this||_e).gl=xe,this._checkIfFormatsAvailable(),Se.stencil&&!(this||_e).useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),(this||_e).useStencil=(this||_e).useDepth&&(void 0===Se.stencil||Se.stencil),(this||_e).framebuffer=xe.createFramebuffer(),!(this||_e).framebuffer)throw new Error("Unable to create a framebuffer");if((this||_e).antialias&&((this||_e).aaFramebuffer=xe.createFramebuffer(),!(this||_e).aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();Se=(this||_e).target._renderer._curCamera;(this||_e).defaultCamera=this.createCamera(),(this||_e).target._renderer._curCamera=Se,this.draw((function(){return we.target.clear()}))}return h(o,[{key:"resize",value:function(xe,we){(this||_e).autoSized=!1,(this||_e).width=xe,(this||_e).height=we,this._handleResize()}},{key:"pixelDensity",value:function(xe){if(!xe)return(this||_e).density;(this||_e).autoSized=!1,(this||_e).density=xe,this._handleResize()}},{key:"autoSized",value:function(xe){if(void 0===xe)return(this||_e).autoSized;(this||_e).autoSized=xe,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var xe=(this||_e).gl;xe=((this||_e).useDepth&&(this||_e).target.webglVersion===Me.WEBGL&&!xe.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),(this||_e).useDepth=!1),(this||_e).useDepth&&(this||_e).target.webglVersion===Me.WEBGL&&(this||_e).depthFormat===Me.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),(this||_e).depthFormat=Me.UNSIGNED_INT),[Me.UNSIGNED_BYTE,Me.FLOAT,Me.HALF_FLOAT].includes((this||_e).format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),(this||_e).format=Me.UNSIGNED_BYTE),(this||_e).useDepth&&![Me.UNSIGNED_INT,Me.FLOAT].includes((this||_e).depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),(this||_e).depthFormat=Me.FLOAT),(0,Ye.checkWebGLCapabilities)((this||_e).target._renderer));xe.float||(this||_e).format!==Me.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),(this||_e).format=Me.UNSIGNED_BYTE),(this||_e).useDepth&&!xe.float&&(this||_e).depthFormat===Me.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),(this||_e).depthFormat=Me.UNSIGNED_INT),xe.halfFloat||(this||_e).format!==Me.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),(this||_e).format=Me.UNSIGNED_BYTE),(this||_e).channels===Me.RGB&&[Me.FLOAT,Me.HALF_FLOAT].includes((this||_e).format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),(this||_e).channels=Me.RGBA)}},{key:"_recreateTextures",value:function(){var xe=(this||_e).gl,we=(this._updateSize(),xe.getParameter(xe.TEXTURE_BINDING_2D)),Se=xe.getParameter(xe.FRAMEBUFFER_BINDING),Ye=xe.createTexture();if(!Ye)throw new Error("Unable to create color texture");xe.bindTexture(xe.TEXTURE_2D,Ye);var Ze=this._glColorFormat();if(xe.texImage2D(xe.TEXTURE_2D,0,Ze.internalFormat,(this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density,0,Ze.format,Ze.type,null),(this||_e).colorTexture=Ye,xe.bindFramebuffer(xe.FRAMEBUFFER,(this||_e).framebuffer),xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,Ye,0),(this||_e).useDepth){Ye=xe.createTexture();if(!Ye)throw new Error("Unable to create depth texture");var Qe=this._glDepthFormat();xe.bindTexture(xe.TEXTURE_2D,Ye),xe.texImage2D(xe.TEXTURE_2D,0,Qe.internalFormat,(this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density,0,Qe.format,Qe.type,null),xe.framebufferTexture2D(xe.FRAMEBUFFER,(this||_e).useStencil?xe.DEPTH_STENCIL_ATTACHMENT:xe.DEPTH_ATTACHMENT,xe.TEXTURE_2D,Ye,0),(this||_e).depthTexture=Ye}(this||_e).antialias&&((this||_e).colorRenderbuffer=xe.createRenderbuffer(),xe.bindRenderbuffer(xe.RENDERBUFFER,(this||_e).colorRenderbuffer),xe.renderbufferStorageMultisample(xe.RENDERBUFFER,Math.max(0,Math.min((this||_e).antialiasSamples,xe.getParameter(xe.MAX_SAMPLES))),Ze.internalFormat,(this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density),(this||_e).useDepth&&(Qe=this._glDepthFormat(),(this||_e).depthRenderbuffer=xe.createRenderbuffer(),xe.bindRenderbuffer(xe.RENDERBUFFER,(this||_e).depthRenderbuffer),xe.renderbufferStorageMultisample(xe.RENDERBUFFER,Math.max(0,Math.min((this||_e).antialiasSamples,xe.getParameter(xe.MAX_SAMPLES))),Qe.internalFormat,(this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density)),xe.bindFramebuffer(xe.FRAMEBUFFER,(this||_e).aaFramebuffer),xe.framebufferRenderbuffer(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.RENDERBUFFER,(this||_e).colorRenderbuffer),(this||_e).useDepth&&xe.framebufferRenderbuffer(xe.FRAMEBUFFER,(this||_e).useStencil?xe.DEPTH_STENCIL_ATTACHMENT:xe.DEPTH_ATTACHMENT,xe.RENDERBUFFER,(this||_e).depthRenderbuffer)),(this||_e).useDepth&&((this||_e).depth=new Ke(this||_e,"depthTexture"),Ye=xe.NEAREST,(this||_e).depthP5Texture=new Te.default.Texture((this||_e).target._renderer,(this||_e).depth,{minFilter:Ye,magFilter:Ye}),(this||_e).target._renderer.textures.set((this||_e).depth,(this||_e).depthP5Texture)),(this||_e).color=new Ke(this||_e,"colorTexture");Ze=(this||_e).textureFiltering===Me.LINEAR?xe.LINEAR:xe.NEAREST;(this||_e).colorP5Texture=new Te.default.Texture((this||_e).target._renderer,(this||_e).color,{minFilter:Ze,magFilter:Ze}),(this||_e).target._renderer.textures.set((this||_e).color,(this||_e).colorP5Texture),xe.bindTexture(xe.TEXTURE_2D,we),xe.bindFramebuffer(xe.FRAMEBUFFER,Se)}},{key:"_glColorFormat",value:function(){var xe,we,Se=(this||_e).gl,Te=(this||_e).format===Me.FLOAT?Se.FLOAT:(this||_e).format===Me.HALF_FLOAT?(this||_e).target.webglVersion===Me.WEBGL2?Se.HALF_FLOAT:Se.getExtension("OES_texture_half_float").HALF_FLOAT_OES:Se.UNSIGNED_BYTE,Ye=(this||_e).channels===Me.RGBA?Se.RGBA:Se.RGB;return{internalFormat:(this||_e).target.webglVersion===Me.WEBGL2?(s(we={},Se.FLOAT,s({},Se.RGBA,Se.RGBA32F)),s(we,Se.HALF_FLOAT,s({},Se.RGBA,Se.RGBA16F)),s(we,Se.UNSIGNED_BYTE,(s(xe={},Se.RGBA,Se.RGBA8),s(xe,Se.RGB,Se.RGB8),xe)),we[Te][Ye]):(this||_e).format===Me.HALF_FLOAT?Se.RGBA:Ye,format:Ye,type:Te}}},{key:"_glDepthFormat",value:function(){var xe=(this||_e).gl,we=(this||_e).useStencil?(this||_e).depthFormat===Me.FLOAT?xe.FLOAT_32_UNSIGNED_INT_24_8_REV:(this||_e).target.webglVersion===Me.WEBGL2?xe.UNSIGNED_INT_24_8:xe.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:(this||_e).depthFormat===Me.FLOAT?xe.FLOAT:xe.UNSIGNED_INT,Se=(this||_e).useStencil?xe.DEPTH_STENCIL:xe.DEPTH_COMPONENT;xe=(this||_e).useStencil?(this||_e).depthFormat===Me.FLOAT?xe.DEPTH32F_STENCIL8:(this||_e).target.webglVersion===Me.WEBGL2?xe.DEPTH24_STENCIL8:xe.DEPTH_STENCIL:(this||_e).target.webglVersion===Me.WEBGL2?(this||_e).depthFormat===Me.FLOAT?xe.DEPTH_COMPONENT32F:xe.DEPTH_COMPONENT24:xe.DEPTH_COMPONENT;return{internalFormat:xe,format:Se,type:we}}},{key:"_updateSize",value:function(){(this||_e).autoSized&&((this||_e).width=(this||_e).target.width,(this||_e).height=(this||_e).target.height,(this||_e).density=(this||_e).target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){(this||_e).autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var xe=(this||_e).color,we=(this||_e).depth,Se=(this||_e).colorRenderbuffer,Te=(this||_e).depthRenderbuffer;xe=(this._deleteTexture(xe),we&&this._deleteTexture(we),(this||_e).gl);Se&&xe.deleteRenderbuffer(Se),Te&&xe.deleteRenderbuffer(Te),this._recreateTextures(),(this||_e).defaultCamera._resize()}},{key:"createCamera",value:function(){var xe=new Qe(this||_e);return xe._computeCameraDefaultSettings(),xe._setDefaultCamera(),(this||_e).target._renderer._curCamera=xe}},{key:"_deleteTexture",value:function(xe){(this||_e).gl.deleteTexture(xe.rawTexture()),(this||_e).target._renderer.textures.delete(xe)}},{key:"remove",value:function(){var xe=(this||_e).gl;this._deleteTexture((this||_e).color),(this||_e).depth&&this._deleteTexture((this||_e).depth),xe.deleteFramebuffer((this||_e).framebuffer),(this||_e).aaFramebuffer&&xe.deleteFramebuffer((this||_e).aaFramebuffer),(this||_e).depthRenderbuffer&&xe.deleteRenderbuffer((this||_e).depthRenderbuffer),(this||_e).colorRenderbuffer&&xe.deleteRenderbuffer((this||_e).colorRenderbuffer),(this||_e).target._renderer.framebuffers.delete(this||_e)}},{key:"begin",value:function(){(this||_e).prevFramebuffer=(this||_e).target._renderer.activeFramebuffer(),(this||_e).prevFramebuffer&&(this||_e).prevFramebuffer._beforeEnd(),(this||_e).target._renderer.activeFramebuffers.push(this||_e),this._beforeBegin(),(this||_e).target.push(),(this||_e).target.setCamera((this||_e).defaultCamera),(this||_e).target._renderer.uMVMatrix.set((this||_e).target._renderer._curCamera.cameraMatrix.mat4[0],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[1],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[2],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[3],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[4],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[5],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[6],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[7],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[8],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[9],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[10],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[11],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[12],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[13],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[14],(this||_e).target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"_framebufferToBind",value:function(){return(this||_e).antialias?(this||_e).aaFramebuffer:(this||_e).framebuffer}},{key:"_beforeBegin",value:function(){var xe=(this||_e).gl;xe.bindFramebuffer(xe.FRAMEBUFFER,this._framebufferToBind()),(this||_e).target._renderer.viewport((this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density)}},{key:"_beforeEnd",value:function(){if((this||_e).antialias){var xe=(this||_e).gl,we=(xe.bindFramebuffer(xe.READ_FRAMEBUFFER,(this||_e).aaFramebuffer),xe.bindFramebuffer(xe.DRAW_FRAMEBUFFER,(this||_e).framebuffer),[[xe.COLOR_BUFFER_BIT,(this||_e).colorP5Texture.glMagFilter]]);(this||_e).useDepth&&we.push([xe.DEPTH_BUFFER_BIT,(this||_e).depthP5Texture.glMagFilter]);for(var Se=0,Te=we;Se<Te.length;Se++){var Me=u(Te[Se],2),Ye=Me[0];Me=Me[1];xe.blitFramebuffer(0,0,(this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density,0,0,(this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density,Ye,Me)}}}},{key:"end",value:function(){var xe=(this||_e).gl;if((this||_e).target.pop(),(this||_e).target._renderer.activeFramebuffers.pop()!==(this||_e))throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),(this||_e).prevFramebuffer?(this||_e).prevFramebuffer._beforeBegin():(xe.bindFramebuffer(xe.FRAMEBUFFER,null),(this||_e).target._renderer.viewport((this||_e).target._renderer._origViewport.width,(this||_e).target._renderer._origViewport.height)),(this||_e).target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(_e){this.begin(),_e(),this.end()}},{key:"loadPixels",value:function(){var xe=(this||_e).gl,we=(this||_e).target._renderer.activeFramebuffer(),Se=(xe.bindFramebuffer(xe.FRAMEBUFFER,(this||_e).framebuffer),this._glColorFormat());(this||_e).pixels=(0,Ze.readPixelsWebGL)((this||_e).pixels,xe,(this||_e).framebuffer,0,0,(this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density,Se.format,Se.type),we?xe.bindFramebuffer(xe.FRAMEBUFFER,we._framebufferToBind()):xe.bindFramebuffer(xe.FRAMEBUFFER,null)}},{key:"get",value:function(xe,we,Se,Me){Te.default._validateParameters("p5.Framebuffer.get",arguments);var Ye=this._glColorFormat();if(void 0===xe&&void 0===we)we=xe=0,Se=(this||_e).width,Me=(this||_e).height;else if(void 0===Se&&void 0===Me)return(xe<0||we<0||xe>=(this||_e).width||we>=(this||_e).height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),xe=(this||_e).target.constrain(xe,0,(this||_e).width-1),we=(this||_e).target.constrain(we,0,(this||_e).height-1)),(0,Ze.readPixelWebGL)((this||_e).gl,(this||_e).framebuffer,xe*(this||_e).density,we*(this||_e).density,Ye.format,Ye.type);xe=(this||_e).target.constrain(xe,0,(this||_e).width-1),we=(this||_e).target.constrain(we,0,(this||_e).height-1),Se=(this||_e).target.constrain(Se,1,(this||_e).width-xe),Me=(this||_e).target.constrain(Me,1,(this||_e).height-we);for(var Qe=(0,Ze.readPixelsWebGL)(void 0,(this||_e).gl,(this||_e).framebuffer,xe*(this||_e).density,we*(this||_e).density,Se*(this||_e).density,Me*(this||_e).density,Ye.format,Ye.type),Ke=new Uint8ClampedArray(Se*Me*(this||_e).density*(this||_e).density*4),Je=(Ke.fill(255),Ye.type===(this||_e).gl.RGB?3:4),$e=0;$e<Me*(this||_e).density;$e++)for(var et=0;et<Se*(this||_e).density;et++)for(var tt=0;tt<4;tt++){var rt,ot=4*($e*Se*(this||_e).density+et)+tt;tt<Je&&(rt=4==Je?ot:($e*Se*(this||_e).density+et)*Je+tt,Ke[ot]=Qe[rt])}xe=new Te.default.Image(Se*(this||_e).density,Me*(this||_e).density);return xe.imageData=xe.canvas.getContext("2d").createImageData(xe.width,xe.height),xe.imageData.data.set(Ke),xe.pixels=xe.imageData.data,xe.updatePixels(),1!==(this||_e).density&&xe.resize(Se,Me),xe}},{key:"updatePixels",value:function(){var xe=(this||_e).gl,we=((this||_e).colorP5Texture.bindTexture(),this._glColorFormat()),Se=we.format===xe.RGBA?4:3,Te=(Se=(this||_e).width*(this||_e).height*(this||_e).density*(this||_e).density*Se,we.type===xe.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!((this||_e).pixels instanceof Te)||(this||_e).pixels.length!==Se)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");xe.texImage2D(xe.TEXTURE_2D,0,we.internalFormat,(this||_e).width*(this||_e).density,(this||_e).height*(this||_e).density,0,we.format,we.type,(this||_e).pixels),(this||_e).colorP5Texture.unbindTexture();Te=(this||_e).target._renderer.activeFramebuffer();(this||_e).antialias?(this.begin(),(this||_e).target.push(),(this||_e).target.imageMode((this||_e).target.CENTER),(this||_e).target.resetMatrix(),(this||_e).target.noStroke(),(this||_e).target.clear(),(this||_e).target.image(this||_e,0,0),(this||_e).target.pop(),(this||_e).useDepth&&(xe.clearDepth(1),xe.clear(xe.DEPTH_BUFFER_BIT)),this.end()):(xe.bindFramebuffer(xe.FRAMEBUFFER,(this||_e).framebuffer),(this||_e).useDepth&&(xe.clearDepth(1),xe.clear(xe.DEPTH_BUFFER_BIT)),Te?xe.bindFramebuffer(xe.FRAMEBUFFER,Te._framebufferToBind()):xe.bindFramebuffer(xe.FRAMEBUFFER,null))}}]),o}());xe=Te.default.Framebuffer=Je;Se.default=xe},{"../core/constants":264,"../core/main":275,"./p5.RendererGL":332,"./p5.Texture":334,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],327:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function c(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}Te.default.Geometry=function(){function o(xe,we,Se){if((this||_e)instanceof o)return(this||_e).vertices=[],(this||_e).lineVertices=new Te.default.DataArray,(this||_e).lineTangentsIn=new Te.default.DataArray,(this||_e).lineTangentsOut=new Te.default.DataArray,(this||_e).lineSides=new Te.default.DataArray,(this||_e).vertexNormals=[],(this||_e).faces=[],(this||_e).uvs=[],(this||_e).edges=[],(this||_e).vertexColors=[],(this||_e).vertexStrokeColors=[],(this||_e).lineVertexColors=new Te.default.DataArray,(this||_e).detailX=void 0!==xe?xe:1,(this||_e).detailY=void 0!==we?we:1,(this||_e).dirtyFlags={},Se instanceof Function&&Se.call(this||_e),this||_e;throw new TypeError("Cannot call a class as a function")}var xe,we,Se;return xe=o,(we=[{key:"reset",value:function(){(this||_e).lineVertices.clear(),(this||_e).lineTangentsIn.clear(),(this||_e).lineTangentsOut.clear(),(this||_e).lineSides.clear(),(this||_e).vertices.length=0,(this||_e).edges.length=0,(this||_e).vertexColors.length=0,(this||_e).vertexStrokeColors.length=0,(this||_e).lineVertexColors.clear(),(this||_e).vertexNormals.length=0,(this||_e).uvs.length=0,(this||_e).dirtyFlags={}}},{key:"clearColors",value:function(){return(this||_e).vertexColors=[],this||_e}},{key:"computeFaces",value:function(){(this||_e).faces.length=0;for(var xe,we,Se,Te=(this||_e).detailX+1,Me=0;Me<(this||_e).detailY;Me++)for(var Ye=0;Ye<(this||_e).detailX;Ye++)we=(Me+1)*Te+Ye+1,(this||_e).faces.push([Me*Te+Ye,xe=Me*Te+Ye+1,Se=(Me+1)*Te+Ye]),(this||_e).faces.push([Se,xe,we]);return this||_e}},{key:"_getFaceNormal",value:function(xe){xe=(this||_e).faces[xe];var we=(this||_e).vertices[xe[0]],Se=(this||_e).vertices[xe[1]],Me=(xe=(this||_e).vertices[xe[2]],Se=Te.default.Vector.sub(Se,we),xe=Te.default.Vector.sub(xe,we),we=Te.default.Vector.cross(Se,xe),Te.default.Vector.mag(we));Se=Me/(Te.default.Vector.mag(Se)*Te.default.Vector.mag(xe));return 0===Se||isNaN(Se)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),we):(1<Se&&(Se=1),we.mult(Math.asin(Se)/Me))}},{key:"computeNormals",value:function(){var xe,we=this||_e,Se=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Me.FLAT,Ye=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,Ze=(this||_e).vertexNormals,Qe=(this||_e).vertices,Ke=(this||_e).faces;if(Se===Me.SMOOTH){for(var Je={},$e=[],et=Math.pow(10,void 0===Ye?3:Ye),c=function(_e){return Math.round(_e*et)/et},d=function(_e){return"".concat(c(_e.x),",").concat(c(_e.y),",").concat(c(_e.z))},tt=0;tt<Qe.length;tt++){var rt=Qe[tt],ot=d(rt);void 0===Je[ot]&&(Je[ot]=$e.length,$e.push(rt))}Ke.forEach((function(_e){for(var xe=0;xe<3;++xe){var we=_e[xe];we=Qe[we],we=d(we);_e[xe]=Je[we]}})),(this||_e).edges.forEach((function(_e){for(var xe=0;xe<2;++xe){var we=_e[xe];we=Qe[we],we=d(we);_e[xe]=Je[we]}})),(this||_e).vertices=Qe=$e}for(xe=Ze.length=0;xe<Qe.length;++xe)Ze.push(new Te.default.Vector);for(Ke.forEach((function(_e,xe){for(var Se=we._getFaceNormal(xe),Te=0;Te<3;++Te){var Me=_e[Te];Ze[Me].add(Se)}})),xe=0;xe<Qe.length;++xe)Ze[xe].normalize();return this||_e}},{key:"averageNormals",value:function(){for(var xe=0;xe<=(this||_e).detailY;xe++){var we=(this||_e).detailX+1,Se=Te.default.Vector.add((this||_e).vertexNormals[xe*we],(this||_e).vertexNormals[xe*we+(this||_e).detailX]);Se=Te.default.Vector.div(Se,2);(this||_e).vertexNormals[xe*we]=Se,(this||_e).vertexNormals[xe*we+(this||_e).detailX]=Se}return this||_e}},{key:"averagePoleNormals",value:function(){for(var xe=new Te.default.Vector(0,0,0),we=0;we<(this||_e).detailX;we++)xe.add((this||_e).vertexNormals[we]);xe=Te.default.Vector.div(xe,(this||_e).detailX);for(var Se=0;Se<(this||_e).detailX;Se++)(this||_e).vertexNormals[Se]=xe;xe=new Te.default.Vector(0,0,0);for(var Me=(this||_e).vertices.length-1;Me>(this||_e).vertices.length-1-(this||_e).detailX;Me--)xe.add((this||_e).vertexNormals[Me]);xe=Te.default.Vector.div(xe,(this||_e).detailX);for(var Ye=(this||_e).vertices.length-1;Ye>(this||_e).vertices.length-1-(this||_e).detailX;Ye--)(this||_e).vertexNormals[Ye]=xe;return this||_e}},{key:"_makeTriangleEdges",value:function(){for(var xe=(this||_e).edges.length=0;xe<(this||_e).faces.length;xe++)(this||_e).edges.push([(this||_e).faces[xe][0],(this||_e).faces[xe][1]]),(this||_e).edges.push([(this||_e).faces[xe][1],(this||_e).faces[xe][2]]),(this||_e).edges.push([(this||_e).faces[xe][2],(this||_e).faces[xe][0]]);return this||_e}},{key:"_edgesToVertices",value:function(){(this||_e).lineVertices.clear(),(this||_e).lineTangentsIn.clear(),(this||_e).lineTangentsOut.clear(),(this||_e).lineSides.clear();for(var xe,we=new Map,Se=new Set,Te=0;Te<(this||_e).edges.length;Te++){var Me,Ye=(this||_e).edges[Te-1],Ze=(this||_e).edges[Te],Qe=(this||_e).vertices[Ze[0]],Ke=(this||_e).vertices[Ze[1]],Je=0<(this||_e).vertexStrokeColors.length?(this||_e).vertexStrokeColors.slice(4*Ze[0],4*(Ze[0]+1)):[0,0,0,0],$e=0<(this||_e).vertexStrokeColors.length?(this||_e).vertexStrokeColors.slice(4*Ze[1],4*(Ze[1]+1)):[0,0,0,0],et=Ke.copy().sub(Qe).normalize(),tt=0<et.magSq();tt&&this._addSegment(Qe,Ke,Je,$e,et),0<Te&&Ye[1]===Ze[0]?Se.has(Ze[0])||(Se.add(Ze[0]),we.delete(Ze[0]),xe&&tt&&et.dot(xe)<1-1e-8&&this._addJoin(Qe,xe,et,Je)):(tt&&!Se.has(Ze[0])&&((Me=we.get(Ze[0]))?(this._addJoin(Qe,Me.dir,et,Je),we.delete(Ze[0]),Se.add(Ze[0])):we.set(Ze[0],{point:Qe,dir:et.copy().mult(-1),color:Je})),xe&&!Se.has(Ye[1])&&((Me=we.get(Ye[1]))?(this._addJoin((this||_e).vertices[Ye[1]],xe,Me.dir.copy().mult(-1),Je),we.delete(Ye[1]),Se.add(Ye[1])):we.set(Ye[1],{point:(this||_e).vertices[Ye[1]],dir:xe,color:Je}),xe=void 0)),Te!==(this||_e).edges.length-1||Se.has(Ze[1])||((Qe=we.get(Ze[1]))?(this._addJoin(Ke,et,Qe.dir.copy().mult(-1),$e),we.delete(Ze[1]),Se.add(Ze[1])):we.set(Ze[1],{point:Ke,dir:et,color:$e})),tt&&(xe=et)}var rt=!0,ot=!1,nt=void 0;try{for(var st,it=we.values()[Symbol.iterator]();!(rt=(st=it.next()).done);rt=!0){var dt=st.value,ht=dt.point,ft=dt.dir,pt=dt.color;this._addCap(ht,ft,pt)}}catch(xe){ot=!0,nt=xe}finally{try{rt||null==it.return||it.return()}finally{if(ot)throw nt}}return this||_e}},{key:"_addSegment",value:function(xe,we,Se,Te,Me){xe=xe.array(),we=we.array();var Ye=Me.array();(this||_e).lineSides.push(1,1,-1,1,-1,-1);for(var Ze=0,Qe=[(this||_e).lineTangentsIn,(this||_e).lineTangentsOut];Ze<Qe.length;Ze++)for(var Ke=Qe[Ze],Je=0;Je<6;Je++)Ke.push.apply(Ke,c(Ye));return(Me=(this||_e).lineVertices).push.apply(Me,c(xe).concat(c(we),c(xe),c(we),c(we),c(xe))),(Me=(this||_e).lineVertexColors).push.apply(Me,c(Se).concat(c(Te),c(Se),c(Te),c(Te),c(Se))),this||_e}},{key:"_addCap",value:function(xe,we,Se){for(var Te,Me=xe.array(),Ye=we.array(),Ze=[0,0,0],Qe=0;Qe<6;Qe++)(Te=(this||_e).lineVertices).push.apply(Te,c(Me)),(Te=(this||_e).lineTangentsIn).push.apply(Te,c(Ye)),(Te=(this||_e).lineTangentsOut).push.apply(Te,Ze),(Te=(this||_e).lineVertexColors).push.apply(Te,c(Se));return(this||_e).lineSides.push(-1,2,-2,1,2,-1),this||_e}},{key:"_addJoin",value:function(xe,we,Se,Te){for(var Me,Ye=xe.array(),Ze=we.array(),Qe=Se.array(),Ke=0;Ke<12;Ke++)(Me=(this||_e).lineVertices).push.apply(Me,c(Ye)),(Me=(this||_e).lineTangentsIn).push.apply(Me,c(Ze)),(Me=(this||_e).lineTangentsOut).push.apply(Me,c(Qe)),(Me=(this||_e).lineVertexColors).push.apply(Me,c(Te));return(this||_e).lineSides.push(-1,-3,-2,-1,0,-3),(this||_e).lineSides.push(3,1,2,3,0,1),this||_e}},{key:"normalize",value:function(){if(0<(this||_e).vertices.length){for(var xe=(this||_e).vertices[0].copy(),we=(this||_e).vertices[0].copy(),Se=0;Se<(this||_e).vertices.length;Se++)xe.x=Math.max(xe.x,(this||_e).vertices[Se].x),we.x=Math.min(we.x,(this||_e).vertices[Se].x),xe.y=Math.max(xe.y,(this||_e).vertices[Se].y),we.y=Math.min(we.y,(this||_e).vertices[Se].y),xe.z=Math.max(xe.z,(this||_e).vertices[Se].z),we.z=Math.min(we.z,(this||_e).vertices[Se].z);for(var Me=Te.default.Vector.lerp(xe,we,.5),Ye=Te.default.Vector.sub(xe,we),Ze=200/Math.max(Math.max(Ye.x,Ye.y),Ye.z),Qe=0;Qe<(this||_e).vertices.length;Qe++)(this||_e).vertices[Qe].sub(Me),(this||_e).vertices[Qe].mult(Ze)}return this||_e}}])&&n(xe.prototype,we),Se&&n(xe,Se),o}();var Ye=Te.default.Geometry;Se.default=Ye},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],328:[function(xe,we,Se){xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}var Me=Array,O=function(_e){return Array.isArray(_e)};xe=("undefined"!=typeof Float32Array&&(Me=Float32Array,O=function(_e){return Array.isArray(_e)||_e instanceof Float32Array}),Te.default.Matrix=function(){function r(){var xe=this||_e,we=r;if(xe instanceof we)return arguments.length&&((xe=arguments.length-1)<0||arguments.length<=xe?void 0:arguments[xe])instanceof Te.default&&((this||_e).p5=(we=arguments.length-1)<0||arguments.length<=we?void 0:arguments[we]),"mat3"===(arguments.length<=0?void 0:arguments[0])?(this||_e).mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new Me([1,0,0,0,1,0,0,0,1]):(this||_e).mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new Me([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this||_e;throw new TypeError("Cannot call a class as a function")}var xe,we,Se;return xe=r,Se=[{key:"identity",value:function(_e){return new Te.default.Matrix(_e)}}],(we=[{key:"set",value:function(xe){return xe instanceof Te.default.Matrix?(this||_e).mat4=xe.mat4:O(xe)?(this||_e).mat4=xe:16===arguments.length&&((this||_e).mat4[0]=xe,(this||_e).mat4[1]=arguments[1],(this||_e).mat4[2]=arguments[2],(this||_e).mat4[3]=arguments[3],(this||_e).mat4[4]=arguments[4],(this||_e).mat4[5]=arguments[5],(this||_e).mat4[6]=arguments[6],(this||_e).mat4[7]=arguments[7],(this||_e).mat4[8]=arguments[8],(this||_e).mat4[9]=arguments[9],(this||_e).mat4[10]=arguments[10],(this||_e).mat4[11]=arguments[11],(this||_e).mat4[12]=arguments[12],(this||_e).mat4[13]=arguments[13],(this||_e).mat4[14]=arguments[14],(this||_e).mat4[15]=arguments[15]),this||_e}},{key:"get",value:function(){return new Te.default.Matrix((this||_e).mat4,(this||_e).p5)}},{key:"copy",value:function(){var xe;return void 0!==(this||_e).mat3?((xe=new Te.default.Matrix("mat3",(this||_e).p5)).mat3[0]=(this||_e).mat3[0],xe.mat3[1]=(this||_e).mat3[1],xe.mat3[2]=(this||_e).mat3[2],xe.mat3[3]=(this||_e).mat3[3],xe.mat3[4]=(this||_e).mat3[4],xe.mat3[5]=(this||_e).mat3[5],xe.mat3[6]=(this||_e).mat3[6],xe.mat3[7]=(this||_e).mat3[7],xe.mat3[8]=(this||_e).mat3[8]):((xe=new Te.default.Matrix((this||_e).p5)).mat4[0]=(this||_e).mat4[0],xe.mat4[1]=(this||_e).mat4[1],xe.mat4[2]=(this||_e).mat4[2],xe.mat4[3]=(this||_e).mat4[3],xe.mat4[4]=(this||_e).mat4[4],xe.mat4[5]=(this||_e).mat4[5],xe.mat4[6]=(this||_e).mat4[6],xe.mat4[7]=(this||_e).mat4[7],xe.mat4[8]=(this||_e).mat4[8],xe.mat4[9]=(this||_e).mat4[9],xe.mat4[10]=(this||_e).mat4[10],xe.mat4[11]=(this||_e).mat4[11],xe.mat4[12]=(this||_e).mat4[12],xe.mat4[13]=(this||_e).mat4[13],xe.mat4[14]=(this||_e).mat4[14],xe.mat4[15]=(this||_e).mat4[15]),xe}},{key:"transpose",value:function(xe){var we,Se,Me,Ye,Ze,Qe;return xe instanceof Te.default.Matrix?(we=xe.mat4[1],Se=xe.mat4[2],Me=xe.mat4[3],Ye=xe.mat4[6],Ze=xe.mat4[7],Qe=xe.mat4[11],(this||_e).mat4[0]=xe.mat4[0],(this||_e).mat4[1]=xe.mat4[4],(this||_e).mat4[2]=xe.mat4[8],(this||_e).mat4[3]=xe.mat4[12],(this||_e).mat4[4]=we,(this||_e).mat4[5]=xe.mat4[5],(this||_e).mat4[6]=xe.mat4[9],(this||_e).mat4[7]=xe.mat4[13],(this||_e).mat4[8]=Se,(this||_e).mat4[9]=Ye,(this||_e).mat4[10]=xe.mat4[10],(this||_e).mat4[11]=xe.mat4[14],(this||_e).mat4[12]=Me,(this||_e).mat4[13]=Ze,(this||_e).mat4[14]=Qe,(this||_e).mat4[15]=xe.mat4[15]):O(xe)&&(we=xe[1],Se=xe[2],Me=xe[3],Ye=xe[6],Ze=xe[7],Qe=xe[11],(this||_e).mat4[0]=xe[0],(this||_e).mat4[1]=xe[4],(this||_e).mat4[2]=xe[8],(this||_e).mat4[3]=xe[12],(this||_e).mat4[4]=we,(this||_e).mat4[5]=xe[5],(this||_e).mat4[6]=xe[9],(this||_e).mat4[7]=xe[13],(this||_e).mat4[8]=Se,(this||_e).mat4[9]=Ye,(this||_e).mat4[10]=xe[10],(this||_e).mat4[11]=xe[14],(this||_e).mat4[12]=Me,(this||_e).mat4[13]=Ze,(this||_e).mat4[14]=Qe,(this||_e).mat4[15]=xe[15]),this||_e}},{key:"invert",value:function(xe){xe instanceof Te.default.Matrix?(we=xe.mat4[0],Se=xe.mat4[1],Me=xe.mat4[2],Ye=xe.mat4[3],Ze=xe.mat4[4],Qe=xe.mat4[5],Ke=xe.mat4[6],Je=xe.mat4[7],$e=xe.mat4[8],et=xe.mat4[9],tt=xe.mat4[10],rt=xe.mat4[11],ot=xe.mat4[12],nt=xe.mat4[13],st=xe.mat4[14],it=xe.mat4[15]):O(xe)&&(we=xe[0],Se=xe[1],Me=xe[2],Ye=xe[3],Ze=xe[4],Qe=xe[5],Ke=xe[6],Je=xe[7],$e=xe[8],et=xe[9],tt=xe[10],rt=xe[11],ot=xe[12],nt=xe[13],st=xe[14],it=xe[15]);xe=we*Qe-Se*Ze;var we,Se,Me,Ye,Ze,Qe,Ke,Je,$e,et,tt,rt,ot,nt,st,it,dt=we*Ke-Me*Ze,ht=we*Je-Ye*Ze,ft=Se*Ke-Me*Qe,pt=Se*Je-Ye*Qe,mt=Me*Je-Ye*Ke,yt=$e*nt-et*ot,gt=$e*st-tt*ot,wt=$e*it-rt*ot,Dt=et*st-tt*nt,Xt=et*it-rt*nt,Yt=tt*it-rt*st,br=xe*Yt-dt*Xt+ht*Dt+ft*wt-pt*gt+mt*yt;return br?((this||_e).mat4[0]=(Qe*Yt-Ke*Xt+Je*Dt)*(br=1/br),(this||_e).mat4[1]=(Me*Xt-Se*Yt-Ye*Dt)*br,(this||_e).mat4[2]=(nt*mt-st*pt+it*ft)*br,(this||_e).mat4[3]=(tt*pt-et*mt-rt*ft)*br,(this||_e).mat4[4]=(Ke*wt-Ze*Yt-Je*gt)*br,(this||_e).mat4[5]=(we*Yt-Me*wt+Ye*gt)*br,(this||_e).mat4[6]=(st*ht-ot*mt-it*dt)*br,(this||_e).mat4[7]=($e*mt-tt*ht+rt*dt)*br,(this||_e).mat4[8]=(Ze*Xt-Qe*wt+Je*yt)*br,(this||_e).mat4[9]=(Se*wt-we*Xt-Ye*yt)*br,(this||_e).mat4[10]=(ot*pt-nt*ht+it*xe)*br,(this||_e).mat4[11]=(et*ht-$e*pt-rt*xe)*br,(this||_e).mat4[12]=(Qe*gt-Ze*Dt-Ke*yt)*br,(this||_e).mat4[13]=(we*Dt-Se*gt+Me*yt)*br,(this||_e).mat4[14]=(nt*dt-ot*ft-st*xe)*br,(this||_e).mat4[15]=($e*ft-et*dt+tt*xe)*br,this||_e):null}},{key:"invert3x3",value:function(){var xe=(this||_e).mat3[0],we=(this||_e).mat3[1],Se=(this||_e).mat3[2],Te=(this||_e).mat3[3],Me=(this||_e).mat3[4],Ye=(this||_e).mat3[5],Ze=(this||_e).mat3[6],Qe=(this||_e).mat3[7],Ke=(this||_e).mat3[8],Je=Ke*Me-Ye*Qe,$e=-Ke*Te+Ye*Ze,et=Qe*Te-Me*Ze,tt=xe*Je+we*$e+Se*et;return tt?((this||_e).mat3[0]=Je*(tt=1/tt),(this||_e).mat3[1]=(-Ke*we+Se*Qe)*tt,(this||_e).mat3[2]=(Ye*we-Se*Me)*tt,(this||_e).mat3[3]=$e*tt,(this||_e).mat3[4]=(Ke*xe-Se*Ze)*tt,(this||_e).mat3[5]=(-Ye*xe+Se*Te)*tt,(this||_e).mat3[6]=et*tt,(this||_e).mat3[7]=(-Qe*xe+we*Ze)*tt,(this||_e).mat3[8]=(Me*xe-we*Te)*tt,this||_e):null}},{key:"transpose3x3",value:function(xe){var we=(xe=void 0===xe?(this||_e).mat3:xe)[1],Se=xe[2],Te=xe[5];return(this||_e).mat3[0]=xe[0],(this||_e).mat3[1]=xe[3],(this||_e).mat3[2]=xe[6],(this||_e).mat3[3]=we,(this||_e).mat3[4]=xe[4],(this||_e).mat3[5]=xe[7],(this||_e).mat3[6]=Se,(this||_e).mat3[7]=Te,(this||_e).mat3[8]=xe[8],this||_e}},{key:"inverseTranspose",value:function(xe){xe=xe.mat4,void 0===(this||_e).mat3?Te.default._friendlyError("sorry, this function only works with mat3"):((this||_e).mat3[0]=xe[0],(this||_e).mat3[1]=xe[1],(this||_e).mat3[2]=xe[2],(this||_e).mat3[3]=xe[4],(this||_e).mat3[4]=xe[5],(this||_e).mat3[5]=xe[6],(this||_e).mat3[6]=xe[8],(this||_e).mat3[7]=xe[9],(this||_e).mat3[8]=xe[10]),xe=this.invert3x3();if(xe)xe.transpose3x3((this||_e).mat3);else for(var we=0;we<9;we++)(this||_e).mat3[we]=0;return this||_e}},{key:"determinant",value:function(){var xe=(this||_e).mat4[0]*(this||_e).mat4[5]-(this||_e).mat4[1]*(this||_e).mat4[4],we=(this||_e).mat4[0]*(this||_e).mat4[6]-(this||_e).mat4[2]*(this||_e).mat4[4],Se=(this||_e).mat4[0]*(this||_e).mat4[7]-(this||_e).mat4[3]*(this||_e).mat4[4],Te=(this||_e).mat4[1]*(this||_e).mat4[6]-(this||_e).mat4[2]*(this||_e).mat4[5],Me=(this||_e).mat4[1]*(this||_e).mat4[7]-(this||_e).mat4[3]*(this||_e).mat4[5],Ye=(this||_e).mat4[2]*(this||_e).mat4[7]-(this||_e).mat4[3]*(this||_e).mat4[6],Ze=(this||_e).mat4[8]*(this||_e).mat4[13]-(this||_e).mat4[9]*(this||_e).mat4[12],Qe=(this||_e).mat4[8]*(this||_e).mat4[14]-(this||_e).mat4[10]*(this||_e).mat4[12],Ke=(this||_e).mat4[8]*(this||_e).mat4[15]-(this||_e).mat4[11]*(this||_e).mat4[12],Je=(this||_e).mat4[9]*(this||_e).mat4[14]-(this||_e).mat4[10]*(this||_e).mat4[13],$e=(this||_e).mat4[9]*(this||_e).mat4[15]-(this||_e).mat4[11]*(this||_e).mat4[13];return xe*((this||_e).mat4[10]*(this||_e).mat4[15]-(this||_e).mat4[11]*(this||_e).mat4[14])-we*$e+Se*Je+Te*Ke-Me*Qe+Ye*Ze}},{key:"mult",value:function(xe){var we;if(xe===(this||_e)||xe===(this||_e).mat4)we=this.copy().mat4;else if(xe instanceof Te.default.Matrix)we=xe.mat4;else if(O(xe))we=xe;else{if(16!==arguments.length)return;we=arguments}xe=(this||_e).mat4[0];var Se=(this||_e).mat4[1],Me=(this||_e).mat4[2],Ye=(this||_e).mat4[3];return(this||_e).mat4[0]=xe*we[0]+Se*we[4]+Me*we[8]+Ye*we[12],(this||_e).mat4[1]=xe*we[1]+Se*we[5]+Me*we[9]+Ye*we[13],(this||_e).mat4[2]=xe*we[2]+Se*we[6]+Me*we[10]+Ye*we[14],(this||_e).mat4[3]=xe*we[3]+Se*we[7]+Me*we[11]+Ye*we[15],xe=(this||_e).mat4[4],Se=(this||_e).mat4[5],Me=(this||_e).mat4[6],Ye=(this||_e).mat4[7],(this||_e).mat4[4]=xe*we[0]+Se*we[4]+Me*we[8]+Ye*we[12],(this||_e).mat4[5]=xe*we[1]+Se*we[5]+Me*we[9]+Ye*we[13],(this||_e).mat4[6]=xe*we[2]+Se*we[6]+Me*we[10]+Ye*we[14],(this||_e).mat4[7]=xe*we[3]+Se*we[7]+Me*we[11]+Ye*we[15],xe=(this||_e).mat4[8],Se=(this||_e).mat4[9],Me=(this||_e).mat4[10],Ye=(this||_e).mat4[11],(this||_e).mat4[8]=xe*we[0]+Se*we[4]+Me*we[8]+Ye*we[12],(this||_e).mat4[9]=xe*we[1]+Se*we[5]+Me*we[9]+Ye*we[13],(this||_e).mat4[10]=xe*we[2]+Se*we[6]+Me*we[10]+Ye*we[14],(this||_e).mat4[11]=xe*we[3]+Se*we[7]+Me*we[11]+Ye*we[15],xe=(this||_e).mat4[12],Se=(this||_e).mat4[13],Me=(this||_e).mat4[14],Ye=(this||_e).mat4[15],(this||_e).mat4[12]=xe*we[0]+Se*we[4]+Me*we[8]+Ye*we[12],(this||_e).mat4[13]=xe*we[1]+Se*we[5]+Me*we[9]+Ye*we[13],(this||_e).mat4[14]=xe*we[2]+Se*we[6]+Me*we[10]+Ye*we[14],(this||_e).mat4[15]=xe*we[3]+Se*we[7]+Me*we[11]+Ye*we[15],this||_e}},{key:"apply",value:function(xe){var we;if(xe===(this||_e)||xe===(this||_e).mat4)we=this.copy().mat4;else if(xe instanceof Te.default.Matrix)we=xe.mat4;else if(O(xe))we=xe;else{if(16!==arguments.length)return;we=arguments}xe=(this||_e).mat4;var Se=xe[0],Me=xe[4],Ye=xe[8],Ze=xe[12];Se=(xe[0]=we[0]*Se+we[1]*Me+we[2]*Ye+we[3]*Ze,xe[4]=we[4]*Se+we[5]*Me+we[6]*Ye+we[7]*Ze,xe[8]=we[8]*Se+we[9]*Me+we[10]*Ye+we[11]*Ze,xe[12]=we[12]*Se+we[13]*Me+we[14]*Ye+we[15]*Ze,xe[1]),Me=xe[5],Ye=xe[9],Ze=xe[13],Se=(xe[1]=we[0]*Se+we[1]*Me+we[2]*Ye+we[3]*Ze,xe[5]=we[4]*Se+we[5]*Me+we[6]*Ye+we[7]*Ze,xe[9]=we[8]*Se+we[9]*Me+we[10]*Ye+we[11]*Ze,xe[13]=we[12]*Se+we[13]*Me+we[14]*Ye+we[15]*Ze,xe[2]),Me=xe[6],Ye=xe[10],Ze=xe[14],Se=(xe[2]=we[0]*Se+we[1]*Me+we[2]*Ye+we[3]*Ze,xe[6]=we[4]*Se+we[5]*Me+we[6]*Ye+we[7]*Ze,xe[10]=we[8]*Se+we[9]*Me+we[10]*Ye+we[11]*Ze,xe[14]=we[12]*Se+we[13]*Me+we[14]*Ye+we[15]*Ze,xe[3]),Me=xe[7],Ye=xe[11],Ze=xe[15];return xe[3]=we[0]*Se+we[1]*Me+we[2]*Ye+we[3]*Ze,xe[7]=we[4]*Se+we[5]*Me+we[6]*Ye+we[7]*Ze,xe[11]=we[8]*Se+we[9]*Me+we[10]*Ye+we[11]*Ze,xe[15]=we[12]*Se+we[13]*Me+we[14]*Ye+we[15]*Ze,this||_e}},{key:"scale",value:function(xe,we,Se){return xe instanceof Te.default.Vector?(we=xe.y,Se=xe.z,xe=xe.x):xe instanceof Array&&(we=xe[1],Se=xe[2],xe=xe[0]),(this||_e).mat4[0]*=xe,(this||_e).mat4[1]*=xe,(this||_e).mat4[2]*=xe,(this||_e).mat4[3]*=xe,(this||_e).mat4[4]*=we,(this||_e).mat4[5]*=we,(this||_e).mat4[6]*=we,(this||_e).mat4[7]*=we,(this||_e).mat4[8]*=Se,(this||_e).mat4[9]*=Se,(this||_e).mat4[10]*=Se,(this||_e).mat4[11]*=Se,this||_e}},{key:"rotate",value:function(xe,we,Se,Me){we instanceof Te.default.Vector?(Se=we.y,Me=we.z,we=we.x):we instanceof Array&&(Se=we[1],Me=we[2],we=we[0]);var Ye=Math.sqrt(we*we+Se*Se+Me*Me),Ze=(Ye=(we*=1/Ye,Se*=1/Ye,Me*=1/Ye,(this||_e).mat4[0]),(this||_e).mat4[1]),Qe=(this||_e).mat4[2],Ke=(this||_e).mat4[3],Je=(this||_e).mat4[4],$e=(this||_e).mat4[5],et=(this||_e).mat4[6],tt=(this||_e).mat4[7],rt=(this||_e).mat4[8],ot=(this||_e).mat4[9],nt=(this||_e).mat4[10],st=(this||_e).mat4[11],it=Math.sin(xe),dt=(xe=Math.cos(xe),1-xe),ht=we*we*dt+xe,ft=Se*we*dt+Me*it,pt=Me*we*dt-Se*it,mt=we*Se*dt-Me*it,yt=Se*Se*dt+xe,gt=Me*Se*dt+we*it,wt=we*Me*dt+Se*it;Se=Se*Me*dt-we*it,we=Me*Me*dt+xe;return(this||_e).mat4[0]=Ye*ht+Je*ft+rt*pt,(this||_e).mat4[1]=Ze*ht+$e*ft+ot*pt,(this||_e).mat4[2]=Qe*ht+et*ft+nt*pt,(this||_e).mat4[3]=Ke*ht+tt*ft+st*pt,(this||_e).mat4[4]=Ye*mt+Je*yt+rt*gt,(this||_e).mat4[5]=Ze*mt+$e*yt+ot*gt,(this||_e).mat4[6]=Qe*mt+et*yt+nt*gt,(this||_e).mat4[7]=Ke*mt+tt*yt+st*gt,(this||_e).mat4[8]=Ye*wt+Je*Se+rt*we,(this||_e).mat4[9]=Ze*wt+$e*Se+ot*we,(this||_e).mat4[10]=Qe*wt+et*Se+nt*we,(this||_e).mat4[11]=Ke*wt+tt*Se+st*we,this||_e}},{key:"translate",value:function(xe){var we=xe[0],Se=xe[1];xe=xe[2]||0;(this||_e).mat4[12]+=(this||_e).mat4[0]*we+(this||_e).mat4[4]*Se+(this||_e).mat4[8]*xe,(this||_e).mat4[13]+=(this||_e).mat4[1]*we+(this||_e).mat4[5]*Se+(this||_e).mat4[9]*xe,(this||_e).mat4[14]+=(this||_e).mat4[2]*we+(this||_e).mat4[6]*Se+(this||_e).mat4[10]*xe,(this||_e).mat4[15]+=(this||_e).mat4[3]*we+(this||_e).mat4[7]*Se+(this||_e).mat4[11]*xe}},{key:"rotateX",value:function(_e){this.rotate(_e,1,0,0)}},{key:"rotateY",value:function(_e){this.rotate(_e,0,1,0)}},{key:"rotateZ",value:function(_e){this.rotate(_e,0,0,1)}},{key:"perspective",value:function(xe,we,Se,Te){xe=1/Math.tan(xe/2);var Me=1/(Se-Te);return(this||_e).mat4[0]=xe/we,(this||_e).mat4[1]=0,(this||_e).mat4[2]=0,(this||_e).mat4[3]=0,(this||_e).mat4[4]=0,(this||_e).mat4[5]=xe,(this||_e).mat4[6]=0,(this||_e).mat4[7]=0,(this||_e).mat4[8]=0,(this||_e).mat4[9]=0,(this||_e).mat4[10]=(Te+Se)*Me,(this||_e).mat4[11]=-1,(this||_e).mat4[12]=0,(this||_e).mat4[13]=0,(this||_e).mat4[14]=2*Te*Se*Me,(this||_e).mat4[15]=0,this||_e}},{key:"ortho",value:function(xe,we,Se,Te,Me,Ye){var Ze=1/(xe-we),Qe=1/(Se-Te),Ke=1/(Me-Ye);return(this||_e).mat4[0]=-2*Ze,(this||_e).mat4[1]=0,(this||_e).mat4[2]=0,(this||_e).mat4[3]=0,(this||_e).mat4[4]=0,(this||_e).mat4[5]=-2*Qe,(this||_e).mat4[6]=0,(this||_e).mat4[7]=0,(this||_e).mat4[8]=0,(this||_e).mat4[9]=0,(this||_e).mat4[10]=2*Ke,(this||_e).mat4[11]=0,(this||_e).mat4[12]=(xe+we)*Ze,(this||_e).mat4[13]=(Te+Se)*Qe,(this||_e).mat4[14]=(Ye+Me)*Ke,(this||_e).mat4[15]=1,this||_e}},{key:"multiplyVec4",value:function(xe,we,Se,Te){var Me=new Array(4),Ye=(this||_e).mat4;return Me[0]=Ye[0]*xe+Ye[4]*we+Ye[8]*Se+Ye[12]*Te,Me[1]=Ye[1]*xe+Ye[5]*we+Ye[9]*Se+Ye[13]*Te,Me[2]=Ye[2]*xe+Ye[6]*we+Ye[10]*Se+Ye[14]*Te,Me[3]=Ye[3]*xe+Ye[7]*we+Ye[11]*Se+Ye[15]*Te,Me}},{key:"multiplyPoint",value:function(_e){var xe=_e.x,we=_e.y;_e=_e.z,xe=this.multiplyVec4(xe,we,_e,1);return new Te.default.Vector(xe[0],xe[1],xe[2])}},{key:"multiplyAndNormalizePoint",value:function(_e){var xe=_e.x,we=_e.y;_e=_e.z,xe=this.multiplyVec4(xe,we,_e,1);return xe[0]/=xe[3],xe[1]/=xe[3],xe[2]/=xe[3],new Te.default.Vector(xe[0],xe[1],xe[2])}},{key:"multiplyDirection",value:function(_e){var xe=_e.x,we=_e.y;_e=_e.z,xe=this.multiplyVec4(xe,we,_e,0);return new Te.default.Vector(xe[0],xe[1],xe[2])}},{key:"mult3x3",value:function(xe){var we;if(xe===(this||_e)||xe===(this||_e).mat3)we=this.copy().mat3;else if(xe instanceof Te.default.Matrix)we=xe.mat3;else if(O(xe))we=xe;else{if(9!==arguments.length)return;we=arguments}xe=(this||_e).mat3[0];var Se=(this||_e).mat3[1],Me=(this||_e).mat3[2];return(this||_e).mat3[0]=xe*we[0]+Se*we[3]+Me*we[6],(this||_e).mat3[1]=xe*we[1]+Se*we[4]+Me*we[7],(this||_e).mat3[2]=xe*we[2]+Se*we[5]+Me*we[8],xe=(this||_e).mat3[3],Se=(this||_e).mat3[4],Me=(this||_e).mat3[5],(this||_e).mat3[3]=xe*we[0]+Se*we[3]+Me*we[6],(this||_e).mat3[4]=xe*we[1]+Se*we[4]+Me*we[7],(this||_e).mat3[5]=xe*we[2]+Se*we[5]+Me*we[8],xe=(this||_e).mat3[6],Se=(this||_e).mat3[7],Me=(this||_e).mat3[8],(this||_e).mat3[6]=xe*we[0]+Se*we[3]+Me*we[6],(this||_e).mat3[7]=xe*we[1]+Se*we[4]+Me*we[7],(this||_e).mat3[8]=xe*we[2]+Se*we[5]+Me*we[8],this||_e}},{key:"column",value:function(xe){return new Te.default.Vector((this||_e).mat3[3*xe],(this||_e).mat3[3*xe+1],(this||_e).mat3[3*xe+2])}},{key:"row",value:function(xe){return new Te.default.Vector((this||_e).mat3[xe],(this||_e).mat3[xe+3],(this||_e).mat3[xe+6])}},{key:"diagonal",value:function(){return void 0!==(this||_e).mat3?[(this||_e).mat3[0],(this||_e).mat3[4],(this||_e).mat3[8]]:[(this||_e).mat4[0],(this||_e).mat4[5],(this||_e).mat4[10],(this||_e).mat4[15]]}},{key:"multiplyVec3",value:function(_e,xe){return(xe=void 0===xe?_e.copy():xe).x=this.row(0).dot(_e),xe.y=this.row(1).dot(_e),xe.z=this.row(2).dot(_e),xe}},{key:"createSubMatrix3x3",value:function(){var xe=new Te.default.Matrix("mat3");return xe.mat3[0]=(this||_e).mat4[0],xe.mat3[1]=(this||_e).mat4[1],xe.mat3[2]=(this||_e).mat4[2],xe.mat3[3]=(this||_e).mat4[4],xe.mat3[4]=(this||_e).mat4[5],xe.mat3[5]=(this||_e).mat4[6],xe.mat3[6]=(this||_e).mat4[8],xe.mat3[7]=(this||_e).mat4[9],xe.mat3[8]=(this||_e).mat4[10],xe}}])&&n(xe.prototype,we),Se&&n(xe,Se),r}(),Te.default.Matrix);Se.default=xe},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],329:[function(xe,we,Se){xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.map"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function o(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}xe.default.RenderBuffer=function(){function i(xe,we,Se,Te,Me,Ye){if(!((this||_e)instanceof i))throw new TypeError("Cannot call a class as a function");(this||_e).size=xe,(this||_e).src=we,(this||_e).dst=Se,(this||_e).attr=Te,(this||_e)._renderer=Me,(this||_e).map=Ye}var xe,we,Se;return xe=i,(we=[{key:"_prepareBuffer",value:function(xe,we){var Se,Te,Me,Ye=we.attributes,Ze=(this||_e)._renderer.GL,Qe=xe.model||xe;Ye=Ye[(this||_e).attr];Ye&&(Se=xe[(this||_e).dst],0<(Te=Qe[(this||_e).src]).length?((Me=!Se)&&(xe[(this||_e).dst]=Se=Ze.createBuffer()),Ze.bindBuffer(Ze.ARRAY_BUFFER,Se),!Me&&!1===Qe.dirtyFlags[(this||_e).src]||(Me=(xe=(this||_e).map)?xe(Te):Te,(this||_e)._renderer._bindBuffer(Se,Ze.ARRAY_BUFFER,Me),Qe.dirtyFlags[(this||_e).src]=!1),we.enableAttrib(Ye,(this||_e).size)):-1!==(xe=Ye.location)&&(this||_e)._renderer.registerEnabled.has(xe)&&(Ze.disableVertexAttribArray(xe),(this||_e)._renderer.registerEnabled.delete(xe)))}}])&&o(xe.prototype,we),Se&&o(xe,Se),i}();xe=xe.default.RenderBuffer;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.map":164}],330:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.find-index"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.find-index"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ze=xe("../core/main"))&&Ze.__esModule?Ze:{default:Ze},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function f(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}xe("./p5.RenderBuffer"),Te.default.RendererGL.prototype.beginShape=function(xe){return(this||_e).immediateMode.shapeMode=void 0!==xe?xe:Me.TESS,(this||_e).immediateMode.geometry.reset(),(this||_e).immediateMode.contourIndices=[],this||_e};var Ye={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},Ze=(Te.default.RendererGL.prototype.beginContour=function(){if((this||_e).immediateMode.shapeMode!==Me.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");(this||_e).immediateMode.contourIndices.push((this||_e).immediateMode.geometry.vertices.length)},Te.default.RendererGL.prototype.vertex=function(xe,we){if((this||_e).immediateMode.shapeMode===Me.QUADS&&(this||_e).immediateMode.geometry.vertices.length%6==3)for(var Se in Ye){var Ze=Ye[Se];Se=(this||_e).immediateMode.geometry[Se];Se.push.apply(Se,f(Se.slice(Se.length-3*Ze,Se.length-2*Ze)).concat(f(Se.slice(Se.length-Ze,Se.length))))}var Qe,Ke,Je=Qe=Ke=0,$e=(3===arguments.length?Je=arguments[2]:4===arguments.length?(Qe=arguments[2],Ke=arguments[3]):5===arguments.length&&(Je=arguments[2],Qe=arguments[3],Ke=arguments[4]),new Te.default.Vector(xe,we,Je));$e=((this||_e).immediateMode.geometry.vertices.push($e),(this||_e).immediateMode.geometry.vertexNormals.push((this||_e)._currentNormal),(this||_e).curFillColor||[.5,.5,.5,1]),$e=((this||_e).immediateMode.geometry.vertexColors.push($e[0],$e[1],$e[2],$e[3]),(this||_e).curStrokeColor||[.5,.5,.5,1]);return(this||_e).immediateMode.geometry.vertexStrokeColors.push($e[0],$e[1],$e[2],$e[3]),(this||_e).textureMode!==Me.IMAGE||(this||_e).isProcessingVertices||(null!==(this||_e)._tex?0<(this||_e)._tex.width&&0<(this||_e)._tex.height&&(Qe/=(this||_e)._tex.width,Ke/=(this||_e)._tex.height):void 0===(this||_e).userFillShader&&void 0===(this||_e).userStrokeShader&&void 0===(this||_e).userPointShader&&null===(this||_e)._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),(this||_e).immediateMode.geometry.uvs.push(Qe,Ke),(this||_e).immediateMode._bezierVertex[0]=xe,(this||_e).immediateMode._bezierVertex[1]=we,(this||_e).immediateMode._bezierVertex[2]=Je,(this||_e).immediateMode._quadraticVertex[0]=xe,(this||_e).immediateMode._quadraticVertex[1]=we,(this||_e).immediateMode._quadraticVertex[2]=Je,this||_e},Te.default.RendererGL.prototype.normal=function(xe,we,Se){return xe instanceof Te.default.Vector?(this||_e)._currentNormal=xe:(this||_e)._currentNormal=new Te.default.Vector(xe,we,Se),this||_e},Te.default.RendererGL.prototype.endShape=function(xe,we,Se,Te,Ye,Ze){var Qe=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return(this||_e).immediateMode.shapeMode===Me.POINTS?this._drawPoints((this||_e).immediateMode.geometry.vertices,(this||_e).immediateMode.buffers.point):(3===(this||_e).immediateMode.geometry.vertices.length&&(this||_e).immediateMode.shapeMode===Me.TESS&&((this||_e).immediateMode.shapeMode,Me.TRIANGLES),(this||_e).isProcessingVertices=!0,(this||_e)._processVertices.apply(this||_e,arguments),(this||_e).isProcessingVertices=!1,(this||_e).immediateMode.shapeMode!==Me.LINE_STRIP&&(this||_e).immediateMode.shapeMode!==Me.LINES||((this||_e).immediateMode.shapeMode=Me.TRIANGLE_FAN),(this||_e).immediateMode.shapeMode===Me.QUADS?(this||_e).immediateMode.shapeMode=Me.TRIANGLES:(this||_e).immediateMode.shapeMode===Me.QUAD_STRIP&&((this||_e).immediateMode.shapeMode=Me.TRIANGLE_STRIP),(this||_e)._doFill&&!(this||_e).geometryBuilder&&3<=(this||_e).immediateMode.geometry.vertices.length&&this._drawImmediateFill(Qe),(this||_e)._doStroke&&!(this||_e).geometryBuilder&&1<=(this||_e).immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),(this||_e).geometryBuilder&&(this||_e).geometryBuilder.addImmediate(),(this||_e).isBezier=!1,(this||_e).isQuadratic=!1,(this||_e).isCurve=!1,(this||_e).immediateMode._bezierVertex.length=0,(this||_e).immediateMode._quadraticVertex.length=0,(this||_e).immediateMode._curveVertex.length=0),this||_e},Te.default.RendererGL.prototype._processVertices=function(xe){var we;0!==(this||_e).immediateMode.geometry.vertices.length&&(we=(this||_e)._doStroke,xe=xe===Me.CLOSE,we&&((this||_e).immediateMode.geometry.edges=this._calculateEdges((this||_e).immediateMode.shapeMode,(this||_e).immediateMode.geometry.vertices,xe),(this||_e).geometryBuilder||(this||_e).immediateMode.geometry._edgesToVertices()),we=(this||_e).immediateMode.shapeMode===Me.TESS,xe=0<(this||_e).immediateMode.contourIndices.length,(this||_e)._doFill&&((this||_e).isBezier||(this||_e).isQuadratic||(this||_e).isCurve||we||xe)&&(this||_e).immediateMode.shapeMode!==Me.LINES&&this._tesselateShape())},Te.default.RendererGL.prototype._calculateEdges=function(xe,we,Se){var Te=[],Ye=0,Ze=(this||_e).immediateMode.contourIndices.slice(),Qe=0;switch(xe){case Me.TRIANGLE_STRIP:for(Ye=0;Ye<we.length-2;Ye++)Te.push([Ye,Ye+1]),Te.push([Ye,Ye+2]);Te.push([Ye,Ye+1]);break;case Me.TRIANGLE_FAN:for(Ye=1;Ye<we.length-1;Ye++)Te.push([0,Ye]),Te.push([Ye,Ye+1]);Te.push([0,we.length-1]);break;case Me.TRIANGLES:for(Ye=0;Ye<we.length-2;Ye+=3)Te.push([Ye,Ye+1]),Te.push([Ye+1,Ye+2]),Te.push([Ye+2,Ye]);break;case Me.LINES:for(Ye=0;Ye<we.length-1;Ye+=2)Te.push([Ye,Ye+1]);break;case Me.QUADS:for(Ye=0;Ye<we.length-5;Ye+=6)Te.push([Ye,Ye+1]),Te.push([Ye+1,Ye+2]),Te.push([Ye+3,Ye+5]),Te.push([Ye+4,Ye+5]);break;case Me.QUAD_STRIP:for(Ye=0;Ye<we.length-2;Ye+=2)Te.push([Ye,Ye+1]),Te.push([Ye,Ye+2]),Te.push([Ye+1,Ye+3]);Te.push([Ye,Ye+1]);break;default:for(Ye=0;Ye<we.length;Ye++)Ye+1<we.length&&Ye+1!==Ze[0]?Te.push([Ye,Ye+1]):((Se||Qe)&&Te.push([Ye,Qe]),0<Ze.length&&(Qe=Ze.shift()))}return xe!==Me.TESS&&Se&&Te.push([we.length-1,0]),Te},Te.default.RendererGL.prototype._tesselateShape=function(){for(var xe=this||_e,we=((this||_e).immediateMode.shapeMode=Me.TRIANGLES,[[]]),Se=0;Se<(this||_e).immediateMode.geometry.vertices.length;Se++)0<(this||_e).immediateMode.contourIndices.length&&(this||_e).immediateMode.contourIndices[0]===Se&&((this||_e).immediateMode.contourIndices.shift(),we.push([])),we[we.length-1].push((this||_e).immediateMode.geometry.vertices[Se].x,(this||_e).immediateMode.geometry.vertices[Se].y,(this||_e).immediateMode.geometry.vertices[Se].z,(this||_e).immediateMode.geometry.uvs[2*Se],(this||_e).immediateMode.geometry.uvs[2*Se+1],(this||_e).immediateMode.geometry.vertexColors[4*Se],(this||_e).immediateMode.geometry.vertexColors[4*Se+1],(this||_e).immediateMode.geometry.vertexColors[4*Se+2],(this||_e).immediateMode.geometry.vertexColors[4*Se+3],(this||_e).immediateMode.geometry.vertexNormals[Se].x,(this||_e).immediateMode.geometry.vertexNormals[Se].y,(this||_e).immediateMode.geometry.vertexNormals[Se].z);for(var Ye,Ze=this._triangulate(we),Qe=(this||_e).immediateMode.geometry.vertices,Ke=((this||_e).immediateMode.geometry.vertices=[],(this||_e).immediateMode.geometry.vertexNormals=[],(this||_e).immediateMode.geometry.uvs=[],[]),Je=0,$e=Ze.length;Je<$e;Je+=Te.default.RendererGL.prototype.tessyVertexSize)Ke.push.apply(Ke,f(Ze.slice(Je+5,Je+9))),(this||_e).normal.apply(this||_e,f(Ze.slice(Je+9,Je+12))),(this||_e).vertex.apply(this||_e,f(Ze.slice(Je,Je+5)));(this||_e).geometryBuilder&&(Ye=new Map,(this||_e).immediateMode.geometry.edges=(this||_e).immediateMode.geometry.edges.map((function(_e){return _e.map((function(_e){if(!Ye.has(_e)){var we=Qe[_e],Se=xe.immediateMode.geometry.vertices.findIndex((function(_e){return we.x===_e.x&&we.y===_e.y&&we.z===_e.z}));if(-1===Se){for(var Te=1/0,Me=0,Ze=0;Ze<xe.immediateMode.geometry.vertices.length;Ze++){var Ke=xe.immediateMode.geometry.vertices[Ze],Je=we.x-Ke.x,$e=we.y-Ke.y;Ke=we.z-Ke.z,Je=Je*Je+$e*$e+Ke*Ke;Je<Te&&(Te=Je,Me=Ze)}Se=Me}Ye.set(_e,Se)}return Ye.get(_e)}))}))),(this||_e).immediateMode.geometry.vertexColors=Ke},Te.default.RendererGL.prototype._drawImmediateFill=function(){var xe,we=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,Se=(this||_e).GL,Te=((this||_e)._useVertexColor=0<(this||_e).immediateMode.geometry.vertexColors.length,xe=this._getImmediateFillShader(),this._setFillUniforms(xe),!0),Me=!1,Ye=void 0;try{for(var Ze,Qe=(this||_e).immediateMode.buffers.fill[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0)Ze.value._prepareBuffer((this||_e).immediateMode.geometry,xe)}catch(xe){Me=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Me)throw Ye}}if(xe.disableRemainingAttributes(),this._applyColorBlend((this||_e).curFillColor),1===we)Se.drawArrays((this||_e).immediateMode.shapeMode,0,(this||_e).immediateMode.geometry.vertices.length);else try{Se.drawArraysInstanced((this||_e).immediateMode.shapeMode,0,(this||_e).immediateMode.geometry.vertices.length,we)}catch(xe){console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}xe.unbindShader()},Te.default.RendererGL.prototype._drawImmediateStroke=function(){var xe=(this||_e).GL,we=((this||_e)._useLineColor=0<(this||_e).immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),Se=(this._setStrokeUniforms(we),!0),Te=!1,Me=void 0;try{for(var Ye,Ze=(this||_e).immediateMode.buffers.stroke[Symbol.iterator]();!(Se=(Ye=Ze.next()).done);Se=!0)Ye.value._prepareBuffer((this||_e).immediateMode.geometry,we)}catch(xe){Te=!0,Me=xe}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Me}}we.disableRemainingAttributes(),this._applyColorBlend((this||_e).curStrokeColor),xe.drawArrays(xe.TRIANGLES,0,(this||_e).immediateMode.geometry.lineVertices.length/3),we.unbindShader()},Te.default.RendererGL);Se.default=Ze},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.find-index":156,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],331:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.uint16-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.uint16-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=(xe("./p5.RendererGL"),xe("./p5.RenderBuffer"),function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=l();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants")));function l(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,l=function(){return _e},_e)}Te.default.RendererGL.prototype.freeGeometry=function(_e){_e.gid?this._freeBuffers(_e.gid):console.warn("The model you passed to freeGeometry does not have an id!")},Te.default.RendererGL.prototype._initBufferDefaults=function(xe){var we;return this._freeBuffers(xe),1e3<Object.keys((this||_e).retainedMode.geometry).length&&(we=Object.keys((this||_e).retainedMode.geometry)[0],this._freeBuffers(we)),(this||_e).retainedMode.geometry[xe]={}},Te.default.RendererGL.prototype._freeBuffers=function(xe){var we,Se=(this||_e).retainedMode.geometry[xe];function t(_e){var xe=!0,Te=!1,Me=void 0;try{for(var Ye,Ze=_e[Symbol.iterator]();!(xe=(Ye=Ze.next()).done);xe=!0){var Qe=Ye.value;Se[Qe.dst]&&(we.deleteBuffer(Se[Qe.dst]),Se[Qe.dst]=null)}}catch(_e){Te=!0,Me=_e}finally{try{xe||null==Ze.return||Ze.return()}finally{if(Te)throw Me}}}Se&&(delete(this||_e).retainedMode.geometry[xe],we=(this||_e).GL,Se.indexBuffer&&we.deleteBuffer(Se.indexBuffer),t((this||_e).retainedMode.buffers.stroke),t((this||_e).retainedMode.buffers.fill))},Te.default.RendererGL.prototype.createBuffers=function(xe,we){var Se,Me,Ye,Ze=(this||_e).GL,Qe=(xe=this._initBufferDefaults(xe),xe.model=we,xe.indexBuffer);return we.faces.length?(Qe=Qe||(xe.indexBuffer=Ze.createBuffer()),Ye=(Me=(Se=Te.default.RendererGL.prototype._flatten(we.faces)).some((function(_e){return 65535<_e})))?Uint32Array:Uint16Array,this._bindBuffer(Qe,Ze.ELEMENT_ARRAY_BUFFER,Se,Ye),xe.indexBufferType=Me?Ze.UNSIGNED_INT:Ze.UNSIGNED_SHORT,xe.vertexCount=3*we.faces.length):(Qe&&(Ze.deleteBuffer(Qe),xe.indexBuffer=null),xe.vertexCount=we.vertices?we.vertices.length:0),xe.lineVertexCount=we.lineVertices?we.lineVertices.length/3:0,xe},Te.default.RendererGL.prototype.drawBuffers=function(xe){var we=(this||_e).GL,Se=(this||_e).retainedMode.geometry[xe];if(!(this||_e).geometryBuilder&&(this||_e)._doFill&&0<(this||_e).retainedMode.geometry[xe].vertexCount){(this||_e)._useVertexColor=0<Se.model.vertexColors.length;var Te=this._getRetainedFillShader(),Me=(this._setFillUniforms(Te),!0),Ye=!1,Ze=void 0;try{for(var Qe,Ke=(this||_e).retainedMode.buffers.fill[Symbol.iterator]();!(Me=(Qe=Ke.next()).done);Me=!0)Qe.value._prepareBuffer(Se,Te)}catch(xe){Ye=!0,Ze=xe}finally{try{Me||null==Ke.return||Ke.return()}finally{if(Ye)throw Ze}}Te.disableRemainingAttributes(),Se.indexBuffer&&this._bindBuffer(Se.indexBuffer,we.ELEMENT_ARRAY_BUFFER),this._applyColorBlend((this||_e).curFillColor),this._drawElements(we.TRIANGLES,xe),Te.unbindShader()}if(!(this||_e).geometryBuilder&&(this||_e)._doStroke&&0<Se.lineVertexCount){(this||_e)._useLineColor=0<Se.model.vertexStrokeColors.length;var Je=this._getRetainedStrokeShader(),$e=(this._setStrokeUniforms(Je),!0);Ye=!1,Ze=void 0;try{for(var et,tt=(this||_e).retainedMode.buffers.stroke[Symbol.iterator]();!($e=(et=tt.next()).done);$e=!0)et.value._prepareBuffer(Se,Je)}catch(xe){Ye=!0,Ze=xe}finally{try{$e||null==tt.return||tt.return()}finally{if(Ye)throw Ze}}Je.disableRemainingAttributes(),this._applyColorBlend((this||_e).curStrokeColor),this._drawArrays(we.TRIANGLES,xe),Je.unbindShader()}return(this||_e).geometryBuilder&&(this||_e).geometryBuilder.addRetained(Se),this||_e},Te.default.RendererGL.prototype.drawBuffersScaled=function(xe,we,Se,Te){var Me=(this||_e).uMVMatrix.copy();try{(this||_e).uMVMatrix.scale(we,Se,Te),this.drawBuffers(xe)}finally{(this||_e).uMVMatrix=Me}},Te.default.RendererGL.prototype._drawArrays=function(xe,we){return(this||_e).GL.drawArrays(xe,0,(this||_e).retainedMode.geometry[we].lineVertexCount),this||_e},Te.default.RendererGL.prototype._drawElements=function(xe,we){we=(this||_e).retainedMode.geometry[we];var Se=(this||_e).GL;if(we.indexBuffer){if((this||_e)._pInst.webglVersion!==Me.WEBGL2&&we.indexBufferType===Se.UNSIGNED_INT&&!Se.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");Se.drawElements(Se.TRIANGLES,we.vertexCount,we.indexBufferType,0)}else Se.drawArrays(xe||Se.TRIANGLES,0,we.vertexCount)},Te.default.RendererGL.prototype._drawPoints=function(xe,we){var Se=(this||_e).GL,Te=this._getImmediatePointShader();this._setPointUniforms(Te),this._bindBuffer(we,Se.ARRAY_BUFFER,this._vToNArray(xe),Float32Array,Se.STATIC_DRAW),Te.enableAttrib(Te.attributes.aPosition,3),this._applyColorBlend((this||_e).curStrokeColor),Se.drawArrays(Se.Points,0,xe.length),Te.unbindShader()};var Ye=Te.default.RendererGL;Se.default=Ye},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"./p5.RendererGL":332,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.some":166,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],332:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.copy-within"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.reflect.get"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.float64-array"),xe("core-js/modules/es.typed-array.int16-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint16-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.copy-within"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.float64-array"),xe("core-js/modules/es.typed-array.int16-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint16-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.readPixelsWebGL=k,Se.readPixelWebGL=C,Se.default=void 0;var Te=n(xe("../core/main")),Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=d();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants")),Ye=n(xe("./GeometryBuilder")),Ze=n(xe("libtess")),Qe=(xe("./p5.Shader"),xe("./p5.Camera"),xe("../core/p5.Renderer"),xe("./p5.Matrix"),xe("./p5.Framebuffer"),xe("path"),xe("./p5.Texture"));function d(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,d=function(){return _e},_e)}function n(_e){return _e&&_e.__esModule?_e:{default:_e}}function h(_e){return function(_e){if(Array.isArray(_e)){for(var xe=0,we=new Array(_e.length);xe<_e.length;xe++)we[xe]=_e[xe];return we}}(_e)||function(_e){if(Symbol.iterator in Object(_e)||"[object Arguments]"===Object.prototype.toString.call(_e))return Array.from(_e)}(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function p(_e,xe,we){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(_e,xe,we){_e=function(_e,xe){for(;!Object.prototype.hasOwnProperty.call(_e,xe)&&null!==(_e=b(_e)););return _e}(_e,xe);if(_e)return(_e=Object.getOwnPropertyDescriptor(_e,xe)).get?_e.get.call(we):_e.value})(_e,xe,we||_e)}function m(_e,xe){return(m=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}function y(xe){return function(){var we,Se,Te=b(xe);return we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?(we=b(this||_e).constructor,Reflect.construct(Te,arguments,we)):Te.apply(this||_e,arguments),Te=this||_e,!(Se=we)||"object"!==i(Se)&&"function"!=typeof Se?v(Te):Se}}function v(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function b(_e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(_e)}function j(_e,xe,we){xe in _e?Object.defineProperty(_e,xe,{value:we,enumerable:!0,configurable:!0,writable:!0}):_e[xe]=we}function s(_e,xe){et+="#define STROKE_CAP_".concat(_e," ").concat(xe,"\n"),Je[Me[_e]]=xe}function _(_e,xe){et+="#define STROKE_JOIN_".concat(_e," ").concat(xe,"\n"),$e[Me[_e]]=xe}var Ke,Je={},$e={},et="",tt=(xe=(s("ROUND",0),s("PROJECT",1),s("SQUARE",2),_("ROUND",0),_("MITER",1),_("BEVEL",2),'#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return smoothstep(vec3(0.0), vec3(0.8), texture.xyz);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal);\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return pow(outColor.xyz, vec3(10.0));\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n'),{immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:xe+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:xe+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:et+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:et+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.025;\n\tfloat nrSamples = 0.0;\n  \n\tfor(float phi = 0.0; phi < 2.0 * PI; phi += sampleDelta)\n\t{\n    for(float theta = 0.0; theta < ( 0.5 ) * PI; theta += sampleDelta)\n    {\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 1024; // 4096\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n\tif (n > 0)\r\n\t{\r\n  \tdenom = mod(float(n), 2.0);\r\n  \tresult += denom * invBase;\r\n  \tinvBase = invBase / 2.0;\r\n  \tn = int(float(n) / 2.0);\r\n\t}\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"});for(Ke in tt)tt[Ke]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+tt[Ke];j(xe={},Me.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),j(xe,Me.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),j(xe,Me.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),j(xe,Me.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),j(xe,Me.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),j(xe,Me.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),j(xe,Me.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),j(xe,Me.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var rt=xe;function k(_e,xe,we,Se,Te,Me,Ye,Ze,Qe,Ke){var Je=xe.getParameter(xe.FRAMEBUFFER_BINDING),$e=(we=(xe.bindFramebuffer(xe.FRAMEBUFFER,we),Ze===xe.RGBA?4:3),Me*Ye*we),et=Qe===xe.UNSIGNED_BYTE?Uint8Array:Float32Array;if(_e instanceof et&&_e.length===$e||(_e=new et($e)),xe.readPixels(Se,Ke?Ke-Te-Ye:Te,Me,Ye,Ze,Qe,_e),xe.bindFramebuffer(xe.FRAMEBUFFER,Je),Ke)for(var tt=Math.floor(Ye/2),rt=new et(Me*we),ot=0;ot<tt;ot++){var nt=ot*Me*4,st=(Ye-ot-1)*Me*4;rt.set(_e.subarray(nt,nt+4*Me)),_e.copyWithin(nt,st,st+4*Me),_e.set(rt,st)}return _e}function C(_e,xe,we,Se,Te,Me,Ye){var Ze=_e.getParameter(_e.FRAMEBUFFER_BINDING);xe=(_e.bindFramebuffer(_e.FRAMEBUFFER,xe),Te===_e.RGBA?4:3),xe=new(Me===_e.UNSIGNED_BYTE?Uint8Array:Float32Array)(xe);return _e.readPixels(we,Ye?Ye-Se-1:Se,1,1,Te,Me,xe),_e.bindFramebuffer(_e.FRAMEBUFFER,Ze),Array.from(xe)}Te.default.prototype.setAttributes=function(xe,we){if(void 0===(this||_e)._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Se=!0;if(void 0!==we?(null===(this||_e)._glAttributes&&((this||_e)._glAttributes={}),(this||_e)._glAttributes[xe]!==we&&((this||_e)._glAttributes[xe]=we,Se=!1)):xe instanceof Object&&(this||_e)._glAttributes!==xe&&((this||_e)._glAttributes=xe,Se=!1),(this||_e)._renderer.isP3D&&!Se){if(!(this||_e)._setupDone)for(var Me in(this||_e)._renderer.retainedMode.geometry)if((this||_e)._renderer.retainedMode.geometry.hasOwnProperty(Me))return void Te.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),(this||_e)._renderer._resetContext(),this.pop(),(this||_e)._renderer._curCamera&&((this||_e)._renderer._curCamera._renderer=(this||_e)._renderer)}}},Te.default.RendererGL=function(xe){var we=s;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&m(we,xe);var Se,Ke=y(s);function s(xe,we,Se,Ye){if((this||_e)instanceof s)return(xe=Ke.call(this||_e,xe,we,Se))._setAttributeDefaults(we),xe._initContext(),xe.isP3D=!0,xe.geometryBuilder=void 0,xe.GL=xe.drawingContext,xe._pInst._setProperty("drawingContext",xe.drawingContext),xe._isErasing=!1,xe._clipDepths=[],xe._isClipApplied=!1,xe._stencilTestOn=!1,xe._enableLighting=!1,xe.ambientLightColors=[],xe.specularColors=[1,1,1],xe.directionalLightDirections=[],xe.directionalLightDiffuseColors=[],xe.directionalLightSpecularColors=[],xe.pointLightPositions=[],xe.pointLightDiffuseColors=[],xe.pointLightSpecularColors=[],xe.spotLightPositions=[],xe.spotLightDirections=[],xe.spotLightDiffuseColors=[],xe.spotLightSpecularColors=[],xe.spotLightAngle=[],xe.spotLightConc=[],xe.activeImageLight=null,xe.diffusedTextures=new Map,xe.specularTextures=new Map,xe.drawMode=Me.FILL,xe.curFillColor=xe._cachedFillStyle=[1,1,1,1],xe.curAmbientColor=xe._cachedFillStyle=[1,1,1,1],xe.curSpecularColor=xe._cachedFillStyle=[0,0,0,0],xe.curEmissiveColor=xe._cachedFillStyle=[0,0,0,0],xe.curStrokeColor=xe._cachedStrokeStyle=[0,0,0,1],xe.curBlendMode=Me.BLEND,xe._cachedBlendMode=void 0,xe.webglVersion===Me.WEBGL2?xe.blendExt=xe.GL:xe.blendExt=xe.GL.getExtension("EXT_blend_minmax"),xe._isBlending=!1,xe._hasSetAmbient=!1,xe._useSpecularMaterial=!1,xe._useEmissiveMaterial=!1,xe._useNormalMaterial=!1,xe._useShininess=1,xe._useLineColor=!1,xe._useVertexColor=!1,xe.registerEnabled=new Set,xe._tint=[255,255,255,255],xe.constantAttenuation=1,xe.linearAttenuation=0,xe.quadraticAttenuation=0,xe.uMVMatrix=new Te.default.Matrix,xe.uPMatrix=new Te.default.Matrix,xe.uNMatrix=new Te.default.Matrix("mat3"),xe._currentNormal=new Te.default.Vector(0,0,1),xe._curCamera=new Te.default.Camera(v(xe)),xe._curCamera._computeCameraDefaultSettings(),xe._curCamera._setDefaultCamera(),xe.filterCamera=new Te.default.Camera(v(xe)),xe.filterCamera._computeCameraDefaultSettings(),xe.filterCamera._setDefaultCamera(),xe.prevTouches=[],xe.zoomVelocity=0,xe.rotateVelocity=new Te.default.Vector(0,0),xe.moveVelocity=new Te.default.Vector(0,0),xe.executeZoom=!1,xe.executeRotateAndMove=!1,xe._defaultLightShader=void 0,xe._defaultImmediateModeShader=void 0,xe._defaultNormalShader=void 0,xe._defaultColorShader=void 0,xe._defaultPointShader=void 0,xe.userFillShader=void 0,xe.userStrokeShader=void 0,xe.userPointShader=void 0,xe.retainedMode={geometry:{},buffers:{stroke:[new Te.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",v(xe)),new Te.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",v(xe)),new Te.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",v(xe)),new Te.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",v(xe)),new Te.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",v(xe))],fill:[new Te.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(xe),xe._vToNArray),new Te.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",v(xe),xe._vToNArray),new Te.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",v(xe)),new Te.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",v(xe)),new Te.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(xe),xe._flatten)],text:[new Te.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(xe),xe._vToNArray),new Te.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(xe),xe._flatten)]}},xe.immediateMode={geometry:new Te.default.Geometry,shapeMode:Me.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new Te.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(xe),xe._vToNArray),new Te.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",v(xe),xe._vToNArray),new Te.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",v(xe)),new Te.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",v(xe)),new Te.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(xe),xe._flatten)],stroke:[new Te.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",v(xe)),new Te.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",v(xe)),new Te.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",v(xe)),new Te.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",v(xe)),new Te.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",v(xe))],point:xe.GL.createBuffer()}},xe.pointSize=5,xe.curStrokeWeight=1,xe.curStrokeCap=Me.ROUND,xe.curStrokeJoin=Me.ROUND,xe.textures=new Map,xe.framebuffers=new Set,xe.activeFramebuffers=[],xe.filterShader=void 0,xe.filterLayer=void 0,xe.filterLayerTemp=void 0,xe.defaultFilterShaders={},xe.textureMode=Me.IMAGE,xe.textureWrapX=Me.CLAMP,xe.textureWrapY=Me.CLAMP,xe._tex=null,xe._curveTightness=6,xe._lookUpTableBezier=[],xe._lookUpTableQuadratic=[],xe._lutBezierDetail=0,xe._lutQuadraticDetail=0,xe.isProcessingVertices=!1,xe._tessy=xe._initTessy(),xe.fontInfos={},xe._curShader=void 0,xe;throw new TypeError("Cannot call a class as a function")}return we=s,(xe=[{key:"beginGeometry",value:function(){if((this||_e).geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");(this||_e).geometryBuilder=new Ye.default(this||_e)}},{key:"endGeometry",value:function(){var xe;if((this||_e).geometryBuilder)return xe=(this||_e).geometryBuilder.finish(),(this||_e).geometryBuilder=void 0,xe;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(_e){return this.beginGeometry(),_e(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(_e){var xe={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};null===_e._glAttributes?_e._glAttributes=xe:_e._glAttributes=Object.assign(xe,_e._glAttributes)}},{key:"_initContext",value:function(){if(1!==(this||_e)._pInst._glAttributes.version&&((this||_e).drawingContext=(this||_e).canvas.getContext("webgl2",(this||_e)._pInst._glAttributes)),(this||_e).webglVersion=(this||_e).drawingContext?Me.WEBGL2:Me.WEBGL,(this||_e)._pInst._setProperty("webglVersion",(this||_e).webglVersion),(this||_e).drawingContext||((this||_e).drawingContext=(this||_e).canvas.getContext("webgl",(this||_e)._pInst._glAttributes)||(this||_e).canvas.getContext("experimental-webgl",(this||_e)._pInst._glAttributes)),null===(this||_e).drawingContext)throw new Error("Error creating webgl context");var xe=(this||_e).drawingContext;xe.enable(xe.DEPTH_TEST),xe.depthFunc(xe.LEQUAL),xe.viewport(0,0,xe.drawingBufferWidth,xe.drawingBufferHeight),xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),(this||_e)._viewport=(this||_e).drawingContext.getParameter((this||_e).drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(xe,we){var Se,Me=(this||_e).width,Ye=(this||_e).height,Ze=(this||_e).canvas.id,Qe=(this||_e)._pInst instanceof Te.default.Graphics;Ze=(Qe?((Se=(this||_e)._pInst).canvas.parentNode.removeChild(Se.canvas),Se.canvas=document.createElement("canvas"),(Se._pInst._userNode||document.body).appendChild(Se.canvas),Te.default.Element.call(Se,Se.canvas,Se._pInst),Se.width=Me,Se.height=Ye):((Se=(this||_e).canvas)&&Se.parentNode.removeChild(Se),(Se=document.createElement("canvas")).id=Ze,((this||_e)._pInst._userNode||document.body).appendChild(Se),(this||_e)._pInst.canvas=Se,(this||_e).canvas=Se),new Te.default.RendererGL((this||_e)._pInst.canvas,(this||_e)._pInst,!Qe));(this||_e)._pInst._setProperty("_renderer",Ze),Ze.resize(Me,Ye),Ze._applyDefaults(),Qe||(this||_e)._pInst._elements.push(Ze),"function"==typeof we&&setTimeout((function(){we.apply(window._renderer,xe)}),0)}},{key:"_update",value:function(){(this||_e).uMVMatrix.set((this||_e)._curCamera.cameraMatrix.mat4[0],(this||_e)._curCamera.cameraMatrix.mat4[1],(this||_e)._curCamera.cameraMatrix.mat4[2],(this||_e)._curCamera.cameraMatrix.mat4[3],(this||_e)._curCamera.cameraMatrix.mat4[4],(this||_e)._curCamera.cameraMatrix.mat4[5],(this||_e)._curCamera.cameraMatrix.mat4[6],(this||_e)._curCamera.cameraMatrix.mat4[7],(this||_e)._curCamera.cameraMatrix.mat4[8],(this||_e)._curCamera.cameraMatrix.mat4[9],(this||_e)._curCamera.cameraMatrix.mat4[10],(this||_e)._curCamera.cameraMatrix.mat4[11],(this||_e)._curCamera.cameraMatrix.mat4[12],(this||_e)._curCamera.cameraMatrix.mat4[13],(this||_e)._curCamera.cameraMatrix.mat4[14],(this||_e)._curCamera.cameraMatrix.mat4[15]),(this||_e).ambientLightColors.length=0,(this||_e).specularColors=[1,1,1],(this||_e).directionalLightDirections.length=0,(this||_e).directionalLightDiffuseColors.length=0,(this||_e).directionalLightSpecularColors.length=0,(this||_e).pointLightPositions.length=0,(this||_e).pointLightDiffuseColors.length=0,(this||_e).pointLightSpecularColors.length=0,(this||_e).spotLightPositions.length=0,(this||_e).spotLightDirections.length=0,(this||_e).spotLightDiffuseColors.length=0,(this||_e).spotLightSpecularColors.length=0,(this||_e).spotLightAngle.length=0,(this||_e).spotLightConc.length=0,(this||_e)._enableLighting=!1,(this||_e)._tint=[255,255,255,255],(this||_e).GL.clearStencil(0),(this||_e).GL.clear((this||_e).GL.DEPTH_BUFFER_BIT|(this||_e).GL.STENCIL_BUFFER_BIT),(this||_e).GL.disable((this||_e).GL.STENCIL_TEST)}},{key:"background",value:function(){var xe=(xe=(this||_e)._pInst).color.apply(xe,arguments),we=xe.levels[0]/255,Se=xe.levels[1]/255,Te=xe.levels[2]/255;xe=xe.levels[3]/255;this.clear(we,Se,Te,xe)}},{key:"fill",value:function(xe,we,Se,Ye){var Ze=Te.default.prototype.color.apply((this||_e)._pInst,arguments);(this||_e).curFillColor=Ze._array,(this||_e).drawMode=Me.FILL,(this||_e)._useNormalMaterial=!1,(this||_e)._tex=null}},{key:"stroke",value:function(xe,we,Se,Me){var Ye=Te.default.prototype.color.apply((this||_e)._pInst,arguments);(this||_e).curStrokeColor=Ye._array}},{key:"strokeCap",value:function(xe){(this||_e).curStrokeCap=xe}},{key:"strokeJoin",value:function(xe){(this||_e).curStrokeJoin=xe}},{key:"getFilterLayer",value:function(){return(this||_e).filterLayer||((this||_e).filterLayer=(this||_e)._pInst.createFramebuffer()),(this||_e).filterLayer}},{key:"getFilterLayerTemp",value:function(){return(this||_e).filterLayerTemp||((this||_e).filterLayerTemp=(this||_e)._pInst.createFramebuffer()),(this||_e).filterLayerTemp}},{key:"matchSize",value:function(_e,xe){_e.width===xe.width&&_e.height===xe.height||_e.resize(xe.width,xe.height),_e.pixelDensity()!==xe.pixelDensity()&&_e.pixelDensity(xe.pixelDensity())}},{key:"filter",value:function(){var xe,we,Se=this||_e,Ye=this.getFilterLayer(),Ze=void 0,Qe=void 0,Ke=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Qe=arguments.length<=0?void 0:arguments[0],j(xe={},Me.BLUR,3),j(xe,Me.POSTERIZE,4),j(xe,Me.THRESHOLD,.5),Ze=Qe in xe&&void 0===(arguments.length<=1?void 0:arguments[1])?xe[Qe]:arguments.length<=1?void 0:arguments[1],Qe in(this||_e).defaultFilterShaders||((this||_e).defaultFilterShaders[Qe]=new Te.default.Shader(Ye._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",rt[Qe])),(this||_e).filterShader=(this||_e).defaultFilterShaders[Qe]):(this||_e).filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this||_e),Je=(this.matchSize(Ye,Ke),Ke!==(this||_e)&&((this||_e).filterCamera=this.getFilterLayer().createCamera()),Ye.draw((function(){return Se._pInst.clear()})),[1/(Ke.width*Ke.pixelDensity()),1/(Ke.height*Ke.pixelDensity())]);Qe===Me.BLUR?(we=this.getFilterLayerTemp(),this.matchSize(we,Ke),(this||_e)._pInst.push(),(this||_e)._pInst.noStroke(),(this||_e)._pInst.shader((this||_e).filterShader),(this||_e).filterShader.setUniform("texelSize",Je),(this||_e).filterShader.setUniform("canvasSize",[Ke.width,Ke.height]),(this||_e).filterShader.setUniform("radius",Math.max(1,Ze)),we.draw((function(){Se.filterShader.setUniform("direction",[1,0]),Se.filterShader.setUniform("tex0",Ke),Se._pInst.clear(),Se._pInst.shader(Se.filterShader),Se._pInst.rect(-Ke.width/2,-Ke.height/2,Ke.width,Ke.height)})),Ye.draw((function(){Se.filterShader.setUniform("direction",[0,1]),Se.filterShader.setUniform("tex0",we),Se._pInst.clear(),Se._pInst.shader(Se.filterShader),Se._pInst.rect(-Ke.width/2,-Ke.height/2,Ke.width,Ke.height)})),(this||_e)._pInst.pop()):Ye.draw((function(){Se._pInst.noStroke(),Se._pInst.shader(Se.filterShader),Se.filterShader.setUniform("tex0",Ke),Se.filterShader.setUniform("texelSize",Je),Se.filterShader.setUniform("canvasSize",[Ke.width,Ke.height]),Se.filterShader.setUniform("filterParameter",Ze),Se._pInst.rect(-Ke.width/2,-Ke.height/2,Ke.width,Ke.height)})),(this||_e)._pInst.push(),(this||_e)._pInst.noStroke(),this.clear(),(this||_e)._pInst.push(),(this||_e)._pInst.imageMode(Me.CORNER),(this||_e)._pInst.blendMode(Me.BLEND),(this||_e).filterCamera._resize(),(this||_e)._pInst.setCamera((this||_e).filterCamera),(this||_e)._pInst.resetMatrix(),(this||_e)._pInst.image(Ye,-(this||_e).width/2,-(this||_e).height/2,(this||_e).width,(this||_e).height),(this||_e)._pInst.pop(),(this||_e)._pInst.pop()}},{key:"pixelDensity",value:function(xe){return xe?(this||_e)._pInst.pixelDensity(xe):(this||_e)._pInst.pixelDensity()}},{key:"blendMode",value:function(xe){xe===Me.DARKEST||xe===Me.LIGHTEST||xe===Me.ADD||xe===Me.BLEND||xe===Me.SUBTRACT||xe===Me.SCREEN||xe===Me.EXCLUSION||xe===Me.REPLACE||xe===Me.MULTIPLY||xe===Me.REMOVE?(this||_e).curBlendMode=xe:xe!==Me.BURN&&xe!==Me.OVERLAY&&xe!==Me.HARD_LIGHT&&xe!==Me.SOFT_LIGHT&&xe!==Me.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(xe,we){(this||_e)._isErasing||((this||_e)._cachedBlendMode=(this||_e).curBlendMode,(this||_e)._isErasing=!0,this.blendMode(Me.REMOVE),(this||_e)._cachedFillStyle=(this||_e).curFillColor.slice(),(this||_e).curFillColor=[1,1,1,xe/255],(this||_e)._cachedStrokeStyle=(this||_e).curStrokeColor.slice(),(this||_e).curStrokeColor=[1,1,1,we/255])}},{key:"noErase",value:function(){var xe;(this||_e)._isErasing&&((this||_e).curFillColor=(this||_e)._cachedFillStyle.slice(),(this||_e).curStrokeColor=(this||_e)._cachedStrokeStyle.slice(),xe=(this||_e).curBlendMode,this.blendMode((this||_e)._cachedBlendMode),(this||_e)._cachedBlendMode=xe,(this||_e)._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return(this||_e).activeFramebuffers[(this||_e).activeFramebuffers.length-1]||this||_e}},{key:"beginClip",value:function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};xe=(p(b(s.prototype),"beginClip",this||_e).call(this||_e,xe),this.drawTarget()._isClipApplied=!0,(this||_e).GL);xe.clearStencil(0),xe.clear(xe.STENCIL_BUFFER_BIT),xe.enable(xe.STENCIL_TEST),(this||_e)._stencilTestOn=!0,xe.stencilFunc(xe.ALWAYS,1,255),xe.stencilOp(xe.KEEP,xe.KEEP,xe.REPLACE),xe.disable(xe.DEPTH_TEST),(this||_e)._pInst.push(),(this||_e)._pInst.resetShader(),(this||_e)._doFill&&(this||_e)._pInst.fill(0,0),(this||_e)._doStroke&&(this||_e)._pInst.stroke(0,0)}},{key:"endClip",value:function(){(this||_e)._pInst.pop();var xe=(this||_e).GL;xe.stencilOp(xe.KEEP,xe.KEEP,xe.KEEP),xe.stencilFunc((this||_e)._clipInvert?xe.EQUAL:xe.NOTEQUAL,0,255),xe.enable(xe.DEPTH_TEST),(this||_e)._clipDepths.push((this||_e)._pushPopDepth),p(b(s.prototype),"endClip",this||_e).call(this||_e)}},{key:"_clearClip",value:function(){(this||_e).GL.clearStencil(1),(this||_e).GL.clear((this||_e).GL.STENCIL_BUFFER_BIT),0<(this||_e)._clipDepths.length&&(this||_e)._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(xe){(this||_e).curStrokeWeight!==xe&&((this||_e).pointSize=xe,(this||_e).curStrokeWeight=xe)}},{key:"_getPixel",value:function(xe,we){var Se=(this||_e).GL;return C(Se,null,xe,we,Se.RGBA,Se.UNSIGNED_BYTE,(this||_e)._pInst.height*(this||_e)._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var xe,we,Se=(this||_e)._pixelsState;!0!==(this||_e)._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(xe=(this||_e)._pInst._pixelDensity,we=(this||_e).GL,Se._setProperty("pixels",k(Se.pixels,we,null,0,0,(this||_e).width*xe,(this||_e).height*xe,we.RGBA,we.UNSIGNED_BYTE,(this||_e).height*xe)))}},{key:"updatePixels",value:function(){var xe=this._getTempFramebuffer();xe.pixels=(this||_e)._pixelsState.pixels,xe.updatePixels(),(this||_e)._pInst.push(),(this||_e)._pInst.resetMatrix(),(this||_e)._pInst.clear(),(this||_e)._pInst.imageMode(Me.CENTER),(this||_e)._pInst.image(xe,0,0),(this||_e)._pInst.pop(),(this||_e).GL.clearDepth(1),(this||_e).GL.clear((this||_e).GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return(this||_e)._tempFramebuffer||((this||_e)._tempFramebuffer=(this||_e)._pInst.createFramebuffer({format:Me.UNSIGNED_BYTE,useDepth:(this||_e)._pInst._glAttributes.depth,depthFormat:Me.UNSIGNED_INT,antialias:(this||_e)._pInst._glAttributes.antialias})),(this||_e)._tempFramebuffer}},{key:"geometryInHash",value:function(xe){return void 0!==(this||_e).retainedMode.geometry[xe]}},{key:"viewport",value:function(xe,we){(this||_e)._viewport=[0,0,xe,we],(this||_e).GL.viewport(0,0,xe,we)}},{key:"resize",value:function(xe,we){Te.default.Renderer.prototype.resize.call(this||_e,xe,we),(this||_e)._origViewport={width:(this||_e).GL.drawingBufferWidth,height:(this||_e).GL.drawingBufferHeight},this.viewport((this||_e)._origViewport.width,(this||_e)._origViewport.height),(this||_e)._curCamera._resize();xe=(this||_e)._pixelsState;var Se=(void 0!==xe.pixels&&xe._setProperty("pixels",new Uint8Array((this||_e).GL.drawingBufferWidth*(this||_e).GL.drawingBufferHeight*4)),!0);we=!1,xe=void 0;try{for(var Me,Ye=(this||_e).framebuffers[Symbol.iterator]();!(Se=(Me=Ye.next()).done);Se=!0)Me.value._canvasSizeChanged()}catch(Se){we=!0,xe=Se}finally{try{Se||null==Ye.return||Ye.return()}finally{if(we)throw xe}}}},{key:"clear",value:function(){var xe=(arguments.length<=0?void 0:arguments[0])||0,we=(arguments.length<=1?void 0:arguments[1])||0,Se=(arguments.length<=2?void 0:arguments[2])||0,Te=(arguments.length<=3?void 0:arguments[3])||0,Ye=this.activeFramebuffer();Ye&&Ye.format===Me.UNSIGNED_BYTE&&!Ye.antialias&&0===Te&&(Te=1e-10),(this||_e).GL.clearColor(xe*Te,we*Te,Se*Te,Te),(this||_e).GL.clearDepth(1),(this||_e).GL.clear((this||_e).GL.COLOR_BUFFER_BIT|(this||_e).GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(xe,we,Se,Me,Ye,Ze){16===arguments.length?Te.default.Matrix.prototype.apply.apply((this||_e).uMVMatrix,arguments):(this||_e).uMVMatrix.apply([xe,we,0,0,Se,Me,0,0,0,0,1,0,Ye,Ze,0,1])}},{key:"translate",value:function(xe,we,Se){return xe instanceof Te.default.Vector&&(Se=xe.z,we=xe.y,xe=xe.x),(this||_e).uMVMatrix.translate([xe,we,Se]),this||_e}},{key:"scale",value:function(xe,we,Se){return(this||_e).uMVMatrix.scale(xe,we,Se),this||_e}},{key:"rotate",value:function(xe,we){return void 0===we?this.rotateZ(xe):(Te.default.Matrix.prototype.rotate.apply((this||_e).uMVMatrix,arguments),this||_e)}},{key:"rotateX",value:function(xe){return this.rotate(xe,1,0,0),this||_e}},{key:"rotateY",value:function(xe){return this.rotate(xe,0,1,0),this||_e}},{key:"rotateZ",value:function(xe){return this.rotate(xe,0,0,1),this||_e}},{key:"push",value:function(){var xe=Te.default.Renderer.prototype.push.apply(this||_e),we=xe.properties;return we.uMVMatrix=(this||_e).uMVMatrix.copy(),we.uPMatrix=(this||_e).uPMatrix.copy(),we._curCamera=(this||_e)._curCamera,(this||_e)._curCamera=(this||_e)._curCamera.copy(),we.ambientLightColors=(this||_e).ambientLightColors.slice(),we.specularColors=(this||_e).specularColors.slice(),we.directionalLightDirections=(this||_e).directionalLightDirections.slice(),we.directionalLightDiffuseColors=(this||_e).directionalLightDiffuseColors.slice(),we.directionalLightSpecularColors=(this||_e).directionalLightSpecularColors.slice(),we.pointLightPositions=(this||_e).pointLightPositions.slice(),we.pointLightDiffuseColors=(this||_e).pointLightDiffuseColors.slice(),we.pointLightSpecularColors=(this||_e).pointLightSpecularColors.slice(),we.spotLightPositions=(this||_e).spotLightPositions.slice(),we.spotLightDirections=(this||_e).spotLightDirections.slice(),we.spotLightDiffuseColors=(this||_e).spotLightDiffuseColors.slice(),we.spotLightSpecularColors=(this||_e).spotLightSpecularColors.slice(),we.spotLightAngle=(this||_e).spotLightAngle.slice(),we.spotLightConc=(this||_e).spotLightConc.slice(),we.userFillShader=(this||_e).userFillShader,we.userStrokeShader=(this||_e).userStrokeShader,we.userPointShader=(this||_e).userPointShader,we.pointSize=(this||_e).pointSize,we.curStrokeWeight=(this||_e).curStrokeWeight,we.curStrokeColor=(this||_e).curStrokeColor,we.curFillColor=(this||_e).curFillColor,we.curAmbientColor=(this||_e).curAmbientColor,we.curSpecularColor=(this||_e).curSpecularColor,we.curEmissiveColor=(this||_e).curEmissiveColor,we._hasSetAmbient=(this||_e)._hasSetAmbient,we._useSpecularMaterial=(this||_e)._useSpecularMaterial,we._useEmissiveMaterial=(this||_e)._useEmissiveMaterial,we._useShininess=(this||_e)._useShininess,we.constantAttenuation=(this||_e).constantAttenuation,we.linearAttenuation=(this||_e).linearAttenuation,we.quadraticAttenuation=(this||_e).quadraticAttenuation,we._enableLighting=(this||_e)._enableLighting,we._useNormalMaterial=(this||_e)._useNormalMaterial,we._tex=(this||_e)._tex,we.drawMode=(this||_e).drawMode,we._currentNormal=(this||_e)._currentNormal,we.curBlendMode=(this||_e).curBlendMode,we.activeImageLight=(this||_e).activeImageLight,xe}},{key:"pop",value:function(){var xe;0<(this||_e)._clipDepths.length&&(this||_e)._pushPopDepth===(this||_e)._clipDepths[(this||_e)._clipDepths.length-1]&&this._clearClip();for(var we=arguments.length,Se=new Array(we),Te=0;Te<we;Te++)Se[Te]=arguments[Te];(xe=p(b(s.prototype),"pop",this||_e)).call.apply(xe,[this||_e].concat(Se)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var xe=this.drawTarget();xe._isClipApplied!==(this||_e)._stencilTestOn&&(xe._isClipApplied?((this||_e).GL.enable((this||_e).GL.STENCIL_TEST),(this||_e)._stencilTestOn=!0):((this||_e).GL.disable((this||_e).GL.STENCIL_TEST),(this||_e)._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return(this||_e).uMVMatrix.set((this||_e)._curCamera.cameraMatrix.mat4[0],(this||_e)._curCamera.cameraMatrix.mat4[1],(this||_e)._curCamera.cameraMatrix.mat4[2],(this||_e)._curCamera.cameraMatrix.mat4[3],(this||_e)._curCamera.cameraMatrix.mat4[4],(this||_e)._curCamera.cameraMatrix.mat4[5],(this||_e)._curCamera.cameraMatrix.mat4[6],(this||_e)._curCamera.cameraMatrix.mat4[7],(this||_e)._curCamera.cameraMatrix.mat4[8],(this||_e)._curCamera.cameraMatrix.mat4[9],(this||_e)._curCamera.cameraMatrix.mat4[10],(this||_e)._curCamera.cameraMatrix.mat4[11],(this||_e)._curCamera.cameraMatrix.mat4[12],(this||_e)._curCamera.cameraMatrix.mat4[13],(this||_e)._curCamera.cameraMatrix.mat4[14],(this||_e)._curCamera.cameraMatrix.mat4[15]),this||_e}},{key:"_getImmediateStrokeShader",value:function(){var xe=(this||_e).userStrokeShader;return xe&&xe.isStrokeShader()?xe:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var xe=(this||_e).userFillShader;if((this||_e)._useNormalMaterial&&(!xe||!xe.isNormalShader()))return this._getNormalShader();if((this||_e)._enableLighting){if(!xe||!xe.isLightShader())return this._getLightShader()}else if((this||_e)._tex){if(!xe||!xe.isTextureShader())return this._getLightShader()}else if(!xe)return this._getImmediateModeShader();return xe}},{key:"_getRetainedFillShader",value:function(){if((this||_e)._useNormalMaterial)return this._getNormalShader();var xe=(this||_e).userFillShader;if((this||_e)._enableLighting){if(!xe||!xe.isLightShader())return this._getLightShader()}else if((this||_e)._tex){if(!xe||!xe.isTextureShader())return this._getLightShader()}else if(!xe)return this._getColorShader();return xe}},{key:"_getImmediatePointShader",value:function(){var xe=(this||_e).userPointShader;return xe&&xe.isPointShader()?xe:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return(this||_e)._defaultLightShader||((this||_e)._pInst._glAttributes.perPixelLighting?(this||_e)._defaultLightShader=new Te.default.Shader(this||_e,this._webGL2CompatibilityPrefix("vert","highp")+tt.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+tt.phongFrag):(this||_e)._defaultLightShader=new Te.default.Shader(this||_e,this._webGL2CompatibilityPrefix("vert","highp")+tt.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+tt.lightTextureFrag)),(this||_e)._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return(this||_e)._defaultImmediateModeShader||((this||_e)._defaultImmediateModeShader=new Te.default.Shader(this||_e,this._webGL2CompatibilityPrefix("vert","mediump")+tt.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.vertexColorFrag)),(this||_e)._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return(this||_e)._defaultNormalShader||((this||_e)._defaultNormalShader=new Te.default.Shader(this||_e,this._webGL2CompatibilityPrefix("vert","mediump")+tt.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.normalFrag)),(this||_e)._defaultNormalShader}},{key:"_getColorShader",value:function(){return(this||_e)._defaultColorShader||((this||_e)._defaultColorShader=new Te.default.Shader(this||_e,this._webGL2CompatibilityPrefix("vert","mediump")+tt.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.basicFrag)),(this||_e)._defaultColorShader}},{key:"_getPointShader",value:function(){return(this||_e)._defaultPointShader||((this||_e)._defaultPointShader=new Te.default.Shader(this||_e,this._webGL2CompatibilityPrefix("vert","mediump")+tt.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.pointFrag)),(this||_e)._defaultPointShader}},{key:"_getLineShader",value:function(){return(this||_e)._defaultLineShader||((this||_e)._defaultLineShader=new Te.default.Shader(this||_e,this._webGL2CompatibilityPrefix("vert","mediump")+tt.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.lineFrag)),(this||_e)._defaultLineShader}},{key:"_getFontShader",value:function(){return(this||_e)._defaultFontShader||((this||_e).webglVersion===Me.WEBGL&&(this||_e).GL.getExtension("OES_standard_derivatives"),(this||_e)._defaultFontShader=new Te.default.Shader(this||_e,this._webGL2CompatibilityPrefix("vert","mediump")+tt.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.fontFrag)),(this||_e)._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(xe,we){var Se="";return(this||_e).webglVersion===Me.WEBGL2&&(Se+="#version 300 es\n#define WEBGL2\n"),"vert"===xe?Se+="#define VERTEX_SHADER\n":"frag"===xe&&(Se+="#define FRAGMENT_SHADER\n"),we&&(Se+="precision ".concat(we," float;\n")),Se}},{key:"_getEmptyTexture",value:function(){var xe;return(this||_e)._emptyTexture||((xe=new Te.default.Image(1,1)).set(0,0,255),(this||_e)._emptyTexture=new Te.default.Texture(this||_e,xe)),(this||_e)._emptyTexture}},{key:"getTexture",value:function(xe){xe instanceof Te.default.Framebuffer&&(xe=xe.color);var we=(this||_e).textures.get(xe);return we||(we=new Te.default.Texture(this||_e,xe),(this||_e).textures.set(xe,we),we)}},{key:"getDiffusedTexture",value:function(xe){var we,Se;return null!=(this||_e).diffusedTextures.get(xe)?(this||_e).diffusedTextures.get(xe):(0,we=Math.floor(xe.height/xe.width*200),Se=(we=(this||_e)._pInst.createGraphics(200,we,Me.WEBGL)).createShader(tt.imageLightVert,tt.imageLightDiffusedFrag),we.shader(Se),Se.setUniform("environmentMap",xe),we.noStroke(),we.rectMode(we.CENTER),we.rect(0,0,we.width,we.height),(this||_e).diffusedTextures.set(xe,we),we)}},{key:"getSpecularTexture",value:function(xe){if(null!=(this||_e).specularTextures.get(xe))return(this||_e).specularTextures.get(xe);var we,Se=[],Te=(this||_e)._pInst.createGraphics(512,512,Me.WEBGL),Ye=Math.log(512)/Math.log(2);Te.pixelDensity(1);for(var Ze=512;1<=Ze;Ze/=2){Te.resizeCanvas(Ze,Ze);var Ke=1-Math.log(Ze)/Math.log(2)/Ye,Je=Te.createShader(tt.imageLightVert,tt.imageLightSpecularFrag);Te.shader(Je),Te.clear(),Je.setUniform("environmentMap",xe),Je.setUniform("roughness",Ke),Te.noStroke(),Te.plane(Ze,Ze),Se.push(Te.get().drawingContext.getImageData(0,0,Ze,Ze))}return Te.remove(),we=new Qe.MipmapTexture(this||_e,Se,{}),(this||_e).specularTextures.set(xe,we),we}},{key:"activeFramebuffer",value:function(){return(this||_e).activeFramebuffers[(this||_e).activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(xe){return new Te.default.Framebuffer(this||_e,xe)}},{key:"_setStrokeUniforms",value:function(xe){xe.bindShader(),xe.setUniform("uUseLineColor",(this||_e)._useLineColor),xe.setUniform("uMaterialColor",(this||_e).curStrokeColor),xe.setUniform("uStrokeWeight",(this||_e).curStrokeWeight),xe.setUniform("uStrokeCap",Je[(this||_e).curStrokeCap]),xe.setUniform("uStrokeJoin",$e[(this||_e).curStrokeJoin])}},{key:"_setFillUniforms",value:function(xe){xe.bindShader(),xe.setUniform("uUseVertexColor",(this||_e)._useVertexColor),xe.setUniform("uMaterialColor",(this||_e).curFillColor),xe.setUniform("isTexture",!!(this||_e)._tex),(this||_e)._tex&&xe.setUniform("uSampler",(this||_e)._tex),xe.setUniform("uTint",(this||_e)._tint),xe.setUniform("uHasSetAmbient",(this||_e)._hasSetAmbient),xe.setUniform("uAmbientMatColor",(this||_e).curAmbientColor),xe.setUniform("uSpecularMatColor",(this||_e).curSpecularColor),xe.setUniform("uEmissiveMatColor",(this||_e).curEmissiveColor),xe.setUniform("uSpecular",(this||_e)._useSpecularMaterial),xe.setUniform("uEmissive",(this||_e)._useEmissiveMaterial),xe.setUniform("uShininess",(this||_e)._useShininess),this._setImageLightUniforms(xe),xe.setUniform("uUseLighting",(this||_e)._enableLighting);var we=(this||_e).pointLightDiffuseColors.length/3;we=(xe.setUniform("uPointLightCount",we),xe.setUniform("uPointLightLocation",(this||_e).pointLightPositions),xe.setUniform("uPointLightDiffuseColors",(this||_e).pointLightDiffuseColors),xe.setUniform("uPointLightSpecularColors",(this||_e).pointLightSpecularColors),(this||_e).directionalLightDiffuseColors.length/3),we=(xe.setUniform("uDirectionalLightCount",we),xe.setUniform("uLightingDirection",(this||_e).directionalLightDirections),xe.setUniform("uDirectionalDiffuseColors",(this||_e).directionalLightDiffuseColors),xe.setUniform("uDirectionalSpecularColors",(this||_e).directionalLightSpecularColors),(this||_e).ambientLightColors.length/3),we=(xe.setUniform("uAmbientLightCount",we),xe.setUniform("uAmbientColor",(this||_e).ambientLightColors),(this||_e).spotLightDiffuseColors.length/3);xe.setUniform("uSpotLightCount",we),xe.setUniform("uSpotLightAngle",(this||_e).spotLightAngle),xe.setUniform("uSpotLightConc",(this||_e).spotLightConc),xe.setUniform("uSpotLightDiffuseColors",(this||_e).spotLightDiffuseColors),xe.setUniform("uSpotLightSpecularColors",(this||_e).spotLightSpecularColors),xe.setUniform("uSpotLightLocation",(this||_e).spotLightPositions),xe.setUniform("uSpotLightDirection",(this||_e).spotLightDirections),xe.setUniform("uConstantAttenuation",(this||_e).constantAttenuation),xe.setUniform("uLinearAttenuation",(this||_e).linearAttenuation),xe.setUniform("uQuadraticAttenuation",(this||_e).quadraticAttenuation),xe.bindTextures()}},{key:"_setImageLightUniforms",value:function(xe){var we,Se;xe.setUniform("uUseImageLight",null!=(this||_e).activeImageLight),(this||_e).activeImageLight&&(we=this.getDiffusedTexture((this||_e).activeImageLight),xe.setUniform("environmentMapDiffused",we),we=this.getSpecularTexture((this||_e).activeImageLight),Se=20/(this||_e)._useShininess,xe.setUniform("levelOfDetail",8*Se),xe.setUniform("environmentMapSpecular",we))}},{key:"_setPointUniforms",value:function(xe){xe.bindShader(),xe.setUniform("uMaterialColor",(this||_e).curStrokeColor),xe.setUniform("uPointSize",(this||_e).pointSize*(this||_e)._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(xe,we,Se,Me,Ye){we=we||(this||_e).GL.ARRAY_BUFFER,(this||_e).GL.bindBuffer(we,xe),void 0!==Se&&((xe=Se)instanceof Te.default.DataArray?xe=Se.dataArray():xe instanceof(Me||Float32Array)||(xe=new(Me||Float32Array)(xe)),(this||_e).GL.bufferData(we,xe,Ye||(this||_e).GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(_e,xe){return _e.length===xe.length&&_e.every((function(_e,we){return _e===xe[we]}))}},{key:"_isTypedArray",value:function(_e){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some((function(xe){return _e instanceof xe}))}},{key:"_flatten",value:function(_e){if(0===_e.length)return[];var xe;if(2e4<_e.length){for(var we=[],Se=_e.slice(),Te=Se.pop();Array.isArray(Te)?Se.push.apply(Se,h(Te)):we.push(Te),Se.length&&void 0!==(Te=Se.pop()););return we.reverse(),we}return(xe=[]).concat.apply(xe,h(_e))}},{key:"_vToNArray",value:function(_e){var xe=[],we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=_e[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0){var Ze=Me.value;xe.push(Ze.x,Ze.y,Ze.z)}}catch(_e){Se=!0,Te=_e}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}return xe}},{key:"_bezierCoefficients",value:function(_e){var xe=_e*_e,we=1-_e,Se=we*we;return[Se*we,3*Se*_e,3*we*xe,xe*_e]}},{key:"_quadraticCoefficients",value:function(_e){var xe=1-_e;return[xe*xe,2*xe*_e,_e*_e]}},{key:"_bezierToCatmull",value:function(xe){return[xe[1],xe[1]+(xe[2]-xe[0])/(this||_e)._curveTightness,xe[2]-(xe[3]-xe[1])/(this||_e)._curveTightness,xe[2]]}},{key:"_initTessy",value:function(){var _e=new Ze.default.GluTesselator;return _e.gluTessCallback(Ze.default.gluEnum.GLU_TESS_VERTEX_DATA,(function(_e,xe){for(var we=0;we<_e.length;we++)xe.push(_e[we])})),_e.gluTessCallback(Ze.default.gluEnum.GLU_TESS_BEGIN,(function(_e){_e!==Ze.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(_e))})),_e.gluTessCallback(Ze.default.gluEnum.GLU_TESS_ERROR,(function(_e){console.log("error callback"),console.log("error number: ".concat(_e))})),_e.gluTessCallback(Ze.default.gluEnum.GLU_TESS_COMBINE,(function(_e,xe,we){for(var Se=new Array(Te.default.RendererGL.prototype.tessyVertexSize).fill(0),Me=0;Me<we.length;Me++)for(var Ye=0;Ye<Se.length;Ye++)0!==we[Me]&&xe[Me]&&(Se[Ye]+=xe[Me][Ye]*we[Me]);return Se})),_e.gluTessCallback(Ze.default.gluEnum.GLU_TESS_EDGE_FLAG,(function(_e){})),_e.gluTessProperty(Ze.default.gluEnum.GLU_TESS_WINDING_RULE,Ze.default.windingRule.GLU_TESS_WINDING_NONZERO),_e}},{key:"_triangulate",value:function(xe){var we=xe[0]?xe[0][2]:void 0,Se=!0,Me=!0,Ye=!1,Ze=void 0;try{for(var Qe,Ke=xe[Symbol.iterator]();!(Me=(Qe=Ke.next()).done);Me=!0)for(var Je=Qe.value,$e=0;$e<Je.length;$e+=Te.default.RendererGL.prototype.tessyVertexSize)if(Je[$e+2]!==we){Se=!1;break}}catch(xe){Ye=!0,Ze=xe}finally{try{Me||null==Ke.return||Ke.return()}finally{if(Ye)throw Ze}}Se?(this||_e)._tessy.gluTessNormal(0,0,1):(this||_e)._tessy.gluTessNormal(0,0,0);Ye=[];var et=((this||_e)._tessy.gluTessBeginPolygon(Ye),!0),tt=(Ze=!1,void 0);try{for(var rt,ot=xe[Symbol.iterator]();!(et=(rt=ot.next()).done);et=!0){var nt=rt.value;(this||_e)._tessy.gluTessBeginContour();for(var st=0;st<nt.length;st+=Te.default.RendererGL.prototype.tessyVertexSize){var it=nt.slice(st,st+Te.default.RendererGL.prototype.tessyVertexSize);(this||_e)._tessy.gluTessVertex(it,it)}(this||_e)._tessy.gluTessEndContour()}}catch(xe){Ze=!0,tt=xe}finally{try{et||null==ot.return||ot.return()}finally{if(Ze)throw tt}}return(this||_e)._tessy.gluTessEndPolygon(),Ye}}])&&f(we.prototype,xe),Se&&f(we,Se),s}(Te.default.Renderer),Te.default.prototype._assert3d=function(xe){if(!(this||_e)._renderer.isP3D)throw new Error("".concat(xe,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},Te.default.RendererGL.prototype.tessyVertexSize=12;xe=Te.default.RendererGL;Se.default=xe},{"../core/constants":264,"../core/main":275,"../core/p5.Renderer":278,"./GeometryBuilder":319,"./p5.Camera":324,"./p5.Framebuffer":326,"./p5.Matrix":328,"./p5.Shader":333,"./p5.Texture":334,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.map":169,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.float64-array":212,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int16-array":216,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,libtess:247,path:250}],333:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}Te.default.Shader=function(){function o(xe,we,Se){if(!((this||_e)instanceof o))throw new TypeError("Cannot call a class as a function");(this||_e)._renderer=xe,(this||_e)._vertSrc=we,(this||_e)._fragSrc=Se,(this||_e)._vertShader=-1,(this||_e)._fragShader=-1,(this||_e)._glProgram=0,(this||_e)._loadedAttributes=!1,(this||_e).attributes={},(this||_e)._loadedUniforms=!1,(this||_e).uniforms={},(this||_e)._bound=!1,(this||_e).samplers=[]}var xe,we,Se;return xe=o,(we=[{key:"init",value:function(){if(0===(this||_e)._glProgram){var xe=(this||_e)._renderer.GL;if((this||_e)._vertShader=xe.createShader(xe.VERTEX_SHADER),xe.shaderSource((this||_e)._vertShader,(this||_e)._vertSrc),xe.compileShader((this||_e)._vertShader),!xe.getShaderParameter((this||_e)._vertShader,xe.COMPILE_STATUS))return Te.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(xe.getShaderInfoLog((this||_e)._vertShader))),null;if((this||_e)._fragShader=xe.createShader(xe.FRAGMENT_SHADER),xe.shaderSource((this||_e)._fragShader,(this||_e)._fragSrc),xe.compileShader((this||_e)._fragShader),!xe.getShaderParameter((this||_e)._fragShader,xe.COMPILE_STATUS))return Te.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(xe.getShaderInfoLog((this||_e)._fragShader))),null;(this||_e)._glProgram=xe.createProgram(),xe.attachShader((this||_e)._glProgram,(this||_e)._vertShader),xe.attachShader((this||_e)._glProgram,(this||_e)._fragShader),xe.linkProgram((this||_e)._glProgram),xe.getProgramParameter((this||_e)._glProgram,xe.LINK_STATUS)||Te.default._friendlyError("Snap! Error linking shader program: ".concat(xe.getProgramInfoLog((this||_e)._glProgram))),this._loadAttributes(),this._loadUniforms()}return this||_e}},{key:"copyToContext",value:function(xe){var we=new Te.default.Shader(xe._renderer,(this||_e)._vertSrc,(this||_e)._fragSrc);return we.ensureCompiledOnContext(xe),we}},{key:"ensureCompiledOnContext",value:function(xe){if(0!==(this||_e)._glProgram&&(this||_e)._renderer!==xe._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===(this||_e)._glProgram&&((this||_e)._renderer=xe._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!(this||_e)._loadedAttributes){(this||_e).attributes={};for(var xe=(this||_e)._renderer.GL,we=xe.getProgramParameter((this||_e)._glProgram,xe.ACTIVE_ATTRIBUTES),Se=0;Se<we;++Se){var Te=xe.getActiveAttrib((this||_e)._glProgram,Se),Me=Te.name,Ye=xe.getAttribLocation((this||_e)._glProgram,Me),Ze={};Ze.name=Me,Ze.location=Ye,Ze.index=Se,Ze.type=Te.type,Ze.size=Te.size,(this||_e).attributes[Me]=Ze}(this||_e)._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!(this||_e)._loadedUniforms){for(var xe=(this||_e)._renderer.GL,we=xe.getProgramParameter((this||_e)._glProgram,xe.ACTIVE_UNIFORMS),Se=0,Te=0;Te<we;++Te){var Me=xe.getActiveUniform((this||_e)._glProgram,Te),Ye={},Ze=(Ye.location=xe.getUniformLocation((this||_e)._glProgram,Me.name),Ye.size=Me.size,Me.name);1<Me.size&&(Ze=Ze.substring(0,Ze.indexOf("[0]"))),Ye.name=Ze,Ye.type=Me.type,Ye._cachedData=void 0,Ye.type===xe.SAMPLER_2D&&(Ye.samplerIndex=Se,Se++,(this||_e).samplers.push(Ye)),Ye.isArray=1<Me.size||Ye.type===xe.FLOAT_MAT3||Ye.type===xe.FLOAT_MAT4||Ye.type===xe.FLOAT_VEC2||Ye.type===xe.FLOAT_VEC3||Ye.type===xe.FLOAT_VEC4||Ye.type===xe.INT_VEC2||Ye.type===xe.INT_VEC4||Ye.type===xe.INT_VEC3,(this||_e).uniforms[Ze]=Ye}(this||_e)._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),(this||_e)._bound||(this.useProgram(),(this||_e)._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",(this||_e)._renderer._viewport))}},{key:"unbindShader",value:function(){return(this||_e)._bound&&(this.unbindTextures(),(this||_e)._bound=!1),this||_e}},{key:"bindTextures",value:function(){var xe=(this||_e)._renderer.GL,we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=(this||_e).samplers[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0){var Ze=Me.value,Qe=Ze.texture;void 0===Qe&&(Qe=(this||_e)._renderer._getEmptyTexture()),xe.activeTexture(xe.TEXTURE0+Ze.samplerIndex),Qe.bindTexture(),Qe.update(),xe.uniform1i(Ze.location,Ze.samplerIndex)}}catch(xe){Se=!0,Te=xe}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}}},{key:"updateTextures",value:function(){var xe=!0,we=!1,Se=void 0;try{for(var Te,Me=(this||_e).samplers[Symbol.iterator]();!(xe=(Te=Me.next()).done);xe=!0){var Ye=Te.value.texture;Ye&&Ye.update()}}catch(xe){we=!0,Se=xe}finally{try{xe||null==Me.return||Me.return()}finally{if(we)throw Se}}}},{key:"unbindTextures",value:function(){var xe=!0,we=!1,Se=void 0;try{for(var Te,Me=(this||_e).samplers[Symbol.iterator]();!(xe=(Te=Me.next()).done);xe=!0){var Ye=Te.value;this.setUniform(Ye.name,(this||_e)._renderer._getEmptyTexture())}}catch(xe){we=!0,Se=xe}finally{try{xe||null==Me.return||Me.return()}finally{if(we)throw Se}}}},{key:"_setMatrixUniforms",value:function(){var xe=(this||_e)._renderer._curCamera.cameraMatrix,we=(this||_e)._renderer.uPMatrix,Se=(this||_e)._renderer.uMVMatrix,Te=Se.copy();Te.mult(we),this.isStrokeShader()&&("default"===(this||_e)._renderer._curCamera.cameraType?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",xe.mat4),this.setUniform("uProjectionMatrix",we.mat4),this.setUniform("uModelViewMatrix",Se.mat4),this.setUniform("uModelViewProjectionMatrix",Te.mat4),(this||_e).uniforms.uNormalMatrix&&((this||_e)._renderer.uNMatrix.inverseTranspose((this||_e)._renderer.uMVMatrix),this.setUniform("uNormalMatrix",(this||_e)._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var xe=(this||_e)._renderer.GL;return(this||_e)._renderer._curShader!==(this||_e)&&(xe.useProgram((this||_e)._glProgram),(this||_e)._renderer._curShader=this||_e),this||_e}},{key:"setUniform",value:function(xe,we){var Se=(this||_e).uniforms[xe];if(Se){var Me=(this||_e)._renderer.GL;if(Se.isArray){if(Se._cachedData&&(this||_e)._renderer._arraysEqual(Se._cachedData,we))return;Se._cachedData=we.slice(0)}else{if(Se._cachedData&&Se._cachedData===we)return;Array.isArray(we)?Se._cachedData=we.slice(0):Se._cachedData=we}var Ye=Se.location;switch(this.useProgram(),Se.type){case Me.BOOL:!0===we?Me.uniform1i(Ye,1):Me.uniform1i(Ye,0);break;case Me.INT:1<Se.size?we.length&&Me.uniform1iv(Ye,we):Me.uniform1i(Ye,we);break;case Me.FLOAT:1<Se.size?we.length&&Me.uniform1fv(Ye,we):Me.uniform1f(Ye,we);break;case Me.FLOAT_MAT3:Me.uniformMatrix3fv(Ye,!1,we);break;case Me.FLOAT_MAT4:Me.uniformMatrix4fv(Ye,!1,we);break;case Me.FLOAT_VEC2:1<Se.size?we.length&&Me.uniform2fv(Ye,we):Me.uniform2f(Ye,we[0],we[1]);break;case Me.FLOAT_VEC3:1<Se.size?we.length&&Me.uniform3fv(Ye,we):Me.uniform3f(Ye,we[0],we[1],we[2]);break;case Me.FLOAT_VEC4:1<Se.size?we.length&&Me.uniform4fv(Ye,we):Me.uniform4f(Ye,we[0],we[1],we[2],we[3]);break;case Me.INT_VEC2:1<Se.size?we.length&&Me.uniform2iv(Ye,we):Me.uniform2i(Ye,we[0],we[1]);break;case Me.INT_VEC3:1<Se.size?we.length&&Me.uniform3iv(Ye,we):Me.uniform3i(Ye,we[0],we[1],we[2]);break;case Me.INT_VEC4:1<Se.size?we.length&&Me.uniform4iv(Ye,we):Me.uniform4i(Ye,we[0],we[1],we[2],we[3]);break;case Me.SAMPLER_2D:Me.activeTexture(Me.TEXTURE0+Se.samplerIndex),Se.texture=we instanceof Te.default.Texture?we:(this||_e)._renderer.getTexture(we),Me.uniform1i(Ye,Se.samplerIndex),Se.texture.src.gifProperties&&Se.texture.src._animateGif((this||_e)._renderer._pInst)}return this||_e}}},{key:"isLightShader",value:function(){return void 0!==(this||_e).attributes.aNormal||void 0!==(this||_e).uniforms.uUseLighting||void 0!==(this||_e).uniforms.uAmbientLightCount||void 0!==(this||_e).uniforms.uDirectionalLightCount||void 0!==(this||_e).uniforms.uPointLightCount||void 0!==(this||_e).uniforms.uAmbientColor||void 0!==(this||_e).uniforms.uDirectionalDiffuseColors||void 0!==(this||_e).uniforms.uDirectionalSpecularColors||void 0!==(this||_e).uniforms.uPointLightLocation||void 0!==(this||_e).uniforms.uPointLightDiffuseColors||void 0!==(this||_e).uniforms.uPointLightSpecularColors||void 0!==(this||_e).uniforms.uLightingDirection||void 0!==(this||_e).uniforms.uSpecular}},{key:"isNormalShader",value:function(){return void 0!==(this||_e).attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<(this||_e).samplers.length}},{key:"isColorShader",value:function(){return void 0!==(this||_e).attributes.aVertexColor||void 0!==(this||_e).uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==(this||_e).uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(xe,we,Se,Te,Me,Ye){var Ze;return xe&&-1!==(xe=xe.location)&&(Ze=(this||_e)._renderer.GL,(this||_e)._renderer.registerEnabled.has(xe)||(Ze.enableVertexAttribArray(xe),(this||_e)._renderer.registerEnabled.add(xe)),(this||_e)._renderer.GL.vertexAttribPointer(xe,we,Se||Ze.FLOAT,Te||!1,Me||0,Ye||0)),this||_e}},{key:"disableRemainingAttributes",value:function(){var xe=this||_e,we=!0,Se=!1,Te=void 0;try{for(var Me,Ye=(this||_e)._renderer.registerEnabled.values()[Symbol.iterator]();!(we=(Me=Ye.next()).done);we=!0)!function(){var _e=Me.value;Object.keys(xe.attributes).some((function(we){return xe.attributes[we].location===_e}))||(xe._renderer.GL.disableVertexAttribArray(_e),xe._renderer.registerEnabled.delete(_e))}()}catch(we){Se=!0,Te=we}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}}}])&&n(xe.prototype,we),Se&&n(xe,Se),o}();xe=Te.default.Shader;Se.default=xe},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],334:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.checkWebGLCapabilities=m,Se.default=Se.MipmapTexture=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Me=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=l();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function l(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,l=function(){return _e},_e)}function u(_e,xe){return(u=Object.setPrototypeOf||function(_e,xe){return _e.__proto__=xe,_e})(_e,xe)}function c(xe){return function(){var we,Se=n(xe);Se=(we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(_e){}}}()?(we=n(this||_e).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||_e,arguments),this||_e);if(!we||"object"!==i(we)&&"function"!=typeof we){if(void 0!==Se)return Se;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return we}}function n(_e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(_e)}function d(_e,xe){if(!(_e instanceof xe))throw new TypeError("Cannot call a class as a function")}function h(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function f(_e,xe,we){xe&&h(_e.prototype,xe),we&&h(_e,we)}Te.default.Texture=function(){function n(xe,we,Se){d(this||_e,n),(this||_e)._renderer=xe;var Me=(this||_e)._renderer.GL;Se=(Se=Se||{},(this||_e).src=we,(this||_e).glTex=void 0,(this||_e).glTarget=Me.TEXTURE_2D,(this||_e).glFormat=Se.format||Me.RGBA,(this||_e).mipmaps=!1,(this||_e).glMinFilter=Se.minFilter||Me.LINEAR,(this||_e).glMagFilter=Se.magFilter||Me.LINEAR,(this||_e).glWrapS=Se.wrapS||Me.CLAMP_TO_EDGE,(this||_e).glWrapT=Se.wrapT||Me.CLAMP_TO_EDGE,(this||_e).glDataType=Se.dataType||Me.UNSIGNED_BYTE,m(xe)),xe=((this||_e).glFormat!==Me.HALF_FLOAT||Se.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),(this||_e).glDataType=Me.FLOAT),(this||_e).glFormat!==Me.HALF_FLOAT||(this||_e).glMinFilter!==Me.LINEAR&&(this||_e).glMagFilter!==Me.LINEAR||Se.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),(this||_e).glMinFilter===Me.LINEAR&&((this||_e).glMinFilter=Me.NEAREST),(this||_e).glMagFilter===Me.LINEAR&&((this||_e).glMagFilter=Me.NEAREST)),(this||_e).glFormat!==Me.FLOAT||Se.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),(this||_e).glDataType=Me.UNSIGNED_BYTE),(this||_e).glFormat!==Me.FLOAT||(this||_e).glMinFilter!==Me.LINEAR&&(this||_e).glMagFilter!==Me.LINEAR||Se.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),(this||_e).glMinFilter===Me.LINEAR&&((this||_e).glMinFilter=Me.NEAREST),(this||_e).glMagFilter===Me.LINEAR&&((this||_e).glMagFilter=Me.NEAREST)),(this||_e).isSrcMediaElement=void 0!==Te.default.MediaElement&&we instanceof Te.default.MediaElement,(this||_e)._videoPrevUpdateTime=0,(this||_e).isSrcHTMLElement=void 0!==Te.default.Element&&we instanceof Te.default.Element&&!(we instanceof Te.default.Graphics)&&!(we instanceof Te.default.Renderer),(this||_e).isSrcP5Image=we instanceof Te.default.Image,(this||_e).isSrcP5Graphics=we instanceof Te.default.Graphics,(this||_e).isSrcP5Renderer=we instanceof Te.default.Renderer,(this||_e).isImageData="undefined"!=typeof ImageData&&we instanceof ImageData,(this||_e).isFramebufferTexture=we instanceof Te.default.FramebufferTexture,this._getTextureDataFromSource());return(this||_e).width=xe.width,(this||_e).height=xe.height,this.init(xe),this||_e}return f(n,[{key:"_getTextureDataFromSource",value:function(){var xe;return(this||_e).isFramebufferTexture?xe=(this||_e).src.rawTexture():(this||_e).isSrcP5Image?xe=(this||_e).src.canvas:(this||_e).isSrcMediaElement||(this||_e).isSrcP5Graphics||(this||_e).isSrcP5Renderer||(this||_e).isSrcHTMLElement?xe=(this||_e).src.elt:(this||_e).isImageData&&(xe=(this||_e).src),xe}},{key:"init",value:function(xe){var we,Se=(this||_e)._renderer.GL;(this||_e).isFramebufferTexture||((this||_e).glTex=Se.createTexture()),(this||_e).glWrapS=(this||_e)._renderer.textureWrapX,(this||_e).glWrapT=(this||_e)._renderer.textureWrapY,this.setWrapMode((this||_e).glWrapS,(this||_e).glWrapT),this.bindTexture(),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_MAG_FILTER,(this||_e).glMagFilter),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_MIN_FILTER,(this||_e).glMinFilter),(this||_e).isFramebufferTexture||(0===(this||_e).width||0===(this||_e).height||(this||_e).isSrcMediaElement&&!(this||_e).src.loadedmetadata?(we=new Uint8Array([1,1,1,1]),Se.texImage2D((this||_e).glTarget,0,Se.RGBA,1,1,0,(this||_e).glFormat,(this||_e).glDataType,we)):Se.texImage2D((this||_e).glTarget,0,(this||_e).glFormat,(this||_e).glFormat,(this||_e).glDataType,xe))}},{key:"update",value:function(){var xe,we,Se,Te=(this||_e).src;return 0!==Te.width&&0!==Te.height&&!(this||_e).isFramebufferTexture&&(xe=this._getTextureDataFromSource(),we=!1,Se=(this||_e)._renderer.GL,xe.width!==(this||_e).width||xe.height!==(this||_e).height?(we=!0,(this||_e).width=xe.width||Te.width,(this||_e).height=xe.height||Te.height,(this||_e).isSrcP5Image?Te.setModified(!1):((this||_e).isSrcMediaElement||(this||_e).isSrcHTMLElement)&&Te.setModified(!0)):(this||_e).isSrcP5Image?Te.isModified()&&Te.setModified(!(we=!0)):(this||_e).isSrcMediaElement?Te.isModified()?Te.setModified(!(we=!0)):Te.loadedmetadata&&(this||_e)._videoPrevUpdateTime!==Te.time()&&((this||_e)._videoPrevUpdateTime=Te.time(),we=!0):(this||_e).isImageData?Te._dirty&&(we=!(Te._dirty=!1)):we=!0,we&&(this.bindTexture(),Se.texImage2D((this||_e).glTarget,0,(this||_e).glFormat,(this||_e).glFormat,(this||_e).glDataType,xe)),we)}},{key:"bindTexture",value:function(){return(this||_e)._renderer.GL.bindTexture((this||_e).glTarget,this.getTexture()),this||_e}},{key:"unbindTexture",value:function(){(this||_e)._renderer.GL.bindTexture((this||_e).glTarget,null)}},{key:"getTexture",value:function(){return(this||_e).isFramebufferTexture?(this||_e).src.rawTexture():(this||_e).glTex}},{key:"setInterpolation",value:function(xe,we){var Se=(this||_e)._renderer.GL;(this||_e).glMinFilter=this.glFilter(xe),(this||_e).glMagFilter=this.glFilter(we),this.bindTexture(),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_MIN_FILTER,(this||_e).glMinFilter),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_MAG_FILTER,(this||_e).glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(xe){var we=(this||_e)._renderer.GL;return xe===Me.NEAREST?we.NEAREST:we.LINEAR}},{key:"setWrapMode",value:function(xe,we){function r(_e){return 0==(_e&_e-1)}var Se=(this||_e)._renderer.GL,Te=this._getTextureDataFromSource(),Ye=(Te=Te.naturalWidth&&Te.naturalHeight?(Ye=Te.naturalWidth,Te.naturalHeight):(Ye=(this||_e).width,(this||_e).height),r(Ye));Te=r(Te);xe===Me.REPEAT?(this||_e)._renderer.webglVersion===Me.WEBGL2||Ye&&Te?(this||_e).glWrapS=Se.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),(this||_e).glWrapS=Se.CLAMP_TO_EDGE):xe===Me.MIRROR?(this||_e)._renderer.webglVersion===Me.WEBGL2||Ye&&Te?(this||_e).glWrapS=Se.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),(this||_e).glWrapS=Se.CLAMP_TO_EDGE):(this||_e).glWrapS=Se.CLAMP_TO_EDGE,we===Me.REPEAT?(this||_e)._renderer.webglVersion===Me.WEBGL2||Ye&&Te?(this||_e).glWrapT=Se.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),(this||_e).glWrapT=Se.CLAMP_TO_EDGE):we===Me.MIRROR?(this||_e)._renderer.webglVersion===Me.WEBGL2||Ye&&Te?(this||_e).glWrapT=Se.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),(this||_e).glWrapT=Se.CLAMP_TO_EDGE):(this||_e).glWrapT=Se.CLAMP_TO_EDGE,this.bindTexture(),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_WRAP_S,(this||_e).glWrapS),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_WRAP_T,(this||_e).glWrapT),this.unbindTexture()}}]),n}();var Ye=function(xe){var we=n;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&u(we,xe);var Se=c(n);function n(xe,we,Te){d(this||_e,n);we=(xe=Se.call(this||_e,xe,we,Te))._renderer.GL;return xe.glMinFilter===we.LINEAR&&(xe.glMinFilter=we.LINEAR_MIPMAP_LINEAR),xe}return f(n,[{key:"glFilter",value:function(xe){return(this||_e)._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return(this||_e).src}},{key:"init",value:function(xe){var we=(this||_e)._renderer.GL;(this||_e).glTex=we.createTexture(),this.bindTexture();for(var Se=0;Se<xe.length;Se++)we.texImage2D((this||_e).glTarget,Se,(this||_e).glFormat,(this||_e).glFormat,(this||_e).glDataType,xe[Se]);(this||_e).glMinFilter=we.LINEAR_MIPMAP_LINEAR,we.texParameteri(we.TEXTURE_2D,we.TEXTURE_MAG_FILTER,(this||_e).glMagFilter),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_MIN_FILTER,(this||_e).glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),n}(Te.default.Texture);function m(_e){var xe=_e.GL,we=(_e=_e.webglVersion,_e===Me.WEBGL2?xe.getExtension("EXT_color_buffer_float")&&xe.getExtension("EXT_float_blend"):xe.getExtension("OES_texture_float")),Se=we&&xe.getExtension("OES_texture_float_linear");_e=_e===Me.WEBGL2?xe.getExtension("EXT_color_buffer_float"):xe.getExtension("OES_texture_half_float");return{float:we,floatLinear:Se,halfFloat:_e,halfFloatLinear:_e&&xe.getExtension("OES_texture_half_float_linear")}}Se.MipmapTexture=Ye;xe=Te.default.Texture;Se.default=xe},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],335:[function(xe,we,Se){function o(_e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(_e)}function i(_e){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(_e){return o(_e)}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":o(_e)})(_e)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/web.dom-collections.iterator");var Te,Me=(Te=xe("../core/main"))&&Te.__esModule?Te:{default:Te},Ye=function(_e){if(_e&&_e.__esModule)return _e;if(null===_e||"object"!==i(_e)&&"function"!=typeof _e)return{default:_e};var xe=a();if(xe&&xe.has(_e))return xe.get(_e);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in _e){var Me;Object.prototype.hasOwnProperty.call(_e,we)&&((Me=Te?Object.getOwnPropertyDescriptor(_e,we):null)&&(Me.get||Me.set)?Object.defineProperty(Se,we,Me):Se[we]=_e[we])}Se.default=_e,xe&&xe.set(_e,Se);return Se}(xe("../core/constants"));function a(){var _e;return"function"!=typeof WeakMap?null:(_e=new WeakMap,a=function(){return _e},_e)}function G(_e,xe){if(!(_e instanceof xe))throw new TypeError("Cannot call a class as a function")}function s(_e,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}function V(_e,xe,we){xe&&s(_e.prototype,xe),we&&s(_e,we)}xe("./p5.Shader"),xe("./p5.RendererGL.Retained"),Me.default.RendererGL.prototype._applyTextProperties=function(){},Me.default.RendererGL.prototype.textWidth=function(xe){return this._isOpenType()?(this||_e)._textFont._textWidth(xe,(this||_e)._textSize):0};var Ze=function(){function r(xe,we){G(this||_e,r),(this||_e).width=xe,(this||_e).height=we,(this||_e).infos=[]}return V(r,[{key:"findImage",value:function(xe){var we,Se,Te=(this||_e).width*(this||_e).height;if(Te<xe)throw new Error("font is too complex to render in 3D");for(var Me=(this||_e).infos.length-1;0<=Me;--Me){var Ye=(this||_e).infos[Me];if(Ye.index+xe<Te){Se=(we=Ye).imageData;break}}if(!we){try{Se=new ImageData((this||_e).width,(this||_e).height)}catch(xe){var Ze=document.getElementsByTagName("canvas")[0],Qe=!Ze,Ke=(Ze||((Ze=document.createElement("canvas")).style.display="none",document.body.appendChild(Ze)),Ze.getContext("2d"));Ke&&(Se=Ke.createImageData((this||_e).width,(this||_e).height)),Qe&&document.body.removeChild(Ze)}(this||_e).infos.push(we={index:0,imageData:Se})}Ke=we.index;return we.index+=xe,Se._dirty=!0,{imageData:Se,index:Ke}}}]),r}();function z(_e,xe,we,Se,Te){var Me=_e.imageData.data;_e=4*_e.index++;Me[_e++]=xe,Me[_e++]=we,Me[_e++]=Se,Me[+_e]=Te}var Qe=Math.sqrt(3),Ke=function(){function t(xe){G(this||_e,t),(this||_e).font=xe,(this||_e).strokeImageInfos=new Ze(64,64),(this||_e).colDimImageInfos=new Ze(64,64),(this||_e).rowDimImageInfos=new Ze(64,64),(this||_e).colCellImageInfos=new Ze(64,64),(this||_e).rowCellImageInfos=new Ze(64,64),(this||_e).glyphInfos={}}return V(t,[{key:"getGlyphInfo",value:function(xe){var we=(this||_e).glyphInfos[xe.index];if(!we){var Se=xe.getBoundingBox(),Te=Se.x1,Ye=Se.y1,Ze=Se.x2-Te,Ke=Se.y2-Ye,Je=xe.path.commands;if(0==Ze||0==Ke||!Je.length)return(this||_e).glyphInfos[xe.index]={};for(var $e=[],et=[],tt=[],rt=8;0<=rt;--rt)tt.push([]);for(rt=8;0<=rt;--rt)et.push([]);var ot,nt,st,it,dt=function(){function n(xe,we,Se,Te){G(this||_e,n),(this||_e).p0=xe,(this||_e).c0=we,(this||_e).c1=Se,(this||_e).p1=Te}return V(n,[{key:"toQuadratic",value:function(){return{x:(this||_e).p0.x,y:(this||_e).p0.y,x1:(this||_e).p1.x,y1:(this||_e).p1.y,cx:(3*((this||_e).c0.x+(this||_e).c1.x)-((this||_e).p0.x+(this||_e).p1.x))/4,cy:(3*((this||_e).c0.y+(this||_e).c1.y)-((this||_e).p0.y+(this||_e).p1.y))/4}}},{key:"quadError",value:function(){return Me.default.Vector.sub(Me.default.Vector.sub((this||_e).p1,(this||_e).p0),Me.default.Vector.mult(Me.default.Vector.sub((this||_e).c1,(this||_e).c0),3)).mag()/2}},{key:"split",value:function(xe){var we=Me.default.Vector.lerp((this||_e).p0,(this||_e).c0,xe),Se=Me.default.Vector.lerp((this||_e).c0,(this||_e).c1,xe),Te=Me.default.Vector.lerp(we,Se,xe);Se=((this||_e).c1=Me.default.Vector.lerp((this||_e).c1,(this||_e).p1,xe),(this||_e).c0=Me.default.Vector.lerp(Se,(this||_e).c1,xe),Me.default.Vector.lerp(Te,(this||_e).c0,xe)),xe=new n((this||_e).p0,we,Te,Se);return(this||_e).p0=Se,xe}},{key:"splitInflections",value:function(){var xe=Me.default.Vector.sub((this||_e).c0,(this||_e).p0),we=Me.default.Vector.sub(Me.default.Vector.sub((this||_e).c1,(this||_e).c0),xe),Se=Me.default.Vector.sub(Me.default.Vector.sub(Me.default.Vector.sub((this||_e).p1,(this||_e).c1),xe),Me.default.Vector.mult(we,2)),Te=[],Ye=we.x*Se.y-we.y*Se.x;return 0!==Ye&&0<=(xe=(Se=xe.x*Se.y-xe.y*Se.x)*Se-4*Ye*(xe.x*we.y-xe.y*we.x))&&(Ye<0&&(Ye=-Ye,Se=-Se,0),xe=(-Se+(we=Math.sqrt(xe)))/(2*Ye),0<(Se=(-Se-we)/(2*Ye))&&Se<1&&(Te.push(this.split(Se)),xe=1-(1-xe)/(1-Se)),0<xe&&xe<1&&Te.push(this.split(xe))),Te.push(this||_e),Te}}]),n}(),ht=!0,ft=!1,pt=void 0;try{for(var mt,yt=Je[Symbol.iterator]();!(ht=(mt=yt.next()).done);ht=!0){var gt=mt.value,wt=(gt.x-Te)/Ze,Dt=(gt.y-Ye)/Ke;if(!U(ot,nt,wt,Dt)){switch(gt.type){case"M":st=wt,it=Dt;break;case"L":I(ot,nt,wt,Dt);break;case"Q":var Xt=(gt.x1-Te)/Ze,Yt=(gt.y1-Ye)/Ke;L([ot,wt,Xt],[nt,Dt,Yt],{x:ot,y:nt,cx:Xt,cy:Yt});break;case"Z":U(ot,nt,st,it)?$e.push({x:ot,y:nt}):(I(ot,nt,st,it),$e.push({x:st,y:it}));break;case"C":for(var br=function(_e,xe,we,Se,Te,Ye,Ze,Ke){_e=new dt(new Me.default.Vector(_e,xe),new Me.default.Vector(we,Se),new Me.default.Vector(Te,Ye),new Me.default.Vector(Ze,Ke)).splitInflections();var Je=[],$e=30/Qe,et=!0;xe=!1,we=void 0;try{for(var tt,rt=_e[Symbol.iterator]();!(et=(tt=rt.next()).done);et=!0){for(var ot=tt.value,nt=[],st=void 0;!(.125<=(st=$e/ot.quadError()));){var it=Math.pow(st,1/3),ht=ot.split(it),ft=ot.split(1-it/(1-it));Je.push(ht),nt.push(ot),ot=ft}st<1&&Je.push(ot.split(.5)),Je.push(ot),Array.prototype.push.apply(Je,nt.reverse())}}catch(_e){xe=!0,we=_e}finally{try{et||null==rt.return||rt.return()}finally{if(xe)throw we}}return Je}(ot,nt,(gt.x1-Te)/Ze,(gt.y1-Ye)/Ke,(gt.x2-Te)/Ze,(gt.y2-Ye)/Ke,wt,Dt),jr=0;jr<br.length;jr++){var xr=br[jr].toQuadratic();L([xr.x,xr.x1,xr.cx],[xr.y,xr.y1,xr.cy],xr)}break;default:throw new Error("unknown command type: ".concat(gt.type))}ot=wt,nt=Dt}}}catch(xe){ft=!0,pt=xe}finally{try{ht||null==yt.return||yt.return()}finally{if(ft)throw pt}}for(var wr=$e.length,Sr=(this||_e).strokeImageInfos.findImage(wr),Tr=Sr.index,Mr=0;Mr<wr;++Mr){var Pr=$e[Mr];z(Sr,R(Pr.x),R(Pr.y),R(Pr.cx),R(Pr.cy))}(we=(this||_e).glyphInfos[xe.index]={glyph:xe,uGlyphRect:[Se.x1,-Se.y1,Se.x2,-Se.y2],strokeImageInfo:Sr,strokes:$e,colInfo:N(tt,(this||_e).colDimImageInfos,(this||_e).colCellImageInfos),rowInfo:N(et,(this||_e).rowDimImageInfos,(this||_e).rowCellImageInfos)}).uGridOffset=[we.colInfo.dimOffset,we.rowInfo.dimOffset]}return we;function L(_e,xe,we){var Se=$e.length;function n(_e,xe,we){for(var Se=_e.length;0<Se--;){var Te=_e[Se];Te<xe&&(xe=Te),we<Te&&(we=Te)}return{min:xe,max:we}}$e.push(we);we=n(_e,1,0),_e=Math.max(Math.floor(9*we.min-.5),0);for(var Te=Math.min(Math.ceil(9*we.max+.5),9),Me=_e;Me<Te;++Me)tt[Me].push(Se);we=n(xe,1,0),_e=Math.max(Math.floor(9*we.min-.5),0);for(var Ye=Math.min(Math.ceil(9*we.max+.5),9),Ze=_e;Ze<Ye;++Ze)et[Ze].push(Se)}function R(_e){return(_e=(we=255)*_e)<(xe=0)?xe:we<_e?we:_e;var xe,we}function I(_e,xe,we,Se){L([_e,we],[xe,Se],{x:_e,y:xe,cx:(_e+we)/2,cy:(xe+Se)/2})}function U(_e,xe,we,Se){return Math.abs(we-_e)<1e-5&&Math.abs(Se-xe)<1e-5}function N(_e,xe,we){for(var Se=_e.length,Te=xe.findImage(Se),Me=(xe=Te.index,0),Ye=0;Ye<Se;++Ye)Me+=_e[Ye].length;for(var Ze=we.findImage(Me),Qe=0;Qe<Se;++Qe){var Ke=_e[Qe],Je=Ke.length,$e=Ze.index;z(Te,$e>>7,127&$e,Je>>7,127&Je);for(var et=0;et<Je;++et){var tt=Ke[et]+Tr;z(Ze,tt>>7,127&tt,0,0)}}return{cellImageInfo:Ze,dimOffset:xe,dimImageInfo:Te}}}}]),t}();Me.default.RendererGL.prototype._renderText=function(xe,we,Se,Te,Ze){if((this||_e)._textFont&&"string"!=typeof(this||_e)._textFont){if(!(Ze<=Te)&&(this||_e)._doFill){if(this._isOpenType()){xe.push();Ze=(this||_e)._doStroke;var Qe=(this||_e).drawMode,Je=((this||_e)._doStroke=!1,(this||_e).drawMode=Ye.TEXTURE,(this||_e)._textFont.font),$e=($e=(this||_e)._textFont._fontInfo)||((this||_e)._textFont._fontInfo=new Ke(Je)),et=(Se=(this||_e)._textFont._handleAlignment(this||_e,we,Se,Te),Te=(this||_e)._textSize/Je.unitsPerEm,this.translate(Se.x,Se.y,0),this.scale(Te,Te,1),(this||_e).GL),tt=(Se=!(this||_e)._defaultFontShader,this._getFontShader()),rt=(tt.init(),tt.bindShader(),Se&&(tt.setUniform("uGridImageSize",[64,64]),tt.setUniform("uCellsImageSize",[64,64]),tt.setUniform("uStrokeImageSize",[64,64]),tt.setUniform("uGridSize",[9,9])),this._applyColorBlend((this||_e).curFillColor),(this||_e).retainedMode.geometry.glyph),ot=(rt||((Te=(this||_e)._textGeom=new Me.default.Geometry(1,1,(function(){for(var xe=0;xe<=1;xe++)for(var we=0;we<=1;we++)(this||_e).vertices.push(new Me.default.Vector(we,xe,0)),(this||_e).uvs.push(we,xe)}))).computeFaces().computeNormals(),rt=this.createBuffers("glyph",Te)),!0);Se=!1,Te=void 0;try{for(var nt,st=(this||_e).retainedMode.buffers.text[Symbol.iterator]();!(ot=(nt=st.next()).done);ot=!0)nt.value._prepareBuffer(rt,tt)}catch(xe){Se=!0,Te=xe}finally{try{ot||null==st.return||st.return()}finally{if(Se)throw Te}}this._bindBuffer(rt.indexBuffer,et.ELEMENT_ARRAY_BUFFER),tt.setUniform("uMaterialColor",(this||_e).curFillColor),et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var it=0,dt=null,ht=Je.stringToGlyphs(we),ft=!0,pt=!1,mt=void 0;try{for(var yt,gt=ht[Symbol.iterator]();!(ft=(yt=gt.next()).done);ft=!0){var wt,Dt,Xt=yt.value,Yt=(dt&&(it+=Je.getKerningValue(dt,Xt)),$e.getGlyphInfo(Xt));Yt.uGlyphRect&&(wt=Yt.rowInfo,Dt=Yt.colInfo,tt.setUniform("uSamplerStrokes",Yt.strokeImageInfo.imageData),tt.setUniform("uSamplerRowStrokes",wt.cellImageInfo.imageData),tt.setUniform("uSamplerRows",wt.dimImageInfo.imageData),tt.setUniform("uSamplerColStrokes",Dt.cellImageInfo.imageData),tt.setUniform("uSamplerCols",Dt.dimImageInfo.imageData),tt.setUniform("uGridOffset",Yt.uGridOffset),tt.setUniform("uGlyphRect",Yt.uGlyphRect),tt.setUniform("uGlyphOffset",it),tt.bindTextures(),et.drawElements(et.TRIANGLES,6,(this||_e).GL.UNSIGNED_SHORT,0)),it+=Xt.advanceWidth,dt=Xt}}catch(xe){pt=!0,mt=xe}finally{try{ft||null==gt.return||gt.return()}finally{if(pt)throw mt}}}finally{tt.unbindShader(),(this||_e)._doStroke=Ze,(this||_e).drawMode=Qe,et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),xe.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return xe}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":264,"../core/main":275,"./p5.RendererGL.Retained":331,"./p5.Shader":333,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}]},{},[259])(259)}));var we=xe;export{we as default};

